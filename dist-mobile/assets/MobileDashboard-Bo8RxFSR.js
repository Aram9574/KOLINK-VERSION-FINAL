const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PostGenerator-GtRfiEo6.js","assets/main-D4rUg9hT.js","assets/main-DQH4GPG_.css","assets/OnboardingFlow-YMNdJgQg.js","assets/user-plus-B1Gef77t.js"])))=>i.map(i=>d[i]);
import{c as y,s as A,r as x,t as S,f as ot,j as e,u as W,R as ee,b as Me,T as te,d as it,F as lt,e as dt,g as ct,h as mt,i as ut,k as ht,P as oe,l as xt,_ as Ie,m as ft}from"./main-D4rUg9hT.js";import{t as E,S as bt,C as re,U as Se,B as gt,a as pt,O as wt}from"./OnboardingFlow-YMNdJgQg.js";import{L as ce}from"./user-plus-B1Gef77t.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],yt=y("arrow-left-right",vt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Pe=y("bell",jt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Fe=y("bot",Nt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],Mt=y("bug",kt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ve=y("calendar",St);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],Ct=y("chart-line",Pt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Dt=y("chevron-left",_t);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],He=y("chevron-right",$t);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Re=y("circle-check-big",Tt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],At=y("circle-check",Et);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Lt=y("circle-x",Ot);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Wt=y("circle",zt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],se=y("clock",It);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Vt=y("copy",Ft);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Rt=y("credit-card",Ht);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],G=y("crown",Yt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=[["path",{d:"M12.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v9.34",key:"o6klzx"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10.378 12.622a1 1 0 0 1 3 3.003L8.36 20.637a2 2 0 0 1-.854.506l-2.867.837a.5.5 0 0 1-.62-.62l.836-2.869a2 2 0 0 1 .506-.853z",key:"zhnas1"}]],Ut=y("file-pen",qt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ge=y("file-text",Bt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],pe=y("folder-open",Gt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Qt=y("funnel",Xt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Ye=y("gift",Jt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ae=y("history",Kt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],es=y("info",Zt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],qe=y("layout-grid",ts);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],ie=y("lightbulb",ss);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],rs=y("list",as);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],os=y("loader-circle",ns);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ce=y("log-out",is);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Ue=y("message-square",ls);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]],_e=y("mic-vocal",ds);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],ms=y("mic",cs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],hs=y("monitor",us);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],fs=y("pen",xs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gs=y("plus",bs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ws=y("rotate-ccw",ps);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ys=y("save",vs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ns=y("send",js);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],we=y("settings",ks);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ss=y("shield-check",Ms);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Cs=y("shield",Ps);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Ds=y("smartphone",_s);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],J=y("sparkles",$s);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],me=y("star",Ts);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Be=y("trash-2",Es);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ve=y("trending-up",As);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ye=y("trophy",Os);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],zs=y("wallet",Ls);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],De=y("wand-sparkles",Ws);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],K=y("x",Is);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ne=y("zap",Fs),Vs=async(t,s)=>{const a={};s.isFavorite!==void 0&&(a.is_favorite=s.isFavorite),s.tags!==void 0&&(a.tags=s.tags),s.status!==void 0&&(a.status=s.status),s.scheduledDate!==void 0&&(a.scheduled_date=new Date(s.scheduledDate).toISOString()),s.content!==void 0&&(a.content=s.content);const{error:r}=await A.from("posts").update(a).eq("id",t);return r?(console.error("Error updating post:",r),!1):!0},Hs=x.createContext(void 0),ue=()=>{const t=x.useContext(Hs);if(t===void 0)throw new Error("usePosts must be used within a PostProvider");return t},Rs=()=>({handleUpgrade:async s=>{if(console.log("handleUpgrade called for:",s),s.id==="free")return;const a=S.loading("Iniciando pasarela de pago...");try{console.log("Invoking create-checkout-session with priceId:",s.stripePriceId);const r=A.functions.invoke("create-checkout-session",{body:{priceId:s.stripePriceId}}),n=new Promise((l,c)=>setTimeout(()=>c(new Error("Request timed out")),3e4)),{data:o,error:d}=await Promise.race([r,n]);if(console.log("Checkout session response:",{data:o,error:d}),d)throw d;if(o!=null&&o.error)throw new Error(o.error);if(o!=null&&o.url)console.log("Redirecting to Stripe:",o.url),S.dismiss(a),window.location.href=o.url;else throw new Error("No URL returned from checkout session")}catch(r){console.error("Checkout failed",r),S.dismiss(a),S.error("Error al iniciar pago: "+(r.message||"Desconocido"))}}}),Ys=async(t,s)=>{const{data:a,error:r}=await A.functions.invoke("generate-viral-post",{body:{params:t}});if(r)throw r.status===406?(console.error("Server API returned 406 Not Acceptable. This usually means the function crashed or returned invalid content types."),new Error("Server configuration error (406). Please try again or contact support.")):new Error(r.message);if(a.error)throw new Error(`Backend Error: ${a.error}`);return{id:a.id,content:a.postContent,viralScore:a.viralScore,viralAnalysis:a.viralAnalysis,gamification:a.gamification}},qs=async t=>{const{data:s,error:a}=await A.functions.invoke("analyze-brand-voice",{body:t});if(a)throw console.error("Analysis Error:",a),new Error(a.message);if(s.error)throw new Error(s.error);return s},Us=t=>{const s=Math.floor(Math.sqrt(t/100));return Math.max(1,s)},Bs=(t,s,a)=>{let r=t.xp,n=t.currentStreak;const o=[],d=new Date,l=t.lastPostDate?new Date(t.lastPostDate):null;if(l){const m=d.toDateString()===l.toDateString(),b=new Date(d.setDate(d.getDate()-1)).toDateString()===l.toDateString();m||(b?n+=1:n=1)}else n=1;r+=50;const c=new Set(t.unlockedAchievements);!c.has("first_step")&&a.length>=1&&(o.push("first_step"),r+=50),!c.has("pro_writer")&&a.length>=10&&(o.push("pro_writer"),r+=300),!c.has("streak_3")&&n>=3&&(o.push("streak_3"),r+=150),!c.has("streak_7")&&n>=7&&(o.push("streak_7"),r+=500),!c.has("clickbait_master")&&s.params.tone.includes("Controversial")&&(o.push("clickbait_master"),r+=100);const h=Us(r),f=h>t.level;return{newXP:r,newLevel:h,newStreak:n,newAchievements:o,leveledUp:f}},Gs=async(t,s,a,r=!1)=>{if(t.credits<=0&&!r)throw new Error("Insufficient credits");const n=await Ys(s),o={id:n.id||Date.now().toString(),content:n.content,params:s,createdAt:Date.now(),likes:0,views:0,isAutoPilot:r,viralScore:n.viralScore,viralAnalysis:n.viralAnalysis},d=Math.max(0,t.credits-1);let l;if(n.gamification)l=n.gamification;else{const h=[o,...a];l=Bs({...t},o,h)}const c={...t,credits:d,xp:l.newXP,level:l.newLevel,currentStreak:l.newStreak,lastPostDate:Date.now(),unlockedAchievements:Array.from(new Set([...t.unlockedAchievements,...l.newAchievements]))};return{post:o,updatedUser:c,gamificationResult:l}},Xs=({user:t,setUser:s,posts:a,setPosts:r,setCurrentPost:n,setActiveTab:o,handleUpdateUser:d,setShowUpgradeModal:l,setShowCreditDeduction:c,setLevelUpData:h,isGenerating:f,setIsGenerating:m,savePostToHistory:b})=>{const[g,i]=x.useState(null),u=x.useRef(null),w=x.useRef(!1);return x.useEffect(()=>{if(!t.id||w.current)return;(async()=>{w.current=!0;const N=localStorage.getItem("kolink_is_generating");if(N){const P=parseInt(N);if(Date.now()-P<300*1e3){console.log("Attempting to recover interrupted generation..."),m(!0),await new Promise(M=>setTimeout(M,2e3));try{const{data:M}=await A.from("posts").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(1);if(M&&M.length>0){const _=M[0],v=new Date(_.created_at).getTime();if(v>P){S.success("¬°Post recuperado! Se gener√≥ mientras no estabas.");const D={id:_.id,content:_.content,params:_.generation_params||{},createdAt:v,likes:0,views:0,isAutoPilot:!1,viralScore:_.viral_score,viralAnalysis:_.viral_analysis};n(D),r($=>$.some(V=>V.id===D.id)?$:[D,...$]),localStorage.removeItem("kolink_is_generating")}}}catch(M){console.error("Recovery failed",M)}finally{m(!1),Date.now()-P>6e4&&localStorage.removeItem("kolink_is_generating")}}else localStorage.removeItem("kolink_is_generating")}})()},[t.id,m,r,n]),{prefilledParams:g,setPrefilledParams:i,handleGenerate:async(p,N=!1)=>{if(t.credits<=0||t.cancelAtPeriodEnd){!N&&!t.cancelAtPeriodEnd&&l(!0);return}m(!0),localStorage.setItem("kolink_is_generating",Date.now().toString()),N||c(!1);try{const P=await Gs(t,p,a,N),{post:M,updatedUser:_,gamificationResult:v}=P;if(s(_),b(M),!N){c(!0),setTimeout(()=>c(!1),2500),(v.leveledUp||v.newAchievements.length>0)&&h({leveledUp:v.leveledUp,newLevel:v.newLevel,newAchievements:v.newAchievements}),d({xp:v.newXP,level:v.newLevel,currentStreak:v.newStreak,lastPostDate:Date.now(),unlockedAchievements:_.unlockedAchievements});const D=v.newXP-t.xp;D>0&&S.success(`+${D} XP`,{description:"¬°Sigue as√≠ para subir de nivel!",icon:"‚≠ê"}),ot(t.id).then($=>{$&&s(V=>({...V,...$}))})}i(null),console.log("Finalizing generation, setting current post:",M.id),n(M),localStorage.setItem("kolink_current_post_id",M.id),u.current=M.id,o("create"),window.scrollTo({top:0,behavior:"smooth"})}catch(P){if(console.error("Failed to generate",P),!N){const M=P.message||"";M.includes("Insufficient credits")?l(!0):M.includes("Rate limit exceeded")?S.warning("Por favor espera unos segundos antes de generar otro post."):S.error("Error al generar contenido. Int√©ntalo de nuevo o contacta soporte.",{description:M.length<50?M:"Error de conexi√≥n o del servidor"})}}finally{m(!1),localStorage.removeItem("kolink_is_generating")}},justGeneratedPostId:u}},Qs=()=>{const[t,s]=x.useState(!1);return{isPublishing:t,handlePublish:async r=>{if(r){s(!0);try{const{data:{session:n}}=await A.auth.getSession(),o=n==null?void 0:n.provider_token;if(!o){S.error("No se detect√≥ conexi√≥n con LinkedIn. Por favor inicia sesi√≥n nuevamente con LinkedIn.");return}const{data:d,error:l}=await A.functions.invoke("publish-to-linkedin",{body:{content:r.content,providerToken:o,visibility:"PUBLIC"}});if(l)throw l;if(d&&!d.success)throw new Error(d.error||"Error desconocido al publicar");S.success("¬°Post publicado exitosamente en LinkedIn!")}catch(n){console.error("Publishing error:",n),S.error(n.message||"Error al publicar en LinkedIn")}finally{s(!1)}}}}},Js=({user:t,posts:s,setPosts:a,currentPost:r,setCurrentPost:n})=>({savePostToHistory:c=>{a(h=>{const f=[c,...h];return t.id&&localStorage.setItem(`kolink_history_${t.id}`,JSON.stringify(f)),f})},handleDeletePost:(c,h)=>{h.stopPropagation();const f=s.filter(m=>m.id!==c);a(f),t.id&&localStorage.setItem(`kolink_history_${t.id}`,JSON.stringify(f)),(r==null?void 0:r.id)===c&&n(null)},handleUpdatePostContent:c=>{if(!r)return;const h={...r,content:c};n(h);const f=s.map(m=>m.id===h.id?h:m);a(f),t.id&&localStorage.setItem(`kolink_history_${t.id}`,JSON.stringify(f))}}),Ks=({user:t,setUser:s,posts:a,setPosts:r,currentPost:n,setCurrentPost:o,activeTab:d,setActiveTab:l,handleUpdateUser:c,setShowUpgradeModal:h,setShowCreditDeduction:f,setLevelUpData:m,isGenerating:b,setIsGenerating:g})=>{const[i,u]=x.useState(""),{savePostToHistory:w,handleDeletePost:j,handleUpdatePostContent:p}=Js({user:t,posts:a,setPosts:r,currentPost:n,setCurrentPost:o}),{prefilledParams:N,setPrefilledParams:P,handleGenerate:M,justGeneratedPostId:_}=Xs({user:t,setUser:s,posts:a,setPosts:r,setCurrentPost:o,setActiveTab:l,handleUpdateUser:c,setShowUpgradeModal:h,setShowCreditDeduction:f,setLevelUpData:m,isGenerating:b,setIsGenerating:g,savePostToHistory:w}),{isPublishing:v,handlePublish:D}=Qs();return x.useEffect(()=>{if(_.current&&a.length>0){const C=a.find(L=>L.id===_.current);C&&(n==null?void 0:n.id)!==C.id&&(console.log("Enforcing display of generated post:",C.id),o(C),_.current=null)}},[a,n,o,_]),{isPublishing:v,prefilledTopic:i,setPrefilledTopic:u,prefilledParams:N,setPrefilledParams:P,handleGenerate:M,handleDeletePost:j,handleUpdatePostContent:p,handlePublish:()=>D(n),handleUseIdea:C=>{u(C),P(null),l("create")},handleReusePost:C=>{P(C),u(""),l("create")}}},Zs=({user:t})=>{const s=t.level+1,a=Math.pow(t.level,2)*100,n=Math.pow(s,2)*100-a,o=t.xp-a,d=Math.min(100,Math.max(0,o/n*100));return e.jsxs("div",{className:"bg-slate-900 rounded-2xl p-4 text-white relative overflow-hidden group border border-slate-700",children:[e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-indigo-500/20 blur-2xl rounded-full pointer-events-none"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-brand-500/20 blur-xl rounded-full pointer-events-none"}),e.jsx("div",{className:"flex items-center justify-between mb-3 relative z-10",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-gradient-to-tr from-amber-400 to-orange-500 rounded-lg shadow-lg shadow-orange-500/20",children:e.jsx(ye,{className:"w-4 h-4 text-white fill-current"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-[10px] font-bold uppercase text-slate-400 tracking-wider",children:["Level ",t.level]}),e.jsx("p",{className:"text-sm font-bold leading-none",children:"Creator"})]})]})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 mb-1.5 font-medium",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(me,{className:"w-3 h-3 text-brand-400"})," ",Math.floor(t.xp)," XP"]}),e.jsxs("span",{children:["Lvl ",s]})]}),e.jsx("div",{className:"h-2 w-full bg-slate-800 rounded-full overflow-hidden border border-slate-700/50",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-brand-500 to-indigo-500 shadow-[0_0_10px_rgba(59,130,246,0.5)] transition-all duration-1000 ease-out",style:{width:`${d}%`}})})]})]})},je=t=>{if(!t)return"https://ui-avatars.com/api/?name=Guest&background=random&color=fff&size=128";if(t.avatarUrl&&t.avatarUrl.trim()!=="")return t.avatarUrl;const s=t.name||"User";return`https://ui-avatars.com/api/?name=${encodeURIComponent(s)}&background=random&color=fff&size=128&bold=true`},ea=({posts:t,currentPost:s,activeTab:a,setActiveTab:r,onSelectPost:n,onDeletePost:o,onUpgrade:d,onSettingsClick:l,className:c="",showCreditDeduction:h=!1,onReferral:f})=>{const{user:m,language:b,logout:g}=W(),i=E[b].app.sidebar;return e.jsxs("aside",{id:"tour-sidebar",className:`bg-white border-r border-slate-200 flex flex-col h-full ${c}`,children:[e.jsxs("div",{className:"p-6 flex items-center gap-3 flex-shrink-0",children:[e.jsx("div",{className:"w-9 h-9 bg-gradient-to-tr from-brand-600 to-indigo-500 rounded-xl flex items-center justify-center text-white font-bold font-display text-xl shadow-lg shadow-brand-500/30",children:"K"}),e.jsx("span",{className:"font-display font-bold text-2xl text-slate-900 tracking-tight",children:"Kolink"})]}),e.jsx("div",{className:"px-4 mb-2 flex-shrink-0",children:e.jsx(Zs,{user:m})}),e.jsxs("div",{className:"flex-1 px-4 py-2 space-y-1 overflow-y-auto no-scrollbar",children:[e.jsxs("button",{onClick:()=>r("create"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200
                ${a==="create"?"bg-brand-50 text-brand-700 shadow-sm ring-1 ring-brand-200":"text-slate-600 hover:bg-slate-50"}`,children:[e.jsx(qe,{className:"w-5 h-5"}),i.studio]}),e.jsxs("button",{onClick:()=>r("auditor"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200
                ${a==="auditor"?"bg-brand-50 text-brand-700 shadow-sm ring-1 ring-brand-200":"text-slate-600 hover:bg-slate-50"}`,children:[e.jsx(J,{className:"w-5 h-5"}),b==="es"?"Auditor de Perfil":"Profile Auditor",!m.isPremium&&e.jsx(G,{className:"w-4 h-4 text-amber-500 fill-amber-500/20 ml-auto flex-shrink-0"})]}),e.jsxs("button",{onClick:()=>r("autopilot"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200
                ${a==="autopilot"?"bg-sky-50 text-sky-700 shadow-sm ring-1 ring-sky-200":"text-slate-600 hover:bg-slate-50"}`,children:[e.jsx(Fe,{className:"w-5 h-5"}),i.autopilot,!m.isPremium&&e.jsx(G,{className:"w-4 h-4 text-amber-500 fill-amber-500/20 ml-auto flex-shrink-0"})]}),e.jsxs("button",{onClick:()=>r("history"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200
                ${a==="history"?"bg-brand-50 text-brand-700 shadow-sm ring-1 ring-brand-200":"text-slate-600 hover:bg-slate-50"}`,children:[e.jsx(ae,{className:"w-5 h-5"}),e.jsx("div",{className:"flex-1 text-left",children:i.history}),!m.isPremium&&e.jsx("div",{className:"flex-none text-amber-500 opacity-80",title:"Premium Feature",children:e.jsx(G,{className:"w-3.5 h-3.5 fill-amber-500/10"})})]}),e.jsxs("button",{onClick:()=>r("settings"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-200
                ${a==="settings"?"bg-brand-50 text-brand-700 shadow-sm ring-1 ring-brand-200":"text-slate-600 hover:bg-slate-50"}`,children:[e.jsx(we,{className:"w-5 h-5"}),e.jsx("div",{className:"flex-1 text-left",children:i.settings})]}),e.jsxs("button",{onClick:g,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-semibold text-slate-600 hover:bg-slate-50 transition-all duration-200",children:[e.jsx(Ce,{className:"w-5 h-5"}),i.logout]}),e.jsxs("button",{onClick:f,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-semibold text-slate-600 hover:bg-slate-50 transition-all duration-200 group",children:[e.jsx(Ye,{className:"w-5 h-5 text-violet-500 group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"bg-gradient-to-r from-violet-600 to-indigo-600 bg-clip-text text-transparent font-bold",children:b==="es"?"Gana 1 Mes Gratis":"Get 1 Month Free"})]})]}),e.jsxs("div",{className:"p-4 border-t border-slate-100 bg-slate-50/30 backdrop-blur-sm flex-shrink-0",children:[!m.isPremium&&e.jsxs("div",{onClick:d,className:"bg-slate-900 rounded-2xl p-5 text-white mb-5 relative overflow-hidden group cursor-pointer shadow-xl shadow-slate-900/10 transition-transform hover:-translate-y-1",children:[e.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 group-hover:opacity-20 transition-opacity",children:e.jsx(G,{className:"w-20 h-20 rotate-12 translate-x-4 -translate-y-4"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(J,{className:"w-4 h-4 text-amber-300"}),e.jsx("h4",{className:"font-bold text-sm",children:i.goPremium})]}),e.jsx("p",{className:"text-xs text-slate-300 mb-3 leading-relaxed",children:i.unlockDesc}),e.jsx("button",{className:"text-xs bg-white text-slate-900 font-bold px-3 py-2 rounded-lg hover:bg-slate-100 transition-colors w-full",children:i.upgradeNow})]})]}),e.jsxs("div",{className:"flex items-center gap-3 px-1",children:[e.jsx("img",{src:je(m),alt:"User",className:"w-10 h-10 rounded-full border-2 border-white shadow-sm object-cover"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("p",{className:"text-sm font-bold text-slate-900 truncate",children:m.name}),m.isPremium&&e.jsx(G,{className:"w-3 h-3 text-amber-500 fill-current"})]}),!m.isPremium&&e.jsxs("div",{className:"relative inline-block",children:[e.jsxs("p",{id:"tour-credits",className:`text-xs transition-all duration-300 ${h?"text-red-600 font-bold scale-105":"text-slate-500"}`,children:[m.credits," ",i.creditsLeft]}),h&&e.jsx("div",{className:"absolute -top-4 left-0 text-xs font-bold text-red-600 animate-bounce whitespace-nowrap",children:"-1"})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:l,className:`p-2 hover:bg-slate-200 rounded-full transition-colors ${a==="settings"?"text-brand-600 bg-brand-50":"text-slate-400"}`,children:e.jsx(we,{className:"w-4 h-4"})}),e.jsx("button",{onClick:g,className:"p-2 hover:bg-red-50 rounded-full transition-colors text-slate-400 hover:text-red-500",title:i.logout,children:e.jsx(Ce,{className:"w-4 h-4"})})]})]})]})]})},ta=({isOpen:t,onClose:s,language:a,user:r})=>{const[n,o]=x.useState(null),[d,l]=x.useState(""),[c,h]=x.useState(!1),[f,m]=x.useState(!1);if(!t)return null;const b=async i=>{if(i.preventDefault(),!(!n||!d.trim())){h(!0);try{const{error:u}=await A.from("feedback").insert([{user_id:r==null?void 0:r.id,type:n,message:d,status:"new"}]);if(u)throw u;h(!1),m(!0),setTimeout(()=>{s(),m(!1),l(""),o(null)},3e3)}catch(u){console.error("Error sending feedback:",u),h(!1)}}},g={title:a==="es"?"Tu opini√≥n importa":"Your Feedback Matters",desc:a==="es"?"¬øC√≥mo podemos mejorar tu experiencia hoy?":"How can we improve your experience today?",bug:a==="es"?"Reportar un Error":"Report a Bug",bugDesc:a==="es"?"Algo no funciona como deber√≠a.":"Something is not working as expected.",feature:a==="es"?"Sugerir Funci√≥n":"Suggest a Feature",featureDesc:a==="es"?"Tengo una idea genial para la app.":"I have a great idea for the app.",placeholder:a==="es"?"Cu√©ntanos m√°s detalles...":"Tell us more details...",submit:a==="es"?"Enviar Comentarios":"Send Feedback",success:a==="es"?"¬°Gracias! Hemos recibido tu mensaje.":"Thanks! We received your message.",successDesc:a==="es"?"Tu feedback nos ayuda a construir algo mejor.":"Your feedback helps us build something better."};return e.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm transition-opacity",onClick:s}),e.jsxs("div",{className:"relative w-full max-w-lg bg-white rounded-3xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-300 border border-white/20",children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-slate-900 to-slate-800 p-8 text-white",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4",children:e.jsx("button",{onClick:s,className:"p-2 bg-white/10 hover:bg-white/20 rounded-full text-white/70 hover:text-white transition-colors",children:e.jsx(K,{className:"w-5 h-5"})})}),e.jsx("div",{className:"absolute top-[-50%] left-[-20%] w-64 h-64 bg-brand-500/30 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-[-50%] right-[-10%] w-48 h-48 bg-indigo-500/30 rounded-full blur-3xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/10 flex items-center justify-center mb-4 border border-white/10 backdrop-blur-md",children:e.jsx(J,{className:"w-6 h-6 text-brand-300"})}),e.jsx("h3",{className:"text-2xl font-bold tracking-tight",children:g.title}),e.jsx("p",{className:"text-slate-300 mt-2 font-medium",children:g.desc})]})]}),e.jsx("div",{className:"p-8",children:f?e.jsxs("div",{className:"py-8 flex flex-col items-center text-center animate-in fade-in slide-in-from-bottom-4",children:[e.jsx("div",{className:"w-20 h-20 bg-green-50 text-green-500 rounded-full flex items-center justify-center mb-6 ring-8 ring-green-50/50",children:e.jsx(Re,{className:"w-10 h-10"})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-2",children:g.success}),e.jsx("p",{className:"text-slate-500",children:g.successDesc})]}):e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>o("bug"),className:`group relative p-4 rounded-2xl border text-left transition-all duration-200 outline-none ${n==="bug"?"border-red-200 bg-red-50/50 ring-2 ring-red-100 ring-offset-1":"border-slate-100 hover:border-slate-300 hover:bg-slate-50"}`,children:[e.jsx("div",{className:`p-2.5 w-fit rounded-xl mb-3 transition-colors ${n==="bug"?"bg-red-100 text-red-600":"bg-slate-100 text-slate-500 group-hover:bg-white group-hover:text-red-500 group-hover:shadow-sm"}`,children:e.jsx(Mt,{className:"w-5 h-5"})}),e.jsx("div",{className:"font-bold text-slate-800 text-sm mb-0.5",children:g.bug}),e.jsx("div",{className:"text-xs text-slate-500 font-medium opacity-80",children:g.bugDesc})]}),e.jsxs("button",{type:"button",onClick:()=>o("feature"),className:`group relative p-4 rounded-2xl border text-left transition-all duration-200 outline-none ${n==="feature"?"border-amber-200 bg-amber-50/50 ring-2 ring-amber-100 ring-offset-1":"border-slate-100 hover:border-slate-300 hover:bg-slate-50"}`,children:[e.jsx("div",{className:`p-2.5 w-fit rounded-xl mb-3 transition-colors ${n==="feature"?"bg-amber-100 text-amber-600":"bg-slate-100 text-slate-500 group-hover:bg-white group-hover:text-amber-500 group-hover:shadow-sm"}`,children:e.jsx(ie,{className:"w-5 h-5"})}),e.jsx("div",{className:"font-bold text-slate-800 text-sm mb-0.5",children:g.feature}),e.jsx("div",{className:"text-xs text-slate-500 font-medium opacity-80",children:g.featureDesc})]})]}),e.jsx("div",{className:`transition-all duration-500 overflow-hidden ${n?"max-h-60 opacity-100":"max-h-0 opacity-0"}`,children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:n==="feature"?a==="es"?"Detalla tu idea:":"Detail your idea:":n==="bug"?a==="es"?"Describe el problema:":"Describe the issue:":a==="es"?"Mensaje:":"Message:"}),e.jsx("textarea",{required:!0,value:d,onChange:i=>l(i.target.value),placeholder:g.placeholder,className:"w-full h-32 p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-4 focus:ring-brand-500/10 focus:border-brand-500 resize-none text-slate-700 placeholder:text-slate-400 font-medium transition-all shadow-[inset_0_2px_4px_rgba(0,0,0,0.02)]"})]})}),e.jsx("div",{className:`transition-all duration-300 ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,children:e.jsx("button",{type:"submit",disabled:c||!d.trim(),className:"w-full flex items-center justify-center gap-2 bg-slate-900 text-white font-bold py-4 rounded-2xl hover:bg-brand-600 hover:shadow-lg hover:shadow-brand-500/25 active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:c?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(Ns,{className:"w-4 h-4"}),g.submit]})})})]})})]})]})},sa=({userId:t,language:s})=>{const[a,r]=x.useState([]),[n,o]=x.useState(0),[d,l]=x.useState(!1),[c,h]=x.useState(!1),f=x.useRef(null),m=async()=>{if(t)try{const{data:i,error:u}=await A.from("notifications").select("*").eq("user_id",t).order("created_at",{ascending:!1}).limit(10);if(u)throw u;r(i||[]),o((i==null?void 0:i.filter(w=>!w.read).length)||0)}catch(i){console.error("Error fetching notifications:",i)}};x.useEffect(()=>{m();const i=A.channel("public:notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${t}`},u=>{const w=u.new;r(j=>[w,...j]),o(j=>j+1)}).subscribe();return()=>{A.removeChannel(i)}},[t]),x.useEffect(()=>{const i=u=>{f.current&&!f.current.contains(u.target)&&l(!1)};return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[]);const b=async i=>{try{r(u=>u.map(w=>w.id===i?{...w,read:!0}:w)),o(u=>Math.max(0,u-1)),await A.from("notifications").update({read:!0}).eq("id",i)}catch(u){console.error("Error marking as read:",u)}},g=async()=>{try{const i=a.filter(u=>!u.read).map(u=>u.id);if(i.length===0)return;r(u=>u.map(w=>({...w,read:!0}))),o(0),await A.from("notifications").update({read:!0}).in("id",i)}catch(i){console.error("Error marking all read:",i)}};return e.jsxs("div",{className:"relative",ref:f,children:[e.jsxs("button",{onClick:()=>l(!d),className:"relative w-9 h-9 rounded-full bg-white border border-slate-200 flex items-center justify-center hover:bg-slate-50 transition-colors text-slate-600 hover:text-brand-600 shadow-sm",title:s==="es"?"Notificaciones":"Notifications",children:[e.jsx(Pe,{className:"w-5 h-5"}),n>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center animate-pulse border-2 border-white",children:n>9?"9+":n})]}),d&&e.jsxs("div",{className:"absolute right-0 mt-3 w-80 bg-white rounded-xl shadow-xl border border-slate-200 overflow-hidden z-50 animate-in fade-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"bg-slate-50 px-4 py-3 border-b border-slate-200 flex items-center justify-between",children:[e.jsx("h3",{className:"font-bold text-slate-800 text-sm",children:s==="es"?"Notificaciones":"Notifications"}),n>0&&e.jsx("button",{onClick:g,className:"text-xs font-medium text-brand-600 hover:text-brand-700 hover:underline",children:s==="es"?"Marcar todo como le√≠do":"Mark all as read"})]}),e.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:a.length===0?e.jsxs("div",{className:"p-8 text-center text-slate-400",children:[e.jsx(Pe,{className:"w-8 h-8 mx-auto mb-2 opacity-20"}),e.jsx("p",{className:"text-xs",children:s==="es"?"No tienes notificaciones":"No notifications yet"})]}):e.jsx("div",{className:"divide-y divide-slate-100",children:a.map(i=>e.jsx("div",{className:`p-4 hover:bg-slate-50 transition-colors relative group ${i.read?"":"bg-brand-50/30"}`,onClick:()=>!i.read&&b(i.id),children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"mt-0.5",children:i.type==="referral_reward"?e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 text-green-600 flex items-center justify-center text-xs",children:"üéÅ"}):e.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 text-slate-500 flex items-center justify-center text-xs",children:"üîî"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`text-sm ${i.read?"font-medium text-slate-700":"font-bold text-slate-900"}`,children:i.title}),e.jsx("p",{className:"text-xs text-slate-500 mt-1 leading-relaxed",children:i.message}),e.jsx("p",{className:"text-[10px] text-slate-400 mt-2",children:new Date(i.created_at).toLocaleDateString()})]}),!i.read&&e.jsx("div",{className:"absolute right-3 top-4 w-2 h-2 bg-brand-500 rounded-full"})]})},i.id))})})]})]})},aa=({user:t,language:s,setLanguage:a,activeTab:r})=>{const[n,o]=x.useState(!1),[d,l]=x.useState(0);return e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"hidden lg:flex items-center justify-between px-8 py-5 bg-white border-b border-slate-200 shadow-sm z-10",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("h1",{className:"text-2xl font-display font-bold text-slate-900",children:[r==="create"&&(s==="es"?"Estudio":"Studio"),r==="history"&&(s==="es"?"Historial":"History"),r==="settings"&&(s==="es"?"Ajustes":"Settings"),r==="ideas"&&(s==="es"?"Generador de Ideas":"Idea Generator"),r==="autopilot"&&"AutoPilot"]}),r==="create"&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-brand-50 text-brand-700 rounded-full text-xs font-bold border border-brand-100 animate-in fade-in slide-in-from-left-4 duration-500",children:[e.jsx(ne,{className:"w-3 h-3 fill-current"}),s==="es"?"Modo Turbo Activo":"Turbo Mode Active"]})]}),e.jsx("div",{className:"flex items-center gap-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(sa,{userId:t.id,language:s}),e.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-violet-50 to-indigo-50 border border-violet-100 hover:border-violet-200 text-violet-700 rounded-full text-xs font-bold transition-all hover:shadow-sm hover:from-violet-100 hover:to-indigo-100 mr-2 group",children:[e.jsx(Ue,{className:"w-3.5 h-3.5 text-violet-600 group-hover:scale-110 transition-transform"}),s==="es"?"Sugerencias":"Feedback"]}),e.jsx("button",{onClick:()=>a(s==="en"?"es":"en"),className:"w-9 h-9 rounded-full bg-white border border-slate-200 flex items-center justify-center hover:bg-slate-50 transition-colors text-sm shadow-sm",title:"Switch Language",children:s==="en"?"üá∫üá∏":"üá™üá∏"}),e.jsxs("div",{className:"flex items-center gap-3 pl-3 border-l border-slate-200",children:[e.jsxs("div",{className:"text-right hidden md:block",children:[e.jsx("div",{className:"text-sm font-bold text-slate-900",children:t.name||"User"}),e.jsx("div",{className:"text-xs text-slate-500",children:t.email})]}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-brand-500 to-indigo-600 p-0.5 shadow-md",children:e.jsx("div",{className:"w-full h-full rounded-full bg-white flex items-center justify-center overflow-hidden",children:e.jsx("img",{src:je(t),alt:"Profile",className:"w-full h-full object-cover"})})})]})]})})]}),e.jsx(ta,{isOpen:n,onClose:()=>o(!1),language:s,user:t})]})},ra=({language:t})=>{const[s,a]=x.useState(!1),[r,n]=x.useState(!1),[o,d]=x.useState(150),l=ee.useRef(!1),c=ee.useRef(0),h=ee.useRef(0);x.useEffect(()=>{const i=w=>{if(!l.current)return;const j=w.clientY-c.current,p=Math.max(80,Math.min(window.innerHeight-80,h.current+j));d(p)},u=()=>{l.current=!1,document.body.style.userSelect=""};return window.addEventListener("mousemove",i),window.addEventListener("mouseup",u),()=>{window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",u)}},[]);const f=i=>{i.stopPropagation(),l.current=!0,c.current=i.clientY,h.current=o,document.body.style.userSelect="none"},m=[e.jsx(se,{className:"w-5 h-5"}),e.jsx(se,{className:"w-5 h-5"}),e.jsx(te,{className:"w-5 h-5"}),e.jsx(ve,{className:"w-5 h-5"}),e.jsx(Ds,{className:"w-5 h-5"}),e.jsx(ne,{className:"w-5 h-5"}),e.jsx(hs,{className:"w-5 h-5"}),e.jsx(ve,{className:"w-5 h-5"}),e.jsx(te,{className:"w-5 h-5"}),e.jsx(ie,{className:"w-5 h-5"})],b=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500","bg-indigo-500","bg-teal-500","bg-cyan-500","bg-rose-500","bg-amber-500"],g=t==="es"?Me.es:Me.en;return e.jsxs(e.Fragment,{children:[s&&e.jsx("div",{className:"fixed inset-0 bg-slate-900/20 backdrop-blur-sm z-40 lg:hidden",onClick:()=>a(!1)}),e.jsx("div",{className:`fixed top-0 right-0 h-full z-50 transition-transform duration-300 ease-in-out transform ${s?"translate-x-0":"translate-x-full"}`,children:e.jsxs("div",{className:"h-full w-96 max-w-[90vw] bg-white shadow-2xl border-l border-slate-200 flex flex-col relative",children:[e.jsxs("div",{className:"p-5 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-brand-600 text-white flex items-center justify-center shadow-brand-500/20 shadow-lg",children:e.jsx(J,{className:"w-5 h-5 fill-current"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-900 text-base",children:t==="es"?"Manual de Viralidad":"Virality Playbook"}),e.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-wider font-bold",children:t==="es"?"ESTRATEGIAS PROBADAS":"PROVEN STRATEGIES"})]})]}),e.jsx("button",{onClick:()=>a(!1),className:"p-2 hover:bg-slate-200 rounded-lg text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx(K,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto bg-slate-50/50 p-4 space-y-4",children:[e.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 pl-1",children:t==="es"?"Reglas de Oro":"Golden Rules"}),g.map((i,u)=>{const w=m[u%m.length],j=b[u%b.length];return e.jsx("div",{className:"bg-white border border-slate-200 rounded-xl p-4 shadow-sm hover:shadow-md hover:border-brand-200 transition-all group",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:`mt-0.5 min-w-[32px] w-8 h-8 rounded-lg ${j} bg-opacity-10 text-${j.replace("bg-","")}-600 flex items-center justify-center`,children:w}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-bold text-slate-800 text-sm mb-1 group-hover:text-${j.replace("bg-","")}-600 transition-colors`,children:i.title}),e.jsx("p",{className:"text-slate-600 text-xs leading-relaxed",children:i.desc})]})]})},u)}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-slate-900 to-slate-800 text-white shadow-lg mt-6",children:[e.jsxs("h4",{className:"text-sm font-bold mb-2 flex items-center gap-2",children:[e.jsx(ie,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),"Pro Tip"]}),e.jsx("p",{className:"text-xs text-slate-300 leading-relaxed",children:t==="es"?"La viralidad no es suerte, es ingenier√≠a. Aplica al menos 3 de estas reglas en cada post.":"Virality is not luck, it's engineering. Apply at least 3 of these rules in every post."})]}),e.jsx("div",{className:"h-8"})," "]}),!s&&e.jsx("div",{className:"absolute -left-12 transition-all duration-75 ease-out",style:{top:`${o}px`},children:e.jsxs("button",{onMouseDown:f,onClick:i=>{l.current||a(!0)},className:"w-12 h-12 bg-white rounded-l-xl shadow-[0_4px_20px_-5px_rgba(0,0,0,0.1)] border-y border-l border-slate-100 flex items-center justify-center hover:bg-slate-50 text-brand-600 hover:text-brand-700 hover:w-14 transition-all duration-200 group relative cursor-ns-resize active:cursor-grabbing",children:[e.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 bg-white"}),e.jsx(ie,{className:"w-6 h-6 fill-brand-100"}),e.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-white animate-bounce shadow-sm"})]})})]})})]})},na=({activeTab:t,setActiveTab:s})=>{const{user:a,language:r}=W(),n=E[r].app.sidebar,o=[{id:"create",icon:qe,label:n.studio},{id:"history",icon:ae,label:n.history},{id:"autopilot",icon:Fe,label:n.autopilot,isPremium:!0},{id:"auditor",icon:J,label:"Auditor",isPremium:!0},{id:"settings",icon:we,label:n.settings}];return e.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 px-4 py-2 z-50 pb-safe shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]",children:e.jsx("div",{className:"flex justify-between items-center max-w-md mx-auto",children:o.map(d=>{const l=t===d.id,c=d.icon;return e.jsxs("button",{onClick:()=>s(d.id),className:`flex flex-col items-center gap-1 p-2 rounded-xl transition-all w-16 mb-2 ${l?"text-brand-600":"text-slate-400 hover:text-slate-600"}`,children:[e.jsxs("div",{className:`relative p-1 rounded-lg transition-all ${l?"bg-brand-50":""}`,children:[e.jsx(c,{className:`w-6 h-6 ${l?"stroke-[2.5px]":"stroke-2"}`}),d.isPremium&&!a.isPremium&&e.jsx(G,{className:"absolute -top-1 -right-1 w-3 h-3 text-amber-500 fill-amber-500"})]}),e.jsx("span",{className:`text-[10px] font-medium leading-none ${l?"text-brand-600":"text-slate-500"}`,children:d.label})]},d.id)})})})},oa=({children:t,activeTab:s,setActiveTab:a,onUpgrade:r,showCreditDeduction:n,onDeletePost:o,onReferral:d})=>{const{user:l,language:c,setLanguage:h}=W(),{posts:f,currentPost:m,setCurrentPost:b}=ue(),g={posts:f,currentPost:m,activeTab:s,setActiveTab:a,onSelectPost:i=>{b(i),a("create")},onDeletePost:o,onUpgrade:r,onSettingsClick:()=>a("settings"),showCreditDeduction:n,onReferral:d};return e.jsxs("div",{className:"flex flex-col lg:block bg-slate-50 font-sans relative selection:bg-brand-200 selection:text-brand-900 h-screen overflow-hidden",children:[e.jsx("div",{className:"lg:hidden bg-white border-b border-slate-200 p-3 flex items-center justify-center z-20 relative shadow-sm sticky top-0",children:e.jsxs("div",{className:"flex items-center gap-2 font-display font-bold text-lg text-slate-900",children:[e.jsx("div",{className:"w-7 h-7 bg-gradient-to-tr from-brand-600 to-indigo-500 rounded-lg flex items-center justify-center text-white text-xs shadow-md",children:"K"}),"Kolink"]})}),e.jsxs("div",{className:"flex h-full lg:h-screen overflow-hidden",children:[e.jsx("div",{className:"hidden lg:block w-72 bg-white border-r border-slate-200 z-50 shadow-none relative",children:e.jsx("div",{className:"h-full flex flex-col",children:e.jsx(ea,{...g})})}),e.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative bg-slate-50/50",children:[e.jsx("div",{className:"hidden lg:block",children:e.jsx(aa,{user:l,language:c,setLanguage:h,activeTab:s})}),e.jsx("div",{className:"flex-1 overflow-hidden relative",children:t}),e.jsx("div",{className:"mb-20 lg:mb-0",children:e.jsx(ra,{language:c})})]}),e.jsx(na,{activeTab:s,setActiveTab:a})]})]})},ia=({searchTerm:t,setSearchTerm:s,selectedTone:a,setSelectedTone:r,selectedFramework:n,setSelectedFramework:o,selectedStatus:d,setSelectedStatus:l,showFavorites:c,setShowFavorites:h,language:f})=>{const m=E[f].app.history,b=E[f].app.constants,g=[{id:"all",label:m.navAll,icon:pe},{id:"published",label:m.navPublished,icon:ge},{id:"scheduled",label:m.navScheduled,icon:se},{id:"draft",label:m.navDrafts,icon:ge}];return e.jsxs("div",{className:"w-full space-y-6",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 group-focus-within:text-brand-500 transition-colors"}),e.jsx("input",{type:"text",placeholder:m.searchPlaceholder,value:t,onChange:i=>s(i.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white border border-slate-200 rounded-xl focus:ring-2 focus:ring-brand-500/20 focus:border-brand-500 outline-none text-sm font-medium shadow-sm transition-all"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"px-3 text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:m.libraryTitle}),g.map(i=>e.jsxs("button",{onClick:()=>l(i.id==="all"?"all":i.id),className:`w-full flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-lg transition-colors ${d===i.id||d==="all"&&i.id==="all"?"bg-brand-50 text-brand-700":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"}`,children:[e.jsx(i.icon,{className:`w-4 h-4 ${d===i.id||d==="all"&&i.id==="all"?"text-brand-600":"text-slate-400"}`}),i.label]},i.id)),e.jsxs("button",{onClick:()=>h(!c),className:`w-full flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-lg transition-colors mt-2 ${c?"bg-amber-50 text-amber-700":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"}`,children:[e.jsx(me,{className:`w-4 h-4 ${c?"fill-current text-amber-500":"text-slate-400"}`}),m.favorites]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[e.jsx("h3",{className:"px-3 text-xs font-bold text-slate-400 uppercase tracking-wider",children:m.filtersTitle}),e.jsxs("div",{className:"space-y-3 px-1",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-medium text-slate-500 px-2",children:m.toneLabel}),e.jsxs("select",{value:a,onChange:i=>r(i.target.value),className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500 outline-none transition-colors",children:[e.jsx("option",{value:"all",children:m.filterAll}),it.map(i=>{var u;return e.jsx("option",{value:i.value,children:((u=b.tones[i.value])==null?void 0:u.label)||i.label},i.value)})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-medium text-slate-500 px-2",children:m.frameworkLabel}),e.jsxs("select",{value:n,onChange:i=>o(i.target.value),className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm focus:border-brand-500 focus:ring-1 focus:ring-brand-500 outline-none transition-colors",children:[e.jsx("option",{value:"all",children:m.filterAllFrameworks}),lt.map(i=>{var u;return e.jsx("option",{value:i.value,children:((u=b.frameworks[i.value])==null?void 0:u.label)||i.label},i.value)})]})]})]})]})]})},la=({post:t,language:s,onSelect:a,onReuse:r,onDelete:n,onToggleFavorite:o})=>{var w,j;const[d,l]=x.useState(null),c=E[s].app.history,h=E[s].app.constants,f=(p,N,P)=>{P.stopPropagation(),navigator.clipboard.writeText(N),l(p),S.success(s==="es"?"Contenido copiado":"Content copied"),setTimeout(()=>l(null),2e3)},m=p=>{p.stopPropagation(),o(t.id,!t.isFavorite)},b=p=>p>=80?"text-green-600 bg-green-50 border-green-100":p>=50?"text-amber-600 bg-amber-50 border-amber-100":"text-red-600 bg-red-50 border-red-100",g=((w=h.tones[t.params.tone])==null?void 0:w.label)||t.params.tone,i=((j=h.frameworks[t.params.framework])==null?void 0:j.label)||t.params.framework,u=t.viralScore||0;return e.jsxs("div",{onClick:()=>a(t),className:"break-inside-avoid group bg-white rounded-2xl border border-slate-200 p-6 hover:border-brand-300 hover:shadow-xl hover:shadow-brand-500/5 transition-all duration-300 cursor-pointer flex flex-col hover:-translate-y-1 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-4 right-4 flex items-center gap-2 z-10",children:e.jsx("button",{onClick:m,className:`p-1.5 rounded-full transition-colors ${t.isFavorite?"text-amber-400 bg-amber-50 hover:bg-amber-100":"text-slate-300 hover:text-amber-400 hover:bg-slate-50"}`,children:e.jsx(me,{className:`w-4 h-4 ${t.isFavorite?"fill-current":""}`})})}),e.jsxs("div",{className:"flex flex-wrap items-center mb-4 gap-2 pr-8",children:[t.status==="scheduled"&&e.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-blue-50 text-blue-600 text-[10px] font-bold uppercase tracking-wider rounded-md border border-blue-100",children:[e.jsx(se,{className:"w-3 h-3"}),s==="es"?"Prog":"Sched"]}),t.status==="draft"&&e.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-slate-100 text-slate-600 text-[10px] font-bold uppercase tracking-wider rounded-md border border-slate-200",children:[e.jsx(Ut,{className:"w-3 h-3"}),s==="es"?"Borrador":"Draft"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-600 text-[10px] font-bold uppercase tracking-wider rounded-md border border-slate-200 group-hover:bg-brand-50 group-hover:text-brand-700 group-hover:border-brand-200 transition-colors",children:g}),e.jsx("span",{className:"px-2.5 py-1 bg-indigo-50 text-indigo-600 text-[10px] font-bold uppercase tracking-wider rounded-md border border-indigo-100 group-hover:border-indigo-200 transition-colors",children:i.split(" ")[0]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex justify-between items-start mb-2",children:e.jsx("h3",{className:"text-base font-bold text-slate-900 line-clamp-2 pr-2",title:t.params.topic,children:t.params.topic})}),e.jsx("p",{className:"text-sm text-slate-500 leading-relaxed line-clamp-[8] font-normal whitespace-pre-line",children:t.content}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:t.tags.slice(0,3).map(p=>e.jsxs("span",{className:"text-[10px] text-slate-400 bg-slate-50 px-1.5 py-0.5 rounded border border-slate-100",children:["#",p]},p))})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-100 flex items-center justify-between mt-auto",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-slate-400 font-medium whitespace-nowrap",children:[e.jsx(Ve,{className:"w-3.5 h-3.5"}),new Date(t.createdAt).toLocaleDateString(s==="es"?"es-ES":"en-US",{month:"short",day:"numeric"})]}),u>0&&e.jsxs("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded border ${b(u)} text-[10px] font-bold`,children:[e.jsx(ve,{className:"w-3 h-3"}),u]})]}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[e.jsx("button",{onClick:p=>f(t.id,t.content,p),className:"p-2 hover:bg-brand-50 text-slate-400 hover:text-brand-600 rounded-lg transition-colors",title:c.copy,children:e.jsx(Vt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:p=>{p.stopPropagation(),r(t.params)},className:"p-2 hover:bg-indigo-50 text-slate-400 hover:text-indigo-600 rounded-lg transition-colors",title:c.actions.reuse,children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("button",{onClick:p=>n(t.id,p),className:"p-2 hover:bg-red-50 text-slate-400 hover:text-red-500 rounded-lg transition-colors",title:c.delete,children:e.jsx(Be,{className:"w-4 h-4"})})]})]})]})},Ge=6048e5,da=864e5,$e=Symbol.for("constructDateFrom");function z(t,s){return typeof t=="function"?t(s):t&&typeof t=="object"&&$e in t?t[$e](s):t instanceof Date?new t.constructor(s):new Date(s)}function O(t,s){return z(s||t,t)}function Xe(t,s,a){const r=O(t,a==null?void 0:a.in);if(isNaN(s))return z(t,NaN);if(!s)return r;const n=r.getDate(),o=z(t,r.getTime());o.setMonth(r.getMonth()+s+1,0);const d=o.getDate();return n>=d?o:(r.setFullYear(o.getFullYear(),o.getMonth(),n),r)}let ca={};function he(){return ca}function Z(t,s){var l,c,h,f;const a=he(),r=(s==null?void 0:s.weekStartsOn)??((c=(l=s==null?void 0:s.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??a.weekStartsOn??((f=(h=a.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??0,n=O(t,s==null?void 0:s.in),o=n.getDay(),d=(o<r?7:0)+o-r;return n.setDate(n.getDate()-d),n.setHours(0,0,0,0),n}function le(t,s){return Z(t,{...s,weekStartsOn:1})}function Qe(t,s){const a=O(t,s==null?void 0:s.in),r=a.getFullYear(),n=z(a,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const o=le(n),d=z(a,0);d.setFullYear(r,0,4),d.setHours(0,0,0,0);const l=le(d);return a.getTime()>=o.getTime()?r+1:a.getTime()>=l.getTime()?r:r-1}function Te(t){const s=O(t),a=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return a.setUTCFullYear(s.getFullYear()),+t-+a}function xe(t,...s){const a=z.bind(null,s.find(r=>typeof r=="object"));return s.map(a)}function de(t,s){const a=O(t,s==null?void 0:s.in);return a.setHours(0,0,0,0),a}function ma(t,s,a){const[r,n]=xe(a==null?void 0:a.in,t,s),o=de(r),d=de(n),l=+o-Te(o),c=+d-Te(d);return Math.round((l-c)/da)}function ua(t,s){const a=Qe(t,s),r=z(t,0);return r.setFullYear(a,0,4),r.setHours(0,0,0,0),le(r)}function Ee(t,s,a){const[r,n]=xe(a==null?void 0:a.in,t,s);return+de(r)==+de(n)}function ha(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function xa(t){return!(!ha(t)&&typeof t!="number"||isNaN(+O(t)))}function fa(t,s){const a=O(t,s==null?void 0:s.in),r=a.getMonth();return a.setFullYear(a.getFullYear(),r+1,0),a.setHours(23,59,59,999),a}function ba(t,s){const[a,r]=xe(t,s.start,s.end);return{start:a,end:r}}function ga(t,s){const{start:a,end:r}=ba(s==null?void 0:s.in,t);let n=+a>+r;const o=n?+a:+r,d=n?r:a;d.setHours(0,0,0,0);let l=1;const c=[];for(;+d<=o;)c.push(z(a,d)),d.setDate(d.getDate()+l),d.setHours(0,0,0,0);return n?c.reverse():c}function pa(t,s){const a=O(t,s==null?void 0:s.in);return a.setDate(1),a.setHours(0,0,0,0),a}function wa(t,s){const a=O(t,s==null?void 0:s.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}function va(t,s){const a=s==null?void 0:s.weekStartsOn,r=O(t,s==null?void 0:s.in),n=r.getDay(),o=(n<a?-7:0)+6-(n-a);return r.setDate(r.getDate()+o),r.setHours(23,59,59,999),r}const ya={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ja=(t,s,a)=>{let r;const n=ya[t];return typeof n=="string"?r=n:s===1?r=n.one:r=n.other.replace("{{count}}",s.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+r:r+" ago":r};function Q(t){return(s={})=>{const a=s.width?String(s.width):t.defaultWidth;return t.formats[a]||t.formats[t.defaultWidth]}}const Na={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ka={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ma={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Sa={date:Q({formats:Na,defaultWidth:"full"}),time:Q({formats:ka,defaultWidth:"full"}),dateTime:Q({formats:Ma,defaultWidth:"full"})},Pa={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ca=(t,s,a,r)=>Pa[t];function I(t){return(s,a)=>{const r=a!=null&&a.context?String(a.context):"standalone";let n;if(r==="formatting"&&t.formattingValues){const d=t.defaultFormattingWidth||t.defaultWidth,l=a!=null&&a.width?String(a.width):d;n=t.formattingValues[l]||t.formattingValues[d]}else{const d=t.defaultWidth,l=a!=null&&a.width?String(a.width):t.defaultWidth;n=t.values[l]||t.values[d]}const o=t.argumentCallback?t.argumentCallback(s):s;return n[o]}}const _a={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Da={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$a={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ta={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ea={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Aa={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Oa=(t,s)=>{const a=Number(t),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},La={ordinalNumber:Oa,era:I({values:_a,defaultWidth:"wide"}),quarter:I({values:Da,defaultWidth:"wide",argumentCallback:t=>t-1}),month:I({values:$a,defaultWidth:"wide"}),day:I({values:Ta,defaultWidth:"wide"}),dayPeriod:I({values:Ea,defaultWidth:"wide",formattingValues:Aa,defaultFormattingWidth:"wide"})};function F(t){return(s,a={})=>{const r=a.width,n=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=s.match(n);if(!o)return null;const d=o[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Wa(l,m=>m.test(d)):za(l,m=>m.test(d));let h;h=t.valueCallback?t.valueCallback(c):c,h=a.valueCallback?a.valueCallback(h):h;const f=s.slice(d.length);return{value:h,rest:f}}}function za(t,s){for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&s(t[a]))return a}function Wa(t,s){for(let a=0;a<t.length;a++)if(s(t[a]))return a}function Je(t){return(s,a={})=>{const r=s.match(t.matchPattern);if(!r)return null;const n=r[0],o=s.match(t.parsePattern);if(!o)return null;let d=t.valueCallback?t.valueCallback(o[0]):o[0];d=a.valueCallback?a.valueCallback(d):d;const l=s.slice(n.length);return{value:d,rest:l}}}const Ia=/^(\d+)(th|st|nd|rd)?/i,Fa=/\d+/i,Va={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ha={any:[/^b/i,/^(a|c)/i]},Ra={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ya={any:[/1/i,/2/i,/3/i,/4/i]},qa={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ua={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ba={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ga={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Xa={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Qa={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ja={ordinalNumber:Je({matchPattern:Ia,parsePattern:Fa,valueCallback:t=>parseInt(t,10)}),era:F({matchPatterns:Va,defaultMatchWidth:"wide",parsePatterns:Ha,defaultParseWidth:"any"}),quarter:F({matchPatterns:Ra,defaultMatchWidth:"wide",parsePatterns:Ya,defaultParseWidth:"any",valueCallback:t=>t+1}),month:F({matchPatterns:qa,defaultMatchWidth:"wide",parsePatterns:Ua,defaultParseWidth:"any"}),day:F({matchPatterns:Ba,defaultMatchWidth:"wide",parsePatterns:Ga,defaultParseWidth:"any"}),dayPeriod:F({matchPatterns:Xa,defaultMatchWidth:"any",parsePatterns:Qa,defaultParseWidth:"any"})},Ke={code:"en-US",formatDistance:ja,formatLong:Sa,formatRelative:Ca,localize:La,match:Ja,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ka(t,s){const a=O(t,s==null?void 0:s.in);return ma(a,wa(a))+1}function Za(t,s){const a=O(t,s==null?void 0:s.in),r=+le(a)-+ua(a);return Math.round(r/Ge)+1}function Ze(t,s){var f,m,b,g;const a=O(t,s==null?void 0:s.in),r=a.getFullYear(),n=he(),o=(s==null?void 0:s.firstWeekContainsDate)??((m=(f=s==null?void 0:s.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(b=n.locale)==null?void 0:b.options)==null?void 0:g.firstWeekContainsDate)??1,d=z((s==null?void 0:s.in)||t,0);d.setFullYear(r+1,0,o),d.setHours(0,0,0,0);const l=Z(d,s),c=z((s==null?void 0:s.in)||t,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const h=Z(c,s);return+a>=+l?r+1:+a>=+h?r:r-1}function er(t,s){var l,c,h,f;const a=he(),r=(s==null?void 0:s.firstWeekContainsDate)??((c=(l=s==null?void 0:s.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??a.firstWeekContainsDate??((f=(h=a.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,n=Ze(t,s),o=z((s==null?void 0:s.in)||t,0);return o.setFullYear(n,0,r),o.setHours(0,0,0,0),Z(o,s)}function tr(t,s){const a=O(t,s==null?void 0:s.in),r=+Z(a,s)-+er(a,s);return Math.round(r/Ge)+1}function k(t,s){const a=t<0?"-":"",r=Math.abs(t).toString().padStart(s,"0");return a+r}const H={y(t,s){const a=t.getFullYear(),r=a>0?a:1-a;return k(s==="yy"?r%100:r,s.length)},M(t,s){const a=t.getMonth();return s==="M"?String(a+1):k(a+1,2)},d(t,s){return k(t.getDate(),s.length)},a(t,s){const a=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(t,s){return k(t.getHours()%12||12,s.length)},H(t,s){return k(t.getHours(),s.length)},m(t,s){return k(t.getMinutes(),s.length)},s(t,s){return k(t.getSeconds(),s.length)},S(t,s){const a=s.length,r=t.getMilliseconds(),n=Math.trunc(r*Math.pow(10,a-3));return k(n,s.length)}},X={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ae={G:function(t,s,a){const r=t.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})}},y:function(t,s,a){if(s==="yo"){const r=t.getFullYear(),n=r>0?r:1-r;return a.ordinalNumber(n,{unit:"year"})}return H.y(t,s)},Y:function(t,s,a,r){const n=Ze(t,r),o=n>0?n:1-n;if(s==="YY"){const d=o%100;return k(d,2)}return s==="Yo"?a.ordinalNumber(o,{unit:"year"}):k(o,s.length)},R:function(t,s){const a=Qe(t);return k(a,s.length)},u:function(t,s){const a=t.getFullYear();return k(a,s.length)},Q:function(t,s,a){const r=Math.ceil((t.getMonth()+1)/3);switch(s){case"Q":return String(r);case"QQ":return k(r,2);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,s,a){const r=Math.ceil((t.getMonth()+1)/3);switch(s){case"q":return String(r);case"qq":return k(r,2);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,s,a){const r=t.getMonth();switch(s){case"M":case"MM":return H.M(t,s);case"Mo":return a.ordinalNumber(r+1,{unit:"month"});case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})}},L:function(t,s,a){const r=t.getMonth();switch(s){case"L":return String(r+1);case"LL":return k(r+1,2);case"Lo":return a.ordinalNumber(r+1,{unit:"month"});case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})}},w:function(t,s,a,r){const n=tr(t,r);return s==="wo"?a.ordinalNumber(n,{unit:"week"}):k(n,s.length)},I:function(t,s,a){const r=Za(t);return s==="Io"?a.ordinalNumber(r,{unit:"week"}):k(r,s.length)},d:function(t,s,a){return s==="do"?a.ordinalNumber(t.getDate(),{unit:"date"}):H.d(t,s)},D:function(t,s,a){const r=Ka(t);return s==="Do"?a.ordinalNumber(r,{unit:"dayOfYear"}):k(r,s.length)},E:function(t,s,a){const r=t.getDay();switch(s){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})}},e:function(t,s,a,r){const n=t.getDay(),o=(n-r.weekStartsOn+8)%7||7;switch(s){case"e":return String(o);case"ee":return k(o,2);case"eo":return a.ordinalNumber(o,{unit:"day"});case"eee":return a.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})}},c:function(t,s,a,r){const n=t.getDay(),o=(n-r.weekStartsOn+8)%7||7;switch(s){case"c":return String(o);case"cc":return k(o,s.length);case"co":return a.ordinalNumber(o,{unit:"day"});case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})}},i:function(t,s,a){const r=t.getDay(),n=r===0?7:r;switch(s){case"i":return String(n);case"ii":return k(n,s.length);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return a.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(r,{width:"short",context:"formatting"});case"iiii":default:return a.day(r,{width:"wide",context:"formatting"})}},a:function(t,s,a){const n=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(t,s,a){const r=t.getHours();let n;switch(r===12?n=X.noon:r===0?n=X.midnight:n=r/12>=1?"pm":"am",s){case"b":case"bb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(t,s,a){const r=t.getHours();let n;switch(r>=17?n=X.evening:r>=12?n=X.afternoon:r>=4?n=X.morning:n=X.night,s){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(t,s,a){if(s==="ho"){let r=t.getHours()%12;return r===0&&(r=12),a.ordinalNumber(r,{unit:"hour"})}return H.h(t,s)},H:function(t,s,a){return s==="Ho"?a.ordinalNumber(t.getHours(),{unit:"hour"}):H.H(t,s)},K:function(t,s,a){const r=t.getHours()%12;return s==="Ko"?a.ordinalNumber(r,{unit:"hour"}):k(r,s.length)},k:function(t,s,a){let r=t.getHours();return r===0&&(r=24),s==="ko"?a.ordinalNumber(r,{unit:"hour"}):k(r,s.length)},m:function(t,s,a){return s==="mo"?a.ordinalNumber(t.getMinutes(),{unit:"minute"}):H.m(t,s)},s:function(t,s,a){return s==="so"?a.ordinalNumber(t.getSeconds(),{unit:"second"}):H.s(t,s)},S:function(t,s){return H.S(t,s)},X:function(t,s,a){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(s){case"X":return Le(r);case"XXXX":case"XX":return B(r);case"XXXXX":case"XXX":default:return B(r,":")}},x:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"x":return Le(r);case"xxxx":case"xx":return B(r);case"xxxxx":case"xxx":default:return B(r,":")}},O:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+Oe(r,":");case"OOOO":default:return"GMT"+B(r,":")}},z:function(t,s,a){const r=t.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+Oe(r,":");case"zzzz":default:return"GMT"+B(r,":")}},t:function(t,s,a){const r=Math.trunc(+t/1e3);return k(r,s.length)},T:function(t,s,a){return k(+t,s.length)}};function Oe(t,s=""){const a=t>0?"-":"+",r=Math.abs(t),n=Math.trunc(r/60),o=r%60;return o===0?a+String(n):a+String(n)+s+k(o,2)}function Le(t,s){return t%60===0?(t>0?"-":"+")+k(Math.abs(t)/60,2):B(t,s)}function B(t,s=""){const a=t>0?"-":"+",r=Math.abs(t),n=k(Math.trunc(r/60),2),o=k(r%60,2);return a+n+s+o}const ze=(t,s)=>{switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},et=(t,s)=>{switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},sr=(t,s)=>{const a=t.match(/(P+)(p+)?/)||[],r=a[1],n=a[2];if(!n)return ze(t,s);let o;switch(r){case"P":o=s.dateTime({width:"short"});break;case"PP":o=s.dateTime({width:"medium"});break;case"PPP":o=s.dateTime({width:"long"});break;case"PPPP":default:o=s.dateTime({width:"full"});break}return o.replace("{{date}}",ze(r,s)).replace("{{time}}",et(n,s))},ar={p:et,P:sr},rr=/^D+$/,nr=/^Y+$/,or=["D","DD","YY","YYYY"];function ir(t){return rr.test(t)}function lr(t){return nr.test(t)}function dr(t,s,a){const r=cr(t,s,a);if(console.warn(r),or.includes(t))throw new RangeError(r)}function cr(t,s,a){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${s}\`) for formatting ${r} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const mr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ur=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hr=/^'([^]*?)'?$/,xr=/''/g,fr=/[a-zA-Z]/;function We(t,s,a){var f,m,b,g,i,u,w,j;const r=he(),n=(a==null?void 0:a.locale)??r.locale??Ke,o=(a==null?void 0:a.firstWeekContainsDate)??((m=(f=a==null?void 0:a.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(b=r.locale)==null?void 0:b.options)==null?void 0:g.firstWeekContainsDate)??1,d=(a==null?void 0:a.weekStartsOn)??((u=(i=a==null?void 0:a.locale)==null?void 0:i.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((j=(w=r.locale)==null?void 0:w.options)==null?void 0:j.weekStartsOn)??0,l=O(t,a==null?void 0:a.in);if(!xa(l))throw new RangeError("Invalid time value");let c=s.match(ur).map(p=>{const N=p[0];if(N==="p"||N==="P"){const P=ar[N];return P(p,n.formatLong)}return p}).join("").match(mr).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const N=p[0];if(N==="'")return{isToken:!1,value:br(p)};if(Ae[N])return{isToken:!0,value:p};if(N.match(fr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:p}});n.localize.preprocessor&&(c=n.localize.preprocessor(l,c));const h={firstWeekContainsDate:o,weekStartsOn:d,locale:n};return c.map(p=>{if(!p.isToken)return p.value;const N=p.value;(!(a!=null&&a.useAdditionalWeekYearTokens)&&lr(N)||!(a!=null&&a.useAdditionalDayOfYearTokens)&&ir(N))&&dr(N,s,String(t));const P=Ae[N[0]];return P(l,N,n.localize,h)}).join("")}function br(t){const s=t.match(hr);return s?s[1].replace(xr,"'"):t}function gr(t,s,a){const[r,n]=xe(a==null?void 0:a.in,t,s);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function pr(t,s,a){return Xe(t,-1,a)}const wr={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 d√≠a",other:"{{count}} d√≠as"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 a√±o",other:"alrededor de {{count}} a√±os"},xYears:{one:"1 a√±o",other:"{{count}} a√±os"},overXYears:{one:"m√°s de 1 a√±o",other:"m√°s de {{count}} a√±os"},almostXYears:{one:"casi 1 a√±o",other:"casi {{count}} a√±os"}},vr=(t,s,a)=>{let r;const n=wr[t];return typeof n=="string"?r=n:s===1?r=n.one:r=n.other.replace("{{count}}",s.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"en "+r:"hace "+r:r},yr={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},jr={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Nr={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kr={date:Q({formats:yr,defaultWidth:"full"}),time:Q({formats:jr,defaultWidth:"full"}),dateTime:Q({formats:Nr,defaultWidth:"full"})},Mr={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'ma√±ana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Sr={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'ma√±ana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Pr=(t,s,a,r)=>s.getHours()!==1?Sr[t]:Mr[t],Cr={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despu√©s de cristo"]},_r={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1¬∫ trimestre","2¬∫ trimestre","3¬∫ trimestre","4¬∫ trimestre"]},Dr={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},$r={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s√°"],abbreviated:["dom","lun","mar","mi√©","jue","vie","s√°b"],wide:["domingo","lunes","martes","mi√©rcoles","jueves","viernes","s√°bado"]},Tr={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"ma√±ana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"ma√±ana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"ma√±ana",afternoon:"tarde",evening:"tarde",night:"noche"}},Er={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la ma√±ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la ma√±ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la ma√±ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Ar=(t,s)=>Number(t)+"¬∫",Or={ordinalNumber:Ar,era:I({values:Cr,defaultWidth:"wide"}),quarter:I({values:_r,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:I({values:Dr,defaultWidth:"wide"}),day:I({values:$r,defaultWidth:"wide"}),dayPeriod:I({values:Tr,defaultWidth:"wide",formattingValues:Er,defaultFormattingWidth:"wide"})},Lr=/^(\d+)(¬∫)?/i,zr=/\d+/i,Wr={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u√∫]n|despu[e√©]s de cristo|era com[u√∫]n)/i},Ir={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u√∫]n)/i,/^(despu[e√©]s de cristo|era com[u√∫]n)/i]},Fr={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](¬∫)? trimestre/i},Vr={any:[/1/i,/2/i,/3/i,/4/i]},Hr={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},Rr={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Yr={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[√°a])/i,abbreviated:/^(dom|lun|mar|mi[√©e]|jue|vie|s[√°a]b)/i,wide:/^(domingo|lunes|martes|mi[√©e]rcoles|jueves|viernes|s[√°a]bado)/i},qr={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Ur={narrow:/^(a|p|mn|md|(de la|a las) (ma√±ana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (ma√±ana|tarde|noche))/i},Br={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/ma√±ana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Gr={ordinalNumber:Je({matchPattern:Lr,parsePattern:zr,valueCallback:function(t){return parseInt(t,10)}}),era:F({matchPatterns:Wr,defaultMatchWidth:"wide",parsePatterns:Ir,defaultParseWidth:"any"}),quarter:F({matchPatterns:Fr,defaultMatchWidth:"wide",parsePatterns:Vr,defaultParseWidth:"any",valueCallback:t=>t+1}),month:F({matchPatterns:Hr,defaultMatchWidth:"wide",parsePatterns:Rr,defaultParseWidth:"any"}),day:F({matchPatterns:Yr,defaultMatchWidth:"wide",parsePatterns:qr,defaultParseWidth:"any"}),dayPeriod:F({matchPatterns:Ur,defaultMatchWidth:"any",parsePatterns:Br,defaultParseWidth:"any"})},Xr={code:"es",formatDistance:vr,formatLong:kr,formatRelative:Pr,localize:Or,match:Gr,options:{weekStartsOn:1,firstWeekContainsDate:1}},Qr=({posts:t,language:s,onSelectPost:a})=>{const[r,n]=x.useState(new Date),o=s==="es"?Xr:Ke,d=x.useMemo(()=>{const m=Z(pa(r),{weekStartsOn:1}),b=va(fa(r),{weekStartsOn:1});return ga({start:m,end:b})},[r]),l=s==="es"?["Lun","Mar","Mi√©","Jue","Vie","S√°b","Dom"]:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],c=m=>t.filter(b=>Ee(new Date(b.createdAt),m)),h=()=>n(Xe(r,1)),f=()=>n(pr(r));return e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-100",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 capitalize",children:We(r,"MMMM yyyy",{locale:o})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:f,className:"p-2 hover:bg-slate-100 rounded-lg text-slate-600 transition-colors",children:e.jsx(Dt,{className:"w-5 h-5"})}),e.jsx("button",{onClick:h,className:"p-2 hover:bg-slate-100 rounded-lg text-slate-600 transition-colors",children:e.jsx(He,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>n(new Date),className:"px-3 py-2 text-sm font-medium text-brand-600 hover:bg-brand-50 rounded-lg transition-colors",children:s==="es"?"Hoy":"Today"})]})]}),e.jsx("div",{className:"grid grid-cols-7 border-b border-slate-100 bg-slate-50",children:l.map(m=>e.jsx("div",{className:"py-3 text-center text-xs font-semibold text-slate-500 uppercase tracking-wider",children:m},m))}),e.jsx("div",{className:"grid grid-cols-7 auto-rows-fr bg-slate-200 gap-px",children:d.map(m=>{const b=c(m),g=gr(m,r),i=Ee(m,new Date);return e.jsxs("div",{className:`
                                min-h-[120px] bg-white p-3 flex flex-col gap-2 transition-colors
                                ${g?"":"bg-slate-50/50"}
                                ${i?"bg-brand-50/30":""}
                            `,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`
                                    text-sm font-medium w-7 h-7 flex items-center justify-center rounded-full
                                    ${i?"bg-brand-600 text-white shadow-md":"text-slate-700"}
                                    ${g?"":"text-slate-400"}
                                `,children:We(m,"d")}),b.length>0&&e.jsxs("span",{className:"text-xs font-bold text-slate-400",children:[b.length," posts"]})]}),e.jsx("div",{className:"space-y-1.5 overflow-y-auto max-h-[100px] scrollbar-thin scrollbar-thumb-slate-200",children:b.map(u=>e.jsxs("button",{onClick:()=>a(u),className:"w-full text-left p-2 rounded-lg bg-slate-50 hover:bg-brand-50 hover:text-brand-700 text-slate-600 text-xs transition-all group border border-slate-100 hover:border-brand-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${u.viralScore&&u.viralScore>80?"bg-green-500":"bg-slate-300"}`}),e.jsx("span",{className:"font-semibold truncate",children:u.params.topic})]}),e.jsx("p",{className:"line-clamp-2 opacity-70 text-[10px] leading-relaxed",children:u.content})]},u.id))})]},m.toISOString())})})]})},Jr=({onSelect:t,onReuse:s,onDelete:a,language:r,onUpgrade:n})=>{const{posts:o,updatePost:d,searchQuery:l,setSearchQuery:c,loadMorePosts:h,hasMore:f,isLoadingMore:m}=ue(),[b,g]=x.useState("all"),[i,u]=x.useState("all"),[w,j]=x.useState("all"),[p,N]=x.useState(!1),[P,M]=x.useState("list"),[_,v]=x.useState(!1),D=E[r].app.history,$=x.useMemo(()=>o.filter(C=>{if(l){const L=l.toLowerCase();if(!(C.content.toLowerCase().includes(L)||C.params.topic.toLowerCase().includes(L)||C.tags&&C.tags.some(q=>q.toLowerCase().includes(L))))return!1}return!(b!=="all"&&C.params.tone!==b||i!=="all"&&C.params.framework!==i||w!=="all"&&C.status!==w||p&&!C.isFavorite)}),[o,l,b,i,w,p]),V=async(C,L)=>{const Y=o.find(q=>q.id===C);if(Y){d({...Y,isFavorite:L});try{await Vs(C,{isFavorite:L})?S.success(L?"Added to favorites":"Removed from favorites"):(d({...Y,isFavorite:!L}),S.error("Failed to update favorite status"))}catch(q){console.error("Failed to toggle favorite:",q),d({...Y,isFavorite:!L})}}},{user:R}=W();return R!=null&&R.isPremium?e.jsxs("div",{className:"flex flex-col md:flex-row h-full",children:[e.jsx("div",{className:`
                w-full md:w-64 bg-white border-b md:border-b-0 md:border-r border-slate-200 
                flex-col md:flex 
                ${_?"flex":"hidden"}
                md:h-full overflow-y-auto transition-all duration-300
            `,children:e.jsxs("div",{className:"p-4 md:p-6 relative",children:[e.jsx("button",{onClick:()=>v(!1),className:"md:hidden absolute top-4 right-4 p-2 text-slate-400 hover:text-slate-600",children:e.jsx(K,{className:"w-5 h-5"})}),e.jsx(ia,{searchTerm:l,setSearchTerm:c,selectedTone:b,setSelectedTone:g,selectedFramework:i,setSelectedFramework:u,selectedStatus:w,setSelectedStatus:j,showFavorites:p,setShowFavorites:N,language:r})]})}),e.jsxs("div",{className:"flex-1 flex flex-col h-full bg-slate-50/50",children:[e.jsxs("div",{className:"p-6 pb-0 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-display font-bold text-slate-900",children:P==="list"?r==="es"?"Biblioteca":"Library":r==="es"?"Calendario":"Calendar"}),e.jsxs("p",{className:"text-sm text-slate-500",children:[$.length," ",r==="es"?"publicaciones":"posts found"]})]}),e.jsx("button",{onClick:()=>v(!_),className:"md:hidden p-2 bg-white border border-slate-200 rounded-lg text-slate-600 shadow-sm",children:e.jsx(Qt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex bg-white p-1 rounded-lg border border-slate-200 shadow-sm self-start md:self-auto",children:[e.jsx("button",{onClick:()=>M("list"),className:`p-2 rounded-md transition-all ${P==="list"?"bg-slate-100 text-slate-900 shadow-sm":"text-slate-400 hover:text-slate-600"}`,title:"List View",children:e.jsx(rs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>M("calendar"),className:`p-2 rounded-md transition-all ${P==="calendar"?"bg-slate-100 text-slate-900 shadow-sm":"text-slate-400 hover:text-slate-600"}`,title:"Calendar View",children:e.jsx(Ve,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"flex-1 p-6 min-h-0 overflow-y-auto",children:P==="calendar"?e.jsx("div",{className:"h-full",children:e.jsx(Qr,{posts:$,language:r,onSelectPost:t})}):e.jsx("div",{className:"pb-20",children:$.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-[400px] border-2 border-dashed border-slate-200 rounded-3xl text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(pe,{className:"w-8 h-8 text-slate-400"})}),e.jsx("h3",{className:"text-base font-bold text-slate-900 mb-1",children:D.noResults}),e.jsx("p",{className:"text-sm text-slate-500 max-w-xs mx-auto",children:D.noResultsDesc})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:$.map(C=>e.jsx(la,{post:C,language:r,onSelect:t,onReuse:s,onDelete:a,onToggleFavorite:V},C.id))}),f&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx("button",{onClick:h,disabled:m,className:"px-6 py-2 bg-white border border-slate-200 text-slate-600 rounded-lg hover:bg-slate-50 transition-colors text-sm font-medium disabled:opacity-50",children:m?"Loading...":"Load More"})})]})})})]})]}):e.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center p-8 bg-slate-50/50",children:e.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center max-w-lg shadow-xl border border-slate-100",children:[e.jsx("div",{className:"w-20 h-20 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(pe,{className:"w-10 h-10 text-indigo-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:r==="es"?"Historial Premium":"Premium History"}),e.jsx("p",{className:"text-slate-600 mb-6 text-sm",children:r==="es"?"Accede a todo tu historial de publicaciones, estad√≠sticas y favoritos.":"Access your entire post history, analytics, and favorites."}),e.jsx("button",{onClick:n,className:"w-full py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white font-bold rounded-xl shadow-lg shadow-amber-500/20 hover:shadow-amber-500/40 transition-all transform hover:-translate-y-1",children:r==="es"?"Desbloquear Historial":"Unlock History"})]})})},be=({children:t})=>e.jsxs("div",{className:"relative group cursor-help inline-flex ml-1.5 align-middle",children:[e.jsx("div",{className:"bg-slate-100 rounded-full p-0.5 hover:bg-brand-100 hover:text-brand-600 text-slate-400 transition-colors",children:e.jsx(es,{className:"w-3 h-3"})}),e.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-56 p-3 bg-slate-900 text-white text-xs rounded-xl shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-[60] pointer-events-none transform translate-y-2 group-hover:translate-y-0 border border-slate-800 font-normal leading-relaxed text-left",children:[t,e.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-slate-900"})]})]}),Kr=({language:t,onAnalysisComplete:s,onCancel:a})=>{const{posts:r}=ue(),[n,o]=x.useState("history"),[d,l]=x.useState(""),[c,h]=x.useState([]),[f,m]=x.useState(!1),b=r.filter(u=>u.content&&u.content.length>50).slice(0,20),g=u=>{h(w=>w.includes(u)?w.filter(j=>j!==u):w.length<5?[...w,u]:w)},i=async()=>{m(!0);try{let u=[];if(n==="history"){if(c.length===0){S.error("Select at least one post"),m(!1);return}u=b.filter(j=>c.includes(j.id)).map(j=>j.content)}else{if(d.length<100){S.error("Please provide at least 100 characters for analysis"),m(!1);return}u=[d]}const w=await qs({contentSamples:u,language:t});s(w)}catch(u){console.error(u),S.error("Analysis failed. Please try again.")}finally{m(!1)}};return e.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200",children:[e.jsxs("h3",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(De,{className:"w-5 h-5 text-brand-600"}),t==="es"?"Analizador de Voz con IA":"AI Voice Analyzer"]}),e.jsxs("div",{className:"flex gap-2 mb-4 bg-white p-1 rounded-lg border border-slate-200 w-fit",children:[e.jsxs("button",{onClick:()=>o("history"),className:`px-3 py-1.5 text-sm rounded-md transition-all flex items-center gap-2 ${n==="history"?"bg-brand-50 text-brand-700 font-medium":"text-slate-500 hover:text-slate-700"}`,children:[e.jsx(ae,{className:"w-4 h-4"}),t==="es"?"Desde Historial":"From History"]}),e.jsxs("button",{onClick:()=>o("manual"),className:`px-3 py-1.5 text-sm rounded-md transition-all flex items-center gap-2 ${n==="manual"?"bg-brand-50 text-brand-700 font-medium":"text-slate-500 hover:text-slate-700"}`,children:[e.jsx(ge,{className:"w-4 h-4"}),t==="es"?"Pegar Contenido":"Paste Content"]})]}),n==="history"?e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx("p",{className:"text-sm text-slate-500",children:t==="es"?"Selecciona hasta 5 de tus mejores posts para que la IA aprenda tu estilo exacto.":"Select up to 5 of your best posts for the AI to learn your exact style."}),b.length===0?e.jsx("div",{className:"text-center p-8 bg-white rounded-lg border border-dashed border-slate-300",children:e.jsx("p",{className:"text-slate-400 text-sm",children:"No recent posts found to analyze."})}):e.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 pr-2",children:b.map(u=>{const w=c.includes(u.id);return e.jsxs("div",{onClick:()=>g(u.id),className:`p-3 rounded-lg border cursor-pointer transition-all text-sm ${w?"border-brand-500 bg-brand-50 ring-1 ring-brand-500":"border-slate-200 bg-white hover:border-slate-300"}`,children:[e.jsx("div",{className:"line-clamp-2 text-slate-700",children:u.content}),e.jsxs("div",{className:"flex justify-between items-center mt-2 text-xs text-slate-400",children:[e.jsx("span",{children:new Date(u.createdAt).toLocaleDateString()}),w&&e.jsx(re,{className:"w-4 h-4 text-brand-600"})]})]},u.id)})}),e.jsxs("div",{className:"text-xs text-slate-500 text-right",children:[c.length,"/5 selected"]})]}):e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-100 flex gap-3 items-start",children:[e.jsx("div",{className:"min-w-fit mt-0.5",children:e.jsx(ae,{className:"w-4 h-4 text-blue-600"})}),e.jsx("p",{className:"text-xs text-blue-800 leading-relaxed",children:t==="es"?"Tip: Ve a tu perfil de LinkedIn, busca tus posts con m√°s likes/comentarios, copia el texto y p√©galo aqu√≠. ¬°Cuanto m√°s contenido, mejor la IA imitar√° tu estilo!":"Tip: Go to your LinkedIn profile, find your most engaged posts, copy the text and paste it here. The more content, the better the AI clones your style!"})]}),e.jsx("textarea",{value:d,onChange:u=>l(u.target.value),className:"w-full h-48 p-4 rounded-xl border border-slate-300 focus:ring-2 focus:ring-brand-500 focus:border-transparent text-sm leading-relaxed",placeholder:t==="es"?`Pega aqu√≠ tus mejores posts...

Ejemplo:
Acabo de aprender una lecci√≥n valiosa sobre...`:`Paste your best posts here...

Example:
I just learned a valuable lesson about...`}),e.jsxs("div",{className:"text-xs text-right text-slate-400",children:[d.length," chars (Recommended: > 500)"]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:i,disabled:f||n==="history"&&c.length===0||n==="manual"&&d.length<50,className:"flex items-center gap-2 px-4 py-2 bg-brand-600 text-white text-sm font-medium rounded-lg hover:bg-brand-700 disabled:opacity-50 transition-colors shadow-sm",children:f?e.jsxs(e.Fragment,{children:[e.jsx(os,{className:"w-4 h-4 animate-spin"}),"Analyzing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(De,{className:"w-4 h-4"}),t==="es"?"Analizar Voz":"Analyze Voice"]})})]})]})},Zr=({language:t,styleName:s})=>{const a=t==="es",r=a?"Estoy emocionado de anunciar que lanzamos nuestro nuevo producto. Ha sido mucho trabajo pero vali√≥ la pena. ¬°Comprenlo ya!":"I am excited to announce we launched our new product today. It was hard work but worth it. Buy it now!",n=a?`Llevamos 6 meses en silencio.

Construyendo. Rompiendo. Reconstruyendo.

Hoy, por fin ve la luz.

No es solo un 'producto'. Es la soluci√≥n que yo mismo necesitaba hace 2 a√±os.

¬øEl resultado? üëá`:`We went silent for 6 months.

Building. Breaking. Rebuilding.

Today, it finally sees the light.

It's not just a 'product'. It's the solution I desperately needed 2 years ago.

The result? üëá`;return e.jsxs("div",{className:"bg-slate-50 rounded-xl p-5 border border-slate-200 mt-6 animate-in fade-in slide-in-from-bottom-2",children:[e.jsxs("h4",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[e.jsx(J,{className:"w-4 h-4 text-brand-500"}),a?"Impacto de tu Voz":"Voice Impact Preview"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-red-100 relative group",children:[e.jsxs("div",{className:"absolute -top-2.5 left-3 px-2 py-0.5 bg-red-100 text-red-700 text-[10px] font-bold uppercase rounded-full border border-red-200 flex items-center gap-1",children:[e.jsx(Lt,{className:"w-3 h-3"}),a?"Gen√©rico (Sin Ti)":"Generic (Without You)"]}),e.jsx("p",{className:"text-slate-500 text-sm leading-relaxed mt-2 line-through decoration-red-200 decoration-2",children:r})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-brand-200 relative ring-1 ring-brand-100",children:[e.jsxs("div",{className:"absolute -top-2.5 left-3 px-2 py-0.5 bg-brand-100 text-brand-700 text-[10px] font-bold uppercase rounded-full border border-brand-200 flex items-center gap-1",children:[e.jsx(At,{className:"w-3 h-3"}),s||(a?"Tu Nueva Voz":"Your New Voice")]}),e.jsx("p",{className:"text-slate-800 text-sm leading-relaxed mt-2 font-medium whitespace-pre-wrap",children:n})]})]}),e.jsx("p",{className:"text-xs text-center text-slate-400 mt-4 italic",children:a?"*Ejemplo demostrativo. Tu voz real se aplicar√° a todos tus futuros posts.":"*Demo example. Your actual voice will apply to all future posts."})]})},en=({userId:t,language:s})=>{const[a,r]=x.useState([]),[n,o]=x.useState(!0),[d,l]=x.useState(!1),[c,h]=x.useState(null),[f,m]=x.useState(!1),[b,g]=x.useState(""),[i,u]=x.useState("");x.useEffect(()=>{w()},[t]);const w=async()=>{o(!0);const v=await dt(t);r(v),o(!1)},j=async v=>{r(D=>D.map($=>({...$,isActive:$.id===v.id}))),await ut(t,v.id),S.success(s==="es"?"Voz activa actualizada":"Active voice updated")},p=async v=>{confirm(s==="es"?"¬øEst√°s seguro de eliminar esta voz?":"Are you sure you want to delete this voice?")&&(await ht(v),r(D=>D.filter($=>$.id!==v)),S.success("Voice deleted"))},N=async()=>{if(!b.trim()||!i.trim()){S.error("Name and description are required");return}if(c)await ct(c.id,{name:b,description:i})&&(r(D=>D.map($=>$.id===c.id?{...$,name:b,description:i}:$)),h(null),S.success("Voice updated"));else{const v=await mt(t,b,i);v&&(r(D=>[v,...D]),l(!1),S.success("Voice created"))}g(""),u(""),m(!1)},P=()=>{m(!0)},M=v=>{g(v.styleName),u(v.toneDescription),m(!1),!d&&!c&&l(!0)};if(n)return e.jsx("div",{className:"p-4 text-center text-slate-500",children:"Loading voices..."});const _=d||c;return e.jsxs("div",{id:"brand-voice-manager",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:s==="es"?"Gestor de Voces de Marca":"Brand Voice Manager"}),!_&&e.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 text-sm font-medium text-brand-600 hover:text-brand-700 bg-brand-50 px-3 py-1.5 rounded-lg transition-colors",children:[e.jsx(gs,{className:"w-4 h-4"}),s==="es"?"Nueva Voz":"New Voice"]})]}),_?e.jsxs("div",{className:"bg-white border boundary-slate-200 rounded-xl p-6 space-y-4 animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h4",{className:"font-bold text-slate-800",children:c?s==="es"?"Editar Voz":"Edit Voice":s==="es"?"Crear Nueva Voz":"Create New Voice"}),!f&&e.jsxs("button",{onClick:P,className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-md flex items-center gap-1 hover:bg-purple-200 transition-colors",children:[e.jsx(_e,{className:"w-3 h-3"}),s==="es"?"Analizar con IA":"Analyze with AI"]})]}),f?e.jsx(Kr,{language:s,onAnalysisComplete:M,onCancel:()=>m(!1)}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:s==="es"?"Nombre de la Voz":"Voice Name"}),e.jsx("input",{type:"text",value:b,onChange:v=>g(v.target.value),placeholder:"e.g. Professional, Casual, LinkedIn Guru...",className:"w-full rounded-lg bg-white border-slate-300 focus:ring-brand-500 focus:border-brand-500 shadow-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:s==="es"?"Descripci√≥n del Tono (Prompt)":"Tone Description (Prompt)"}),e.jsx("textarea",{value:i,onChange:v=>u(v.target.value),placeholder:"Describe how this voice sounds. Be specific about sentence structure, vocabulary, and emotion.",className:"w-full h-32 rounded-lg bg-white border-slate-300 focus:ring-brand-500 focus:border-brand-500 text-sm shadow-sm"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:s==="es"?"Este texto se enviar√° a la IA para instruirla sobre c√≥mo escribir.":"This text will be sent to the AI to instruct it on how to write."})]}),i&&e.jsx(Zr,{language:s,styleName:b,description:i}),e.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[e.jsx("button",{onClick:()=>{l(!1),h(null),g(""),u("")},className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),e.jsx("button",{onClick:N,className:"px-4 py-2 bg-brand-600 text-white text-sm font-bold rounded-lg hover:bg-brand-700 shadow-sm transition-all",children:"Save Voice"})]})]})]}):e.jsx("div",{className:"grid gap-3",children:a.length===0?e.jsxs("div",{className:"text-center p-8 bg-slate-50 rounded-xl border border-dashed border-slate-300",children:[e.jsx(_e,{className:"w-10 h-10 text-slate-300 mx-auto mb-3"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"No custom voices found."}),e.jsx("p",{className:"text-sm text-slate-400",children:"Create one to personalize your content."})]}):a.map(v=>e.jsx("div",{className:`group relative bg-white border rounded-xl p-4 transition-all ${v.isActive?"border-brand-500 ring-1 ring-brand-500 shadow-sm":"border-slate-200 hover:border-brand-300"}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("button",{onClick:()=>j(v),className:`mt-1 flex-shrink-0 transition-colors ${v.isActive?"text-brand-600":"text-slate-300 hover:text-brand-400"}`,title:v.isActive?"Active Voice":"Set Active",children:v.isActive?e.jsx(Re,{className:"w-5 h-5 fill-brand-50"}):e.jsx(Wt,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-slate-900 flex items-center gap-2",children:[v.name,v.isActive&&e.jsx("span",{className:"text-[10px] bg-brand-100 text-brand-700 px-2 py-0.5 rounded-full uppercase tracking-wide",children:"Active"})]}),e.jsx("p",{className:"text-sm text-slate-500 line-clamp-2 mt-1",children:v.description})]})]}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>{h(v),g(v.name),u(v.description)},className:"p-2 text-slate-400 hover:text-brand-600 hover:bg-brand-50 rounded-lg transition-colors",children:e.jsx(fs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>p(v.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(Be,{className:"w-4 h-4"})})]})]})},v.id))})]})},tn=({onUpgrade:t})=>{const{language:s}=W(),a={title:s==="es"?"Clona tu Voz de Marca":"Clone Your Brand Voice",subtitle:s==="es"?"Entrena a la IA para escribir exactamente como t√∫. Coherencia total, cero esfuerzo.":"Train AI to write exactly like you. Total consistency, zero effort.",features:[s==="es"?"An√°lisis de estilo de escritura con IA":"AI writing style analysis",s==="es"?"Voces ilimitadas (Personal, Empresa, etc.)":"Unlimited voices (Personal, Company, etc.)",s==="es"?"Detecci√≥n autom√°tica de tono y matices":"Auto-detection of tone and nuance",s==="es"?"Aplicable a todos los formatos virales":"Applies to all viral formats"],cta:s==="es"?"Crear mi Voz Digital":"Create My Digital Voice"};return e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-6 text-center animate-in fade-in zoom-in duration-500",children:[e.jsxs("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mb-5 relative group",children:[e.jsx(ce,{className:"w-8 h-8 text-amber-600 relative z-10"}),e.jsx("div",{className:"absolute inset-0 bg-amber-400 opacity-20 rounded-full animate-ping group-hover:animate-none"}),e.jsx("div",{className:"absolute -top-1.5 -right-1.5 bg-orange-500 rounded-full p-1.5 border-2 border-white",children:e.jsx(ms,{className:"w-3 h-3 text-white"})})]}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2 font-outfit",children:a.title}),e.jsx("p",{className:"text-slate-500 max-w-md text-sm mb-6 text-balance leading-relaxed",children:a.subtitle}),e.jsx("div",{className:"bg-slate-50 p-5 rounded-xl border border-slate-100 mb-6 max-w-sm w-full",children:e.jsx("ul",{className:"space-y-3 text-left",children:a.features.map((r,n)=>e.jsxs("li",{className:"flex items-start gap-2.5 text-slate-600 text-sm",children:[e.jsx("div",{className:"mt-0.5 min-w-4",children:e.jsx(re,{className:"w-4 h-4 text-amber-500",strokeWidth:3})}),e.jsx("span",{children:r})]},n))})}),e.jsxs("button",{onClick:t,className:"group relative px-6 py-3 bg-amber-500 text-white font-bold rounded-lg hover:bg-amber-600 transition-all shadow-md hover:shadow-amber-500/20 hover:-translate-y-0.5 overflow-hidden w-full sm:w-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover:animate-shimmer"}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(ne,{className:"w-4 h-4"}),a.cta]})]})]})},sn=({user:t,language:s,setLanguage:a,onSave:r,onUpgrade:n})=>{const[o,d]=x.useState(t.name||""),[l,c]=x.useState(t.headline||""),[h,f]=x.useState(t.companyName||""),[m,b]=x.useState(t.industry||""),g=E[s].app.settings;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:[e.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-6 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(Se,{className:"w-5 h-5 text-blue-600"})}),g.generalPrefs]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-100 rounded-xl hover:border-slate-200 transition-colors bg-slate-50/30",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-sm text-slate-900 flex items-center gap-2",children:[g.languageLabel,e.jsx(be,{children:g.languageTooltip})]}),e.jsx("p",{className:"text-xs text-slate-500",children:g.languageDesc})]}),e.jsxs("div",{className:"flex bg-white rounded-lg p-1 border border-slate-200 shadow-sm",children:[e.jsx("button",{onClick:()=>a("en"),className:`px-3 py-1.5 rounded-md text-sm font-bold transition-all ${s==="en"?"bg-slate-100 text-slate-900 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:"üá∫üá∏ English"}),e.jsx("button",{onClick:()=>a("es"),className:`px-3 py-1.5 rounded-md text-sm font-bold transition-all ${s==="es"?"bg-slate-100 text-slate-900 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:"üá™üá∏ Espa√±ol"})]})]})})]}),e.jsx("div",{className:"bg-white border boundary-slate-200 rounded-2xl p-6 shadow-sm ring-1 ring-slate-900/5",children:t.planTier==="free"?e.jsx(tn,{onUpgrade:n}):e.jsx(en,{userId:t.id,language:s})}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:[e.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-6 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg",children:e.jsx(Se,{className:"w-5 h-5 text-indigo-600"})}),g.profileTitle]}),e.jsxs("div",{className:"grid gap-6 max-w-2xl",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:je(t),alt:t.name,className:"w-20 h-20 rounded-full object-cover border-4 border-slate-50 shadow-sm"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{className:"text-sm font-bold text-slate-700 bg-slate-50 border border-slate-200 hover:bg-slate-100 px-4 py-2 rounded-lg transition-colors",children:g.uploadPhoto}),e.jsx("p",{className:"text-xs text-slate-400",children:"Recommended: 400x400 px"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold uppercase text-slate-400 tracking-wider",children:g.fullName}),e.jsx("input",{type:"text",value:o,onChange:i=>{d(i.target.value),r({name:i.target.value})},className:"w-full p-3 bg-white border border-slate-300 rounded-xl text-sm font-medium focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm hover:border-indigo-400"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold uppercase text-slate-400 tracking-wider",children:g.jobTitle}),e.jsx("input",{type:"text",value:l,onChange:i=>{c(i.target.value),r({headline:i.target.value})},className:"w-full p-3 bg-white border border-slate-300 rounded-xl text-sm font-medium focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm hover:border-indigo-400"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-xs font-bold uppercase text-slate-400 tracking-wider flex items-center gap-1.5",children:[e.jsx(gt,{className:"w-3.5 h-3.5"}),g.companyLabel,e.jsx(be,{children:g.companyTooltip})]}),e.jsx("input",{type:"text",value:h,onChange:i=>{f(i.target.value),r({companyName:i.target.value})},placeholder:"e.g. Kolink Inc.",className:"w-full p-3 bg-white border border-slate-300 rounded-xl text-sm font-medium focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm hover:border-indigo-400"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-xs font-bold uppercase text-slate-400 tracking-wider flex items-center gap-1.5",children:[e.jsx(pt,{className:"w-3.5 h-3.5"}),g.industryLabel,e.jsx(be,{children:g.industryTooltip})]}),e.jsx("input",{type:"text",value:m,onChange:i=>{b(i.target.value),r({industry:i.target.value})},placeholder:"e.g. SaaS, Fintech, Marketing",className:"w-full p-3 bg-white border border-slate-300 rounded-xl text-sm font-medium focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm hover:border-indigo-400"})]})]})]})]})]})},an=({user:t,language:s,onSave:a})=>{const[r,n]=x.useState(!1),[o,d]=x.useState(""),[l,c]=x.useState(""),[h,f]=x.useState(""),[m,b]=x.useState(!1);E[s].app.settings;const g=async()=>{if(o!==l){f("Las contrase√±as no coinciden");return}if(o.length<6){f("La contrase√±a debe tener al menos 6 caracteres");return}b(!0);try{const{data:{session:i},error:u}=await A.auth.getSession();if(u||!i)throw new Error("Tu sesi√≥n ha expirado. Por favor inicia sesi√≥n nuevamente.");const{data:w,error:j}=await A.auth.updateUser({password:o});if(console.log("Update User Result:",w,j),j)throw j;w.user&&w.user.aud==="authenticated"?(S.success("Contrase√±a actualizada exitosamente"),n(!1),d(""),c("")):S.info("Revisa tu correo para confirmar el cambio.")}catch(i){console.error("Password change error:",i),S.error(i.message||"Error al actualizar contrase√±a")}finally{b(!1)}};return e.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:[e.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-6 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-red-50 rounded-lg",children:e.jsx(Cs,{className:"w-5 h-5 text-red-600"})}),s==="es"?"Credenciales":"Credentials"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid gap-4",children:e.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-100 rounded-xl bg-slate-50/50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-sm text-slate-900",children:"Email"}),e.jsx("p",{className:"text-xs text-slate-500",children:s==="es"?"Direcci√≥n asociada a tu cuenta":"Address associated with your account"})]}),e.jsx("div",{className:"text-sm font-medium text-slate-700 bg-white px-3 py-1.5 rounded-lg border border-slate-200",children:t.email||"No email found"})]})}),e.jsxs("div",{className:"border-t border-slate-100 pt-6",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-900 mb-4",children:"Contrase√±a"}),r?e.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 space-y-4 animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500",children:"Nueva Contrase√±a"}),e.jsx("input",{type:"password",value:o,onChange:i=>{d(i.target.value),f("")},className:"w-full p-2.5 bg-white border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-brand-500/20 outline-none",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500",children:"Confirmar Contrase√±a"}),e.jsx("input",{type:"password",value:l,onChange:i=>{c(i.target.value),f("")},className:"w-full p-2.5 bg-white border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-brand-500/20 outline-none",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"})]})]}),h&&e.jsx("p",{className:"text-xs text-red-500 font-medium",children:h}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:g,disabled:m||!o||!l,className:"px-4 py-2 bg-brand-600 text-white text-sm font-bold rounded-lg hover:bg-brand-700 disabled:opacity-50 transition-colors",children:m?"Guardando...":"Actualizar Contrase√±a"}),e.jsx("button",{onClick:()=>{n(!1),d(""),c(""),f("")},className:"px-4 py-2 text-slate-500 text-sm font-medium hover:text-slate-700",children:"Cancelar"})]})]}):e.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-slate-700 hover:bg-slate-100 transition-colors",children:[e.jsx(ce,{className:"w-4 h-4"}),"Cambiar Contrase√±a"]})]})]})]})},rn=({language:t,reason:s,setReason:a,onClose:r,onNext:n})=>{const o=E[t].app.cancellation,d=[{id:"expensive",label:o.reasons.expensive,icon:zs},{id:"usage",label:o.reasons.usage,icon:se},{id:"alternative",label:o.reasons.alternative,icon:yt},{id:"features",label:o.reasons.features,icon:me},{id:"other",label:o.reasons.other,icon:Ue}];return e.jsxs("div",{className:"space-y-8 p-1",children:[e.jsxs("div",{className:"text-center space-y-4 mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-white border border-slate-100 rounded-full flex items-center justify-center mx-auto shadow-sm",children:e.jsx(te,{className:"w-8 h-8 text-slate-900",strokeWidth:1.5})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-display font-semibold text-slate-900",children:o.title}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:o.subtitle})]})]}),e.jsx("div",{className:"space-y-2.5",children:d.map(l=>e.jsxs("button",{onClick:()=>a(l.label),className:`w-full p-4 rounded-xl border transition-all duration-200 flex items-center justify-between group
                        ${s===l.label?"border-slate-900 bg-slate-900 text-white shadow-lg shadow-slate-900/10":"border-slate-200 bg-white text-slate-600 hover:border-slate-300 hover:bg-slate-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(l.icon,{className:`w-5 h-5 ${s===l.label?"text-white":"text-slate-400 group-hover:text-slate-600"}`,strokeWidth:1.5}),e.jsx("span",{className:"font-medium text-sm",children:l.label})]}),s===l.label&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-full mr-2"})]},l.id))}),e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsx("button",{onClick:r,className:"w-full py-3.5 bg-slate-900 text-white font-bold rounded-xl hover:bg-slate-800 transition-all shadow-lg shadow-slate-900/10 hover:-translate-y-0.5",children:o.keepPlan}),e.jsx("button",{onClick:n,disabled:!s,className:"w-full py-3 text-slate-500 font-medium hover:text-red-600 transition-colors text-sm disabled:opacity-50 disabled:hover:text-slate-500",children:o.continue})]})]})},nn=({language:t,planPrice:s,discountType:a,isLoading:r,onApplyCoupon:n,onReject:o})=>{const d=E[t].app.cancellation,l=a==="30",c=l?d.offer30:d.offer50,h=l?.7:.5,f=l?"RETENTION_30":"RETENTION_50",m=l?Ye:Ss,b=l?"text-amber-600":"text-red-600",g=l?"bg-amber-100":"bg-red-100",i=l?"bg-amber-500":"bg-red-500",u=l?"bg-amber-500 hover:bg-amber-600":"bg-red-500 hover:bg-red-600",w=l?"shadow-amber-500/20":"shadow-red-500/20";return e.jsxs("div",{className:"space-y-8 text-center px-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:`w-16 h-16 ${g} rounded-full flex items-center justify-center mx-auto shadow-sm`,children:e.jsx(m,{className:`w-8 h-8 ${b}`,strokeWidth:1.5})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-display font-semibold text-slate-900",children:c.title}),e.jsx("p",{className:"text-slate-500 font-medium text-sm mt-2 max-w-sm mx-auto",children:c.subtitle})]})]}),e.jsxs("div",{className:"bg-white border text-left border-amber-100 rounded-2xl p-6 shadow-xl shadow-amber-900/5 relative overflow-hidden group hover:border-amber-200 transition-colors",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-amber-50 rounded-full -translate-y-1/2 translate-x-1/2 blur-2xl opacity-50"}),e.jsxs("div",{className:"relative z-10 flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-1rounded-full text-xs font-bold uppercase tracking-wide ${i} text-white rounded-md`,children:c.badge}),e.jsx("p",{className:"text-slate-500 text-xs mt-2 font-medium uppercase tracking-wider",children:c.discountText})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-baseline justify-end gap-1",children:[e.jsxs("span",{className:"text-4xl font-display font-bold text-slate-900",children:["‚Ç¨",(s*h).toFixed(0)]}),e.jsxs("span",{className:"text-slate-400 font-medium line-through decoration-slate-300",children:["‚Ç¨",s]})]}),e.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"/mes por 6 meses"})]})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("button",{onClick:()=>n(f),disabled:r,className:`w-full py-3.5 ${u} text-white font-bold rounded-xl shadow-lg ${w} transition-all hover:scale-[1.02] hover:-translate-y-0.5 active:scale-95 flex items-center justify-center gap-2`,children:r?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):c.claimBtn}),e.jsx("p",{className:"text-[10px] text-slate-400 text-center mt-3 font-medium",children:"Se aplica en tu pr√≥xima factura. Cancela cuando quieras."})]})]}),e.jsx("button",{onClick:o,className:"text-slate-400 hover:text-slate-600 font-medium text-sm hover:underline transition-all",children:c.reject})]})},on=({language:t,isLoading:s,onClose:a,onConfirm:r})=>{const n=E[t].app.cancellation;return e.jsxs("div",{className:"space-y-8 text-center px-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-4 border border-red-100 shadow-sm",children:e.jsx(te,{className:"w-8 h-8 text-red-600",strokeWidth:1.5})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-display font-semibold text-slate-900",children:n.confirm.title}),e.jsx("p",{className:"text-slate-500 font-medium text-sm mt-2 max-w-xs mx-auto",children:n.confirm.subtitle})]})]}),e.jsxs("div",{className:"bg-slate-50/50 p-6 rounded-2xl text-left space-y-4 border border-slate-100",children:[e.jsx("h4",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-2 font-display",children:"Lo que perder√°s"}),e.jsxs("div",{className:"flex items-start gap-3 text-sm text-slate-700",children:[e.jsx("div",{className:"mt-0.5 p-0.5 bg-slate-200 rounded-full shrink-0 text-slate-600",children:e.jsx(K,{className:"w-3 h-3 stroke-[3]"})}),e.jsx("span",{className:"font-medium text-slate-600 leading-snug",children:n.confirm.access})]}),e.jsxs("div",{className:"flex items-start gap-3 text-sm text-slate-700",children:[e.jsx("div",{className:"mt-0.5 p-0.5 bg-slate-200 rounded-full shrink-0 text-slate-600",children:e.jsx(K,{className:"w-3 h-3 stroke-[3]"})}),e.jsx("span",{className:"font-medium text-slate-600 leading-snug",children:n.confirm.data})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-amber-700 font-semibold bg-amber-50 p-3 rounded-lg border border-amber-100/50",children:[e.jsx(te,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{children:n.confirm.frozen})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:a,className:"w-full py-3.5 bg-slate-900 text-white font-bold rounded-xl hover:bg-slate-800 transition-all shadow-lg hover:shadow-slate-900/20 active:scale-95",children:n.confirm.goBack}),e.jsx("button",{onClick:r,disabled:s,className:"w-full py-3 bg-white text-slate-400 font-bold rounded-xl border border-slate-100 hover:text-red-600 hover:border-red-100 hover:bg-red-50 transition-all disabled:opacity-50 text-sm",children:s?n.confirm.canceling:n.confirm.confirmBtn})]})]})},tt=({isOpen:t,onClose:s,children:a,maxWidth:r="max-w-5xl",showCloseButton:n=!0})=>(x.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),t?e.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4 overflow-y-auto",onClick:o=>{o.target===o.currentTarget&&s()},children:e.jsxs("div",{className:`bg-white rounded-3xl shadow-2xl w-full ${r} overflow-hidden relative animate-in fade-in zoom-in duration-200 my-8`,children:[n&&e.jsx("button",{onClick:s,className:"absolute top-4 right-4 p-2 bg-slate-100 hover:bg-slate-200 rounded-full text-slate-500 z-10 transition-colors",children:e.jsx(K,{className:"w-5 h-5"})}),a]})}):null),ln=({isOpen:t,onClose:s,userEmail:a,language:r,subscriptionId:n,onCancelSuccess:o,planPrice:d})=>{const[l,c]=x.useState("reason"),[h,f]=x.useState(""),[m,b]=x.useState(!1),[g,i]=x.useState("30");ee.useEffect(()=>{t&&(c("reason"),f(""))},[t]);const u=async()=>{b(!0);try{const p=g==="30"?"SAVE30":"SAVE50",{error:N}=await A.functions.invoke("manage-subscription",{body:{action:"apply_coupon",subscriptionId:n,couponId:p}});if(N)throw N;s()}catch(p){console.error("Error applying coupon:",p)}finally{b(!1)}},w=async()=>{b(!0);try{const{error:p}=await A.functions.invoke("manage-subscription",{body:{action:"cancel",subscriptionId:n,reason:h}});if(p||p)throw p;o&&o(),s()}catch(p){console.error("Error cancelling subscription:",p)}finally{b(!1)}},j=()=>{switch(l){case"reason":return e.jsx(rn,{reason:h,setReason:f,onNext:()=>{i(h==="too_expensive"||h==="not_using_enough"?"50":"30"),c("offer")},language:r,onClose:s});case"offer":return e.jsx(nn,{discountType:g,onApplyCoupon:u,onReject:()=>c("confirm"),isLoading:m,language:r,planPrice:d});case"confirm":return e.jsx(on,{onConfirm:w,onClose:()=>c("offer"),isLoading:m,language:r})}};return e.jsx(tt,{isOpen:t,onClose:s,maxWidth:"max-w-xl",children:e.jsx("div",{className:"bg-white rounded-3xl overflow-hidden",children:e.jsx("div",{className:"p-1",children:j()})})})},dn=({user:t,language:s,onUpgrade:a,onSave:r})=>{var g;const[n,o]=x.useState(!1),d=E[s].app.settings,l=oe.find(i=>i.id===t.planTier)||oe[0],c=l.credits===-1,h=l.credits===-1?1e3:l.credits,f=t.maxCredits||0,m=Math.max(h,f,t.credits),b=c?100:Math.min(100,t.credits/m*100);return e.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 shadow-sm overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-amber-100/50 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),e.jsxs("div",{className:"flex items-center justify-between mb-6 relative z-10",children:[e.jsxs("h2",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-amber-50 rounded-lg",children:e.jsx(Rt,{className:"w-5 h-5 text-amber-600"})}),d.billingTitle]}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide border ${t.planTier!=="free"?"bg-amber-50 text-amber-700 border-amber-200":"bg-slate-50 text-slate-600 border-slate-200"}`,children:[l.name," Plan"]})]}),e.jsx("div",{className:"max-w-2xl mx-auto mb-8 relative z-10",children:e.jsxs("div",{className:"bg-slate-50/80 rounded-xl p-6 border border-slate-200 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold uppercase text-slate-400 tracking-wider mb-1",children:d.currentUsage}),e.jsxs("div",{className:"flex items-baseline gap-2 mb-3",children:[e.jsx("span",{className:"text-3xl font-display font-bold text-slate-900",children:t.isPremium?s==="es"?"Ilimitados":"Unlimited":t.credits}),!t.isPremium&&e.jsxs("span",{className:"text-sm font-medium text-slate-400",children:["/ ",m," credits"]})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2 mb-2 overflow-hidden",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ease-out ${t.isPremium?"bg-gradient-to-r from-amber-400 to-amber-600 w-full animate-pulse":"bg-gradient-to-r from-brand-500 to-indigo-500"}`,style:{width:t.isPremium?"100%":`${b}%`}})}),e.jsx("p",{className:"text-xs text-slate-500",children:t.isPremium?s==="es"?"Tienes el poder absoluto. Crea sin l√≠mites.":"You have absolute power. Create without limits.":`Resets on ${new Date(Date.now()+720*60*60*1e3).toLocaleDateString()}`})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-200/60 flex flex-col gap-2",children:[e.jsxs("button",{onClick:a,className:"text-sm font-bold text-brand-600 hover:text-brand-700 hover:underline flex items-center gap-1",children:[d.manageSub," ",e.jsx(He,{className:"w-4 h-4"})]}),t.planTier!=="free"&&!t.cancelAtPeriodEnd&&e.jsx("button",{onClick:()=>o(!0),className:"text-xs font-medium text-slate-400 hover:text-red-500 hover:underline flex items-center gap-1 w-fit transition-colors",children:"Cancelar Suscripci√≥n"}),t.cancelAtPeriodEnd&&e.jsx("span",{className:"text-xs font-bold text-amber-600 bg-amber-50 px-2 py-1 rounded w-fit",children:"Cancels at period end"})]})]})}),e.jsx(ln,{isOpen:n,onClose:()=>o(!1),userEmail:t.email||"",subscriptionId:t.subscriptionId,language:s,planPrice:((g=oe.find(i=>i.id===t.planTier))==null?void 0:g.price)||0,onCancelSuccess:()=>{r({cancelAtPeriodEnd:!0})}})]})},cn=({user:t,onUpgrade:s,onSave:a})=>{const[r,n]=x.useState(t.language||"en"),[o,d]=x.useState(!1),[l,c]=x.useState(!1),[h,f]=x.useState({}),m=E[r].app.settings,b=async()=>{d(!0),await new Promise(i=>setTimeout(i,500)),a({...h,language:r}),d(!1),c(!0),S.success(r==="es"?"Se han guardado los cambios con √©xito.":"Changes saved successfully."),setTimeout(()=>c(!1),2e3)},g=i=>{f(u=>({...u,...i}))};return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 lg:space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-12",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-slate-900",children:m.title}),e.jsx("p",{className:"text-slate-500",children:m.subtitle})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 shadow-sm",children:[e.jsxs("h2",{className:"text-lg font-bold text-slate-900 mb-6 flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-orange-50 rounded-lg",children:e.jsx(ye,{className:"w-5 h-5 text-orange-600"})}),m.trophyRoom]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:xt.map(i=>{const u=t.unlockedAchievements.includes(i.id);return e.jsxs("div",{className:`relative p-4 rounded-xl border transition-all ${u?"bg-amber-50/50 border-amber-100":"bg-slate-50 border-slate-100 grayscale opacity-70"}`,children:[!u&&e.jsx("div",{className:"absolute top-3 right-3 text-slate-400",children:e.jsx(ce,{className:"w-4 h-4"})}),e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-3 shadow-sm ${u?"bg-gradient-to-br from-amber-400 to-orange-500 text-white":"bg-slate-200 text-slate-500"}`,children:e.jsx(ye,{className:"w-5 h-5 fill-current"})}),e.jsx("h4",{className:"font-bold text-sm text-slate-900 mb-1",children:i.title}),e.jsx("p",{className:"text-xs text-slate-500 mb-2 h-8 leading-snug",children:i.description}),e.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold uppercase tracking-wider text-amber-600",children:[e.jsx(ne,{className:"w-3 h-3 fill-current"}),"+",i.xpReward," XP"]})]},i.id)})})]}),e.jsx(sn,{user:t,language:r,setLanguage:n,onSave:g,onUpgrade:s}),e.jsx(an,{user:t,language:r,onSave:a}),e.jsx(dn,{user:t,language:r,onUpgrade:s,onSave:a}),e.jsx("div",{className:"sticky bottom-6 z-40 flex justify-end pt-4 pb-2 mt-8 pointer-events-none",children:e.jsx("div",{className:"pointer-events-auto",children:e.jsxs("button",{onClick:b,disabled:o,className:`flex items-center gap-2 px-8 py-3 text-white font-bold rounded-xl shadow-lg transition-all duration-300 hover:-translate-y-0.5 disabled:opacity-70 disabled:cursor-wait disabled:hover:translate-y-0
                    ${l?"bg-green-500 shadow-green-500/20":"bg-brand-600 hover:bg-brand-700 shadow-brand-500/20"}
                `,children:[o?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):l?e.jsx(re,{className:"w-4 h-4"}):e.jsx(ys,{className:"w-4 h-4"}),o?m.saving:l?m.saved:m.saveChanges]})})})]})},mn=()=>{const{language:t}=W(),s=E[t].app.upgrade;return e.jsxs("div",{className:"p-6 pb-2 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-tr from-amber-300 to-orange-400 text-white rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-orange-500/30",children:e.jsx(G,{className:"w-6 h-6 fill-current"})}),e.jsx("h3",{className:"text-2xl lg:text-3xl font-display font-bold text-slate-900 mb-2",children:s.title}),e.jsx("p",{className:"text-slate-500 mb-6 text-base max-w-2xl mx-auto",children:s.subtitle})]})},un=({billingInterval:t,onChange:s})=>{const{language:a}=W(),r=E[a].app.upgrade;return e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-10",children:[e.jsx("span",{className:`text-sm font-bold ${t==="monthly"?"text-slate-900":"text-slate-400"}`,children:r.monthly}),e.jsx("button",{onClick:()=>s(t==="monthly"?"yearly":"monthly"),className:`w-14 h-8 rounded-full p-1 transition-colors duration-300 flex items-center ${t==="yearly"?"bg-brand-600":"bg-slate-200"}`,children:e.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-sm transition-transform duration-300 ${t==="yearly"?"translate-x-6":"translate-x-0"}`})}),e.jsxs("span",{className:`text-sm font-bold flex items-center gap-2 ${t==="yearly"?"text-slate-900":"text-slate-400"}`,children:[r.yearly,e.jsx("span",{className:"bg-green-100 text-green-700 text-[10px] px-2 py-0.5 rounded-full uppercase tracking-wide",children:r.save})]})]})},hn=({plan:t,currentPlanId:s,billingInterval:a,onUpgrade:r})=>{const{language:n}=W(),o=E[n].app.upgrade;t.id;const d=t.highlight,l={free:0,pro:1,viral:2},c=l[s]||0,h=l[t.id]||0,f=h<=c;return e.jsxs("div",{className:`relative rounded-2xl p-6 border transition-all duration-300 flex flex-col h-full
        ${d?"bg-gradient-to-br from-brand-600 to-indigo-600 text-white border-brand-500 shadow-xl shadow-brand-900/20 scale-100 md:scale-105 z-10 ring-1 ring-white/20":"bg-white text-slate-900 border-slate-200 hover:border-brand-300 hover:shadow-lg"}`,children:[d&&e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-gradient-to-r from-amber-400 to-orange-500 text-white text-[10px] uppercase font-bold px-3 py-1 rounded-full shadow-lg tracking-wider",children:o.mostPopular}),e.jsxs("div",{className:"mb-4 text-center",children:[e.jsx("h4",{className:`text-lg font-bold ${d?"text-white":"text-slate-900"}`,children:t.name}),e.jsx("p",{className:`text-xs mt-1 min-h-[40px] ${d?"text-brand-100":"text-slate-500"}`,children:t.description})]}),e.jsxs("div",{className:"mb-6 text-center border-b border-white/10 pb-6 border-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-center gap-0.5",children:[e.jsxs("span",{className:"text-5xl font-display font-bold tracking-tight",children:["‚Ç¨",a==="yearly"?(t.price*.8).toFixed(0):t.price]}),e.jsx("span",{className:`text-base font-medium mb-1 ${d?"text-brand-200":"text-slate-400"}`,children:"/mes"})]}),a==="yearly"&&t.price>0&&e.jsx("p",{className:"text-[10px] text-green-400 mt-1 font-bold bg-green-500/10 inline-block px-2 py-0.5 rounded-full",children:o.billedYearly.replace("{{amount}}","‚Ç¨"+(t.price*.8*12).toFixed(0))})]}),e.jsx("div",{className:"flex-1 space-y-3 mb-6",children:t.features.map((m,b)=>e.jsxs("div",{className:"flex items-start gap-2.5 text-xs text-left",children:[e.jsx("div",{className:`mt-0.5 p-0.5 rounded-full flex-shrink-0 ${d?"bg-white/20 text-white":"bg-brand-50 text-brand-600"}`,children:e.jsx(re,{className:"w-2.5 h-2.5 stroke-[3]"})}),e.jsx("span",{className:`leading-relaxed ${d?"text-white/90":"text-slate-600"}`,children:m})]},b))}),e.jsx("button",{onClick:()=>{r(t)},disabled:f,className:`w-full py-2.5 rounded-lg font-bold text-sm transition-all duration-200 flex items-center justify-center gap-2
            ${f?"bg-slate-100 text-slate-400 cursor-not-allowed":d?"bg-white text-brand-700 hover:bg-brand-50 hover:-translate-y-0.5 shadow-lg shadow-black/10":"bg-slate-900 hover:bg-slate-800 text-white hover:-translate-y-0.5 shadow-md"}`,children:t.id===s?o.currentPlan:h<c?o.included:e.jsxs(e.Fragment,{children:[e.jsx("span",{children:o.upgradeNow}),t.price>0&&e.jsx(ne,{className:`w-3.5 h-3.5 fill-current ${d?"text-brand-700":"text-white"}`})]})})]})},xn=({isOpen:t,onClose:s,onUpgrade:a,currentPlanId:r})=>{const[n,o]=x.useState("monthly"),{language:d}=W(),l=E[d].app.upgrade;return e.jsxs(tt,{isOpen:t,onClose:s,maxWidth:"max-w-6xl",children:[e.jsx(mn,{}),e.jsxs("div",{className:"p-6 pt-0 text-center",children:[e.jsx(un,{billingInterval:n,onChange:o}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-left",children:oe.map(c=>e.jsx(hn,{plan:c,currentPlanId:r,billingInterval:n,onUpgrade:a},c.id))}),e.jsx("p",{className:"text-xs text-slate-400 mt-8 max-w-xl mx-auto",children:l.securePayment})]})]})},fn=({onUpgrade:t})=>{const{language:s}=W(),a={title:s==="es"?"Accede a tu Historial Ilimitado":"Access Unlimited History",subtitle:s==="es"?"No pierdas tus mejores ideas. Recupera, analiza y reutiliza tu contenido pasado.":"Don't lose your best ideas. Retrieve, analyze, and repurpose your past content.",features:[s==="es"?"Archivo completo de posts":"Complete post archive",s==="es"?"An√°lisis de rendimiento viral":"Viral performance analytics",s==="es"?"Reutilizaci√≥n de contenido en 1 clic":"1-click content repurposing",s==="es"?"Exportaci√≥n de datos":"Data export"],cta:s==="es"?"Ver mis Estad√≠sticas":"View My Stats"};return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] p-8 text-center animate-in fade-in zoom-in duration-500",children:[e.jsxs("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mb-6 relative group",children:[e.jsx(ce,{className:"w-10 h-10 text-blue-600 relative z-10"}),e.jsx("div",{className:"absolute inset-0 bg-blue-400 opacity-20 rounded-full animate-ping group-hover:animate-none"}),e.jsx("div",{className:"absolute -top-2 -right-2 bg-indigo-500 rounded-full p-2 border-4 border-white",children:e.jsx(Ct,{className:"w-4 h-4 text-white"})})]}),e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-3 font-outfit",children:a.title}),e.jsx("p",{className:"text-slate-600 max-w-lg text-lg mb-8 text-balance",children:a.subtitle}),e.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 mb-8 max-w-md w-full",children:e.jsx("ul",{className:"space-y-4 text-left",children:a.features.map((r,n)=>e.jsxs("li",{className:"flex items-start gap-3 text-slate-700",children:[e.jsx("div",{className:"mt-0.5 min-w-5",children:e.jsx(re,{className:"w-5 h-5 text-blue-500",strokeWidth:3})}),e.jsx("span",{children:r})]},n))})}),e.jsxs("button",{onClick:t,className:"group relative px-8 py-4 bg-blue-600 text-white font-semibold rounded-xl hover:bg-blue-700 transition-all shadow-lg hover:shadow-blue-500/30 hover:-translate-y-1 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover:animate-shimmer"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-5 h-5"}),a.cta]})]})]})},bn=ee.lazy(()=>Ie(()=>import("./PostGenerator-GtRfiEo6.js"),__vite__mapDeps([0,1,2,3,4]))),gn=()=>{var ke;const{user:t,refreshUser:s,setUser:a,language:r,setLanguage:n}=W(),{posts:o,setPosts:d,currentPost:l,setCurrentPost:c,isGenerating:h,setIsGenerating:f,addPost:m,removePost:b,updatePost:g}=ue();E[r].productTour,x.useEffect(()=>{(async()=>{try{await Ie(()=>import("./PostGenerator-GtRfiEo6.js"),__vite__mapDeps([0,1,2,3,4]))}catch(U){console.error("Error prefetching PostGenerator",U)}})()},[]);const[i,u]=x.useState(()=>{const T=localStorage.getItem("kolink_active_tab");return T==="ideas"?"create":T||"create"}),w=T=>{u(T),localStorage.setItem("kolink_active_tab",T)},[j,p]=x.useState(!1),[N,P]=x.useState(!1),[M,_]=x.useState(!1),[v,D]=x.useState(!1),[$,V]=x.useState(!1),[R,C]=x.useState(!1),[L,Y]=x.useState(!1),[q,st]=x.useState(null),fe=async T=>{if(a(U=>({...U,...T})),t.id)try{await ft(t.id,T)}catch(U){console.error("Failed to persist user updates:",U),S.error("Error saving progress")}},{handleUpgrade:at}=Rs(),{handleGenerate:rt}=Ks({user:t,setUser:a,posts:o,setPosts:d,currentPost:l,setCurrentPost:c,activeTab:i,setActiveTab:w,handleUpdateUser:fe,setShowUpgradeModal:p,setShowCreditDeduction:_,setLevelUpData:st,isGenerating:h,setIsGenerating:f});x.useEffect(()=>{t.hasOnboarded===!1&&!v&&D(!0)},[t.hasOnboarded]),x.useEffect(()=>{!localStorage.getItem(`kolink_tour_seen_${t.id}`)&&!v&&t.hasOnboarded&&(R||V(!0))},[t.id,v,t.hasOnboarded,R]);const Ne=(T,U)=>{U.stopPropagation(),window.confirm("Are you sure you want to delete this post?")&&(b(T),S.success("Post deleted"))},nt=async T=>{await fe(T),D(!1),await s(),V(!0)};return v?e.jsx(wt,{user:t,onComplete:nt}):e.jsxs(oa,{activeTab:i,setActiveTab:w,onUpgrade:()=>p(!0),onReferral:()=>Y(!0),showCreditDeduction:M,onDeletePost:Ne,children:[e.jsx("div",{className:"h-full flex flex-col bg-slate-50",children:e.jsx("div",{className:`flex-1 ${i==="history"?"overflow-hidden":"overflow-y-auto"}`,children:e.jsxs("div",{className:"pb-24 pt-safe safe-area-inset-bottom",children:[i==="create"&&e.jsx("div",{className:"px-4 py-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:e.jsx(x.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading..."}),children:e.jsx(bn,{onGenerate:T=>rt(T),isGenerating:h,credits:t.credits,language:t.language||"en",showCreditDeduction:M,initialParams:l==null?void 0:l.params,initialTopic:(ke=l==null?void 0:l.params)==null?void 0:ke.topic})})}),i==="history"&&e.jsx("div",{className:"h-full",children:t.planTier==="free"?e.jsx(fn,{onUpgrade:()=>p(!0)}):e.jsx("div",{className:"p-2",children:e.jsx(Jr,{onSelect:T=>{c(T),w("create")},onReuse:T=>{w("create")},onDelete:Ne,language:r,onUpgrade:()=>p(!0)})})}),i==="settings"&&e.jsx("div",{className:"p-4",children:e.jsx(cn,{user:t,onUpgrade:()=>p(!0),onSave:fe})})]})})}),j&&e.jsx(xn,{isOpen:j,onClose:()=>p(!1),currentPlanId:t.planTier,onUpgrade:at})]})},yn=Object.freeze(Object.defineProperty({__proto__:null,default:gn},Symbol.toStringTag,{value:"Module"}));export{Ve as C,ie as L,hs as M,gs as P,J as S,be as T,De as W,K as X,ne as Z,se as a,Ns as b,Ds as c,ve as d,yn as e,je as g,ue as u};
