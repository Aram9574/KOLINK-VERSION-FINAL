const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginPage-Bn0RLXIJ.js","assets/user-plus-B1Gef77t.js","assets/arrow-left-BCz6FGuj.js","assets/MobileDashboard-Bo8RxFSR.js","assets/OnboardingFlow-YMNdJgQg.js","assets/PrivacyPolicy-zQpqffPx.js","assets/TermsOfService-hAIbov7d.js","assets/CookiesPage-D4i_wChc.js"])))=>i.map(i=>d[i]);
var CM=Object.defineProperty;var kM=(t,e,n)=>e in t?CM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Si=(t,e,n)=>kM(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function sl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gm={exports:{}},hu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function OM(){if(wE)return hu;wE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:o}}return hu.Fragment=e,hu.jsx=n,hu.jsxs=n,hu}var TE;function MM(){return TE||(TE=1,Gm.exports=OM()),Gm.exports}var Oe=MM(),Ym={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function IM(){if(xE)return ke;xE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),_=Symbol.iterator;function b(R){return R===null||typeof R!="object"?null:(R=_&&R[_]||R["@@iterator"],typeof R=="function"?R:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,T={};function x(R,N,j){this.props=R,this.context=N,this.refs=T,this.updater=j||S}x.prototype.isReactComponent={},x.prototype.setState=function(R,N){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,N,"setState")},x.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function I(){}I.prototype=x.prototype;function D(R,N,j){this.props=R,this.context=N,this.refs=T,this.updater=j||S}var q=D.prototype=new I;q.constructor=D,w(q,x.prototype),q.isPureReactComponent=!0;var ee=Array.isArray;function Q(){}var O={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function ne(R,N,j){var W=j.ref;return{$$typeof:t,type:R,key:N,ref:W!==void 0?W:null,props:j}}function K(R,N){return ne(R.type,N,R.props)}function te(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function se(R){var N={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(j){return N[j]})}var ce=/\/+/g;function le(R,N){return typeof R=="object"&&R!==null&&R.key!=null?se(""+R.key):N.toString(36)}function _e(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Q,Q):(R.status="pending",R.then(function(N){R.status==="pending"&&(R.status="fulfilled",R.value=N)},function(N){R.status==="pending"&&(R.status="rejected",R.reason=N)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function k(R,N,j,W,re){var fe=typeof R;(fe==="undefined"||fe==="boolean")&&(R=null);var Ee=!1;if(R===null)Ee=!0;else switch(fe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(R.$$typeof){case t:case e:Ee=!0;break;case g:return Ee=R._init,k(Ee(R._payload),N,j,W,re)}}if(Ee)return re=re(R),Ee=W===""?"."+le(R,0):W,ee(re)?(j="",Ee!=null&&(j=Ee.replace(ce,"$&/")+"/"),k(re,N,j,"",function(pt){return pt})):re!=null&&(te(re)&&(re=K(re,j+(re.key==null||R&&R.key===re.key?"":(""+re.key).replace(ce,"$&/")+"/")+Ee)),N.push(re)),1;Ee=0;var we=W===""?".":W+":";if(ee(R))for(var He=0;He<R.length;He++)W=R[He],fe=we+le(W,He),Ee+=k(W,N,j,fe,re);else if(He=b(R),typeof He=="function")for(R=He.call(R),He=0;!(W=R.next()).done;)W=W.value,fe=we+le(W,He++),Ee+=k(W,N,j,fe,re);else if(fe==="object"){if(typeof R.then=="function")return k(_e(R),N,j,W,re);throw N=String(R),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function G(R,N,j){if(R==null)return R;var W=[],re=0;return k(R,W,"","",function(fe){return N.call(j,fe,re++)}),W}function F(R){if(R._status===-1){var N=R._result;N=N(),N.then(function(j){(R._status===0||R._status===-1)&&(R._status=1,R._result=j)},function(j){(R._status===0||R._status===-1)&&(R._status=2,R._result=j)}),R._status===-1&&(R._status=0,R._result=N)}if(R._status===1)return R._result.default;throw R._result}var ae=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},J={map:G,forEach:function(R,N,j){G(R,function(){N.apply(this,arguments)},j)},count:function(R){var N=0;return G(R,function(){N++}),N},toArray:function(R){return G(R,function(N){return N})||[]},only:function(R){if(!te(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return ke.Activity=v,ke.Children=J,ke.Component=x,ke.Fragment=n,ke.Profiler=a,ke.PureComponent=D,ke.StrictMode=r,ke.Suspense=f,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,ke.__COMPILER_RUNTIME={__proto__:null,c:function(R){return O.H.useMemoCache(R)}},ke.cache=function(R){return function(){return R.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(R,N,j){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var W=w({},R.props),re=R.key;if(N!=null)for(fe in N.key!==void 0&&(re=""+N.key),N)!z.call(N,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&N.ref===void 0||(W[fe]=N[fe]);var fe=arguments.length-2;if(fe===1)W.children=j;else if(1<fe){for(var Ee=Array(fe),we=0;we<fe;we++)Ee[we]=arguments[we+2];W.children=Ee}return ne(R.type,re,W)},ke.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:o,_context:R},R},ke.createElement=function(R,N,j){var W,re={},fe=null;if(N!=null)for(W in N.key!==void 0&&(fe=""+N.key),N)z.call(N,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(re[W]=N[W]);var Ee=arguments.length-2;if(Ee===1)re.children=j;else if(1<Ee){for(var we=Array(Ee),He=0;He<Ee;He++)we[He]=arguments[He+2];re.children=we}if(R&&R.defaultProps)for(W in Ee=R.defaultProps,Ee)re[W]===void 0&&(re[W]=Ee[W]);return ne(R,fe,re)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(R){return{$$typeof:d,render:R}},ke.isValidElement=te,ke.lazy=function(R){return{$$typeof:g,_payload:{_status:-1,_result:R},_init:F}},ke.memo=function(R,N){return{$$typeof:h,type:R,compare:N===void 0?null:N}},ke.startTransition=function(R){var N=O.T,j={};O.T=j;try{var W=R(),re=O.S;re!==null&&re(j,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Q,ae)}catch(fe){ae(fe)}finally{N!==null&&j.types!==null&&(N.types=j.types),O.T=N}},ke.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},ke.use=function(R){return O.H.use(R)},ke.useActionState=function(R,N,j){return O.H.useActionState(R,N,j)},ke.useCallback=function(R,N){return O.H.useCallback(R,N)},ke.useContext=function(R){return O.H.useContext(R)},ke.useDebugValue=function(){},ke.useDeferredValue=function(R,N){return O.H.useDeferredValue(R,N)},ke.useEffect=function(R,N){return O.H.useEffect(R,N)},ke.useEffectEvent=function(R){return O.H.useEffectEvent(R)},ke.useId=function(){return O.H.useId()},ke.useImperativeHandle=function(R,N,j){return O.H.useImperativeHandle(R,N,j)},ke.useInsertionEffect=function(R,N){return O.H.useInsertionEffect(R,N)},ke.useLayoutEffect=function(R,N){return O.H.useLayoutEffect(R,N)},ke.useMemo=function(R,N){return O.H.useMemo(R,N)},ke.useOptimistic=function(R,N){return O.H.useOptimistic(R,N)},ke.useReducer=function(R,N,j){return O.H.useReducer(R,N,j)},ke.useRef=function(R){return O.H.useRef(R)},ke.useState=function(R){return O.H.useState(R)},ke.useSyncExternalStore=function(R,N,j){return O.H.useSyncExternalStore(R,N,j)},ke.useTransition=function(){return O.H.useTransition()},ke.version="19.2.0",ke}var RE;function c_(){return RE||(RE=1,Ym.exports=IM()),Ym.exports}var $=c_();const Z=sl($);var Vm={exports:{}},pu={},Xm={exports:{}},Km={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function DM(){return AE||(AE=1,(function(t){function e(k,G){var F=k.length;k.push(G);e:for(;0<F;){var ae=F-1>>>1,J=k[ae];if(0<a(J,G))k[ae]=G,k[F]=J,F=ae;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var G=k[0],F=k.pop();if(F!==G){k[0]=F;e:for(var ae=0,J=k.length,R=J>>>1;ae<R;){var N=2*(ae+1)-1,j=k[N],W=N+1,re=k[W];if(0>a(j,F))W<J&&0>a(re,j)?(k[ae]=re,k[W]=F,ae=W):(k[ae]=j,k[N]=F,ae=N);else if(W<J&&0>a(re,F))k[ae]=re,k[W]=F,ae=W;else break e}}return G}function a(k,G){var F=k.sortIndex-G.sortIndex;return F!==0?F:k.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],h=[],g=1,v=null,_=3,b=!1,S=!1,w=!1,T=!1,x=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function q(k){for(var G=n(h);G!==null;){if(G.callback===null)r(h);else if(G.startTime<=k)r(h),G.sortIndex=G.expirationTime,e(f,G);else break;G=n(h)}}function ee(k){if(w=!1,q(k),!S)if(n(f)!==null)S=!0,Q||(Q=!0,se());else{var G=n(h);G!==null&&_e(ee,G.startTime-k)}}var Q=!1,O=-1,z=5,ne=-1;function K(){return T?!0:!(t.unstable_now()-ne<z)}function te(){if(T=!1,Q){var k=t.unstable_now();ne=k;var G=!0;try{e:{S=!1,w&&(w=!1,I(O),O=-1),b=!0;var F=_;try{t:{for(q(k),v=n(f);v!==null&&!(v.expirationTime>k&&K());){var ae=v.callback;if(typeof ae=="function"){v.callback=null,_=v.priorityLevel;var J=ae(v.expirationTime<=k);if(k=t.unstable_now(),typeof J=="function"){v.callback=J,q(k),G=!0;break t}v===n(f)&&r(f),q(k)}else r(f);v=n(f)}if(v!==null)G=!0;else{var R=n(h);R!==null&&_e(ee,R.startTime-k),G=!1}}break e}finally{v=null,_=F,b=!1}G=void 0}}finally{G?se():Q=!1}}}var se;if(typeof D=="function")se=function(){D(te)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,le=ce.port2;ce.port1.onmessage=te,se=function(){le.postMessage(null)}}else se=function(){x(te,0)};function _e(k,G){O=x(function(){k(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(k){switch(_){case 1:case 2:case 3:var G=3;break;default:G=_}var F=_;_=G;try{return k()}finally{_=F}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(k,G){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var F=_;_=k;try{return G()}finally{_=F}},t.unstable_scheduleCallback=function(k,G,F){var ae=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ae+F:ae):F=ae,k){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=F+J,k={id:g++,callback:G,priorityLevel:k,startTime:F,expirationTime:J,sortIndex:-1},F>ae?(k.sortIndex=F,e(h,k),n(f)===null&&k===n(h)&&(w?(I(O),O=-1):w=!0,_e(ee,F-ae))):(k.sortIndex=J,e(f,k),S||b||(S=!0,Q||(Q=!0,se()))),k},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(k){var G=_;return function(){var F=_;_=G;try{return k.apply(this,arguments)}finally{_=F}}}})(Km)),Km}var CE;function NM(){return CE||(CE=1,Xm.exports=DM()),Xm.exports}var Wm={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function LM(){if(kE)return on;kE=1;var t=c_();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,h,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:h,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,on.createPortal=function(f,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,g)},on.flushSync=function(f){var h=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=h,r.p=g,r.d.f()}},on.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},on.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},on.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var g=h.as,v=d(g,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:b}):g==="script"&&r.d.X(f,{crossOrigin:v,integrity:_,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},on.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},on.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,v=d(g,h.crossOrigin);r.d.L(f,g,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},on.preloadModule=function(f,h){if(typeof f=="string")if(h){var g=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},on.requestFormReset=function(f){r.d.r(f)},on.unstable_batchedUpdates=function(f,h){return f(h)},on.useFormState=function(f,h,g){return u.H.useFormState(f,h,g)},on.useFormStatus=function(){return u.H.useHostTransitionStatus()},on.version="19.2.0",on}var OE;function V1(){if(OE)return Wm.exports;OE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wm.exports=LM(),Wm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function PM(){if(ME)return pu;ME=1;var t=NM(),e=c_(),n=V1();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function h(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,c=s;;){var p=l.return;if(p===null)break;var m=p.alternate;if(m===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===m.child){for(m=p.child;m;){if(m===l)return f(p),i;if(m===c)return f(p),s;m=m.sibling}throw Error(r(188))}if(l.return!==c.return)l=p,c=m;else{for(var y=!1,E=p.child;E;){if(E===l){y=!0,l=p,c=m;break}if(E===c){y=!0,c=p,l=m;break}E=E.sibling}if(!y){for(E=m.child;E;){if(E===l){y=!0,l=m,c=p;break}if(E===c){y=!0,c=m,l=p;break}E=E.sibling}if(!y)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function g(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=g(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),D=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function se(i){return i===null||typeof i!="object"?null:(i=te&&i[te]||i["@@iterator"],typeof i=="function"?i:null)}var ce=Symbol.for("react.client.reference");function le(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ce?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case x:return"Profiler";case T:return"StrictMode";case ee:return"Suspense";case Q:return"SuspenseList";case ne:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case D:return i.displayName||"Context";case I:return(i._context.displayName||"Context")+".Consumer";case q:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return s=i.displayName||null,s!==null?s:le(i.type)||"Memo";case z:s=i._payload,i=i._init;try{return le(i(s))}catch{}}return null}var _e=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},ae=[],J=-1;function R(i){return{current:i}}function N(i){0>J||(i.current=ae[J],ae[J]=null,J--)}function j(i,s){J++,ae[J]=i.current,i.current=s}var W=R(null),re=R(null),fe=R(null),Ee=R(null);function we(i,s){switch(j(fe,s),j(re,i),j(W,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?YS(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=YS(s),i=VS(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}N(W),j(W,i)}function He(){N(W),N(re),N(fe)}function pt(i){i.memoizedState!==null&&j(Ee,i);var s=W.current,l=VS(s,i.type);s!==l&&(j(re,i),j(W,l))}function Sn(i){re.current===i&&(N(W),N(re)),Ee.current===i&&(N(Ee),uu._currentValue=F)}var dn,Pr;function Tt(i){if(dn===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);dn=s&&s[1]||"",Pr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dn+i+Pr}var rn=!1;function jn(i,s){if(!i||rn)return"";rn=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var U=H}Reflect.construct(i,[],X)}else{try{X.call()}catch(H){U=H}i.call(X.prototype)}}else{try{throw Error()}catch(H){U=H}(X=i())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&U&&typeof H.stack=="string")return[H.stack,U.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),y=m[0],E=m[1];if(y&&E){var A=y.split(`
`),P=E.split(`
`);for(p=c=0;c<A.length&&!A[c].includes("DetermineComponentFrameRoot");)c++;for(;p<P.length&&!P[p].includes("DetermineComponentFrameRoot");)p++;if(c===A.length||p===P.length)for(c=A.length-1,p=P.length-1;1<=c&&0<=p&&A[c]!==P[p];)p--;for(;1<=c&&0<=p;c--,p--)if(A[c]!==P[p]){if(c!==1||p!==1)do if(c--,p--,0>p||A[c]!==P[p]){var Y=`
`+A[c].replace(" at new "," at ");return i.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",i.displayName)),Y}while(1<=c&&0<=p);break}}}finally{rn=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Tt(l):""}function fn(i,s){switch(i.tag){case 26:case 27:case 5:return Tt(i.type);case 16:return Tt("Lazy");case 13:return i.child!==s&&s!==null?Tt("Suspense Fallback"):Tt("Suspense");case 19:return Tt("SuspenseList");case 0:case 15:return jn(i.type,!1);case 11:return jn(i.type.render,!1);case 1:return jn(i.type,!0);case 31:return Tt("Activity");default:return""}}function Ur(i){try{var s="",l=null;do s+=fn(i,l),l=i,i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Xt=Object.prototype.hasOwnProperty,Ne=t.unstable_scheduleCallback,Kt=t.unstable_cancelCallback,ye=t.unstable_shouldYield,St=t.unstable_requestPaint,st=t.unstable_now,Ve=t.unstable_getCurrentPriorityLevel,yr=t.unstable_ImmediatePriority,Ac=t.unstable_UserBlockingPriority,Ns=t.unstable_NormalPriority,El=t.unstable_LowPriority,ni=t.unstable_IdlePriority,Cc=t.log,Hi=t.unstable_setDisableYieldValue,Ls=null,hn=null;function br(i){if(typeof Cc=="function"&&Hi(i),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode(Ls,i)}catch{}}var sn=Math.clz32?Math.clz32:$r,Nh=Math.log,wl=Math.LN2;function $r(i){return i>>>=0,i===0?32:31-(Nh(i)/wl|0)|0}var ka=256,Oa=262144,Ps=4194304;function zr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ae(i,s,l){var c=i.pendingLanes;if(c===0)return 0;var p=0,m=i.suspendedLanes,y=i.pingedLanes;i=i.warmLanes;var E=c&134217727;return E!==0?(c=E&~m,c!==0?p=zr(c):(y&=E,y!==0?p=zr(y):l||(l=E&~i,l!==0&&(p=zr(l))))):(E=c&~m,E!==0?p=zr(E):y!==0?p=zr(y):l||(l=c&~i,l!==0&&(p=zr(l)))),p===0?0:s!==0&&s!==p&&(s&m)===0&&(m=p&-p,l=s&-s,m>=l||m===32&&(l&4194048)!==0)?s:p}function _t(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Ft(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function an(){var i=Ps;return Ps<<=1,(Ps&62914560)===0&&(Ps=4194304),i}function Bi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Et(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function En(i,s,l,c,p,m){var y=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var E=i.entanglements,A=i.expirationTimes,P=i.hiddenUpdates;for(l=y&~l;0<l;){var Y=31-sn(l),X=1<<Y;E[Y]=0,A[Y]=-1;var U=P[Y];if(U!==null)for(P[Y]=null,Y=0;Y<U.length;Y++){var H=U[Y];H!==null&&(H.lane&=-536870913)}l&=~X}c!==0&&Us(i,c,0),m!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=m&~(y&~s))}function Us(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-sn(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|l&261930}function wn(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var c=31-sn(l),p=1<<c;p&s|i[c]&s&&(i[c]|=s),l&=~p}}function Tn(i,s){var l=s&-s;return l=(l&42)!==0?1:Ma(l),(l&(i.suspendedLanes|s))!==0?0:l}function Ma(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Sr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Lh(){var i=G.p;return i!==0?i:(i=window.event,i===void 0?32:gE(i.type))}function Iy(i,s){var l=G.p;try{return G.p=i,s()}finally{G.p=l}}var Fi=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Fi,xn="__reactProps$"+Fi,Ia="__reactContainer$"+Fi,Ph="__reactEvents$"+Fi,vk="__reactListeners$"+Fi,_k="__reactHandles$"+Fi,Dy="__reactResources$"+Fi,Tl="__reactMarker$"+Fi;function Uh(i){delete i[Wt],delete i[xn],delete i[Ph],delete i[vk],delete i[_k]}function Da(i){var s=i[Wt];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Ia]||l[Wt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=eE(i);i!==null;){if(l=i[Wt])return l;i=eE(i)}return s}i=l,l=i.parentNode}return null}function Na(i){if(i=i[Wt]||i[Ia]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function xl(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function La(i){var s=i[Dy];return s||(s=i[Dy]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function qt(i){i[Tl]=!0}var Ny=new Set,Ly={};function $s(i,s){Pa(i,s),Pa(i+"Capture",s)}function Pa(i,s){for(Ly[i]=s,i=0;i<s.length;i++)Ny.add(s[i])}var yk=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Py={},Uy={};function bk(i){return Xt.call(Uy,i)?!0:Xt.call(Py,i)?!1:yk.test(i)?Uy[i]=!0:(Py[i]=!0,!1)}function kc(i,s,l){if(bk(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Oc(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function ri(i,s,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+c)}}function er(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function $y(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Sk(i,s,l){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,m=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(y){l=""+y,m.call(this,y)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function $h(i){if(!i._valueTracker){var s=$y(i)?"checked":"value";i._valueTracker=Sk(i,s,""+i[s])}}function zy(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return i&&(c=$y(i)?i.checked?"true":"false":i.value),i=c,i!==l?(s.setValue(i),!0):!1}function Mc(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ek=/[\n"\\]/g;function tr(i){return i.replace(Ek,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function zh(i,s,l,c,p,m,y,E){i.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?i.type=y:i.removeAttribute("type"),s!=null?y==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+er(s)):i.value!==""+er(s)&&(i.value=""+er(s)):y!=="submit"&&y!=="reset"||i.removeAttribute("value"),s!=null?jh(i,y,er(s)):l!=null?jh(i,y,er(l)):c!=null&&i.removeAttribute("value"),p==null&&m!=null&&(i.defaultChecked=!!m),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+er(E):i.removeAttribute("name")}function jy(i,s,l,c,p,m,y,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),s!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){$h(i);return}l=l!=null?""+er(l):"",s=s!=null?""+er(s):l,E||s===i.value||(i.value=s),i.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=E?i.checked:!!c,i.defaultChecked=!!c,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.name=y),$h(i)}function jh(i,s,l){s==="number"&&Mc(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Ua(i,s,l,c){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&c&&(i[l].defaultSelected=!0)}else{for(l=""+er(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function Hy(i,s,l){if(s!=null&&(s=""+er(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+er(l):""}function By(i,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(r(92));if(_e(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=er(s),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c),$h(i)}function $a(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var wk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fy(i,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,l):typeof l!="number"||l===0||wk.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function qy(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&l[p]!==c&&Fy(i,p,c)}else for(var m in s)s.hasOwnProperty(m)&&Fy(i,m,s[m])}function Hh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ic(i){return xk.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ii(){}var Bh=null;function Fh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var za=null,ja=null;function Gy(i){var s=Na(i);if(s&&(i=s.stateNode)){var l=i[xn]||null;e:switch(i=s.stateNode,s.type){case"input":if(zh(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+tr(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==i&&c.form===i.form){var p=c[xn]||null;if(!p)throw Error(r(90));zh(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===i.form&&zy(c)}break e;case"textarea":Hy(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Ua(i,!!l.multiple,s,!1)}}}var qh=!1;function Yy(i,s,l){if(qh)return i(s,l);qh=!0;try{var c=i(s);return c}finally{if(qh=!1,(za!==null||ja!==null)&&(yd(),za&&(s=za,i=ja,ja=za=null,Gy(s),i)))for(s=0;s<i.length;s++)Gy(i[s])}}function Rl(i,s){var l=i.stateNode;if(l===null)return null;var c=l[xn]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gh=!1;if(si)try{var Al={};Object.defineProperty(Al,"passive",{get:function(){Gh=!0}}),window.addEventListener("test",Al,Al),window.removeEventListener("test",Al,Al)}catch{Gh=!1}var qi=null,Yh=null,Dc=null;function Vy(){if(Dc)return Dc;var i,s=Yh,l=s.length,c,p="value"in qi?qi.value:qi.textContent,m=p.length;for(i=0;i<l&&s[i]===p[i];i++);var y=l-i;for(c=1;c<=y&&s[l-c]===p[m-c];c++);return Dc=p.slice(i,1<c?1-c:void 0)}function Nc(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Lc(){return!0}function Xy(){return!1}function Rn(i){function s(l,c,p,m,y){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=m,this.target=y,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(l=i[E],this[E]=l?l(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Lc:Xy,this.isPropagationStopped=Xy,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Lc)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Lc)},persist:function(){},isPersistent:Lc}),s}var zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pc=Rn(zs),Cl=v({},zs,{view:0,detail:0}),Rk=Rn(Cl),Vh,Xh,kl,Uc=v({},Cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==kl&&(kl&&i.type==="mousemove"?(Vh=i.screenX-kl.screenX,Xh=i.screenY-kl.screenY):Xh=Vh=0,kl=i),Vh)},movementY:function(i){return"movementY"in i?i.movementY:Xh}}),Ky=Rn(Uc),Ak=v({},Uc,{dataTransfer:0}),Ck=Rn(Ak),kk=v({},Cl,{relatedTarget:0}),Kh=Rn(kk),Ok=v({},zs,{animationName:0,elapsedTime:0,pseudoElement:0}),Mk=Rn(Ok),Ik=v({},zs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Dk=Rn(Ik),Nk=v({},zs,{data:0}),Wy=Rn(Nk),Lk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $k(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Uk[i])?!!s[i]:!1}function Wh(){return $k}var zk=v({},Cl,{key:function(i){if(i.key){var s=Lk[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Nc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Pk[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wh,charCode:function(i){return i.type==="keypress"?Nc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Nc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),jk=Rn(zk),Hk=v({},Uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jy=Rn(Hk),Bk=v({},Cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wh}),Fk=Rn(Bk),qk=v({},zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gk=Rn(qk),Yk=v({},Uc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Vk=Rn(Yk),Xk=v({},zs,{newState:0,oldState:0}),Kk=Rn(Xk),Wk=[9,13,27,32],Jh=si&&"CompositionEvent"in window,Ol=null;si&&"documentMode"in document&&(Ol=document.documentMode);var Jk=si&&"TextEvent"in window&&!Ol,Qy=si&&(!Jh||Ol&&8<Ol&&11>=Ol),Zy=" ",e0=!1;function t0(i,s){switch(i){case"keyup":return Wk.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ha=!1;function Qk(i,s){switch(i){case"compositionend":return n0(s);case"keypress":return s.which!==32?null:(e0=!0,Zy);case"textInput":return i=s.data,i===Zy&&e0?null:i;default:return null}}function Zk(i,s){if(Ha)return i==="compositionend"||!Jh&&t0(i,s)?(i=Vy(),Dc=Yh=qi=null,Ha=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Qy&&s.locale!=="ko"?null:s.data;default:return null}}var eO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r0(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!eO[i.type]:s==="textarea"}function i0(i,s,l,c){za?ja?ja.push(c):ja=[c]:za=c,s=Rd(s,"onChange"),0<s.length&&(l=new Pc("onChange","change",null,l,c),i.push({event:l,listeners:s}))}var Ml=null,Il=null;function tO(i){jS(i,0)}function $c(i){var s=xl(i);if(zy(s))return i}function s0(i,s){if(i==="change")return s}var a0=!1;if(si){var Qh;if(si){var Zh="oninput"in document;if(!Zh){var o0=document.createElement("div");o0.setAttribute("oninput","return;"),Zh=typeof o0.oninput=="function"}Qh=Zh}else Qh=!1;a0=Qh&&(!document.documentMode||9<document.documentMode)}function l0(){Ml&&(Ml.detachEvent("onpropertychange",u0),Il=Ml=null)}function u0(i){if(i.propertyName==="value"&&$c(Il)){var s=[];i0(s,Il,i,Fh(i)),Yy(tO,s)}}function nO(i,s,l){i==="focusin"?(l0(),Ml=s,Il=l,Ml.attachEvent("onpropertychange",u0)):i==="focusout"&&l0()}function rO(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return $c(Il)}function iO(i,s){if(i==="click")return $c(s)}function sO(i,s){if(i==="input"||i==="change")return $c(s)}function aO(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Hn=typeof Object.is=="function"?Object.is:aO;function Dl(i,s){if(Hn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!Xt.call(s,p)||!Hn(i[p],s[p]))return!1}return!0}function c0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function d0(i,s){var l=c0(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=s&&c>=s)return{node:l,offset:s-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=c0(l)}}function f0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?f0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function h0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Mc(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Mc(i.document)}return s}function ep(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var oO=si&&"documentMode"in document&&11>=document.documentMode,Ba=null,tp=null,Nl=null,np=!1;function p0(i,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;np||Ba==null||Ba!==Mc(c)||(c=Ba,"selectionStart"in c&&ep(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Nl&&Dl(Nl,c)||(Nl=c,c=Rd(tp,"onSelect"),0<c.length&&(s=new Pc("onSelect","select",null,s,l),i.push({event:s,listeners:c}),s.target=Ba)))}function js(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Fa={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},rp={},m0={};si&&(m0=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function Hs(i){if(rp[i])return rp[i];if(!Fa[i])return i;var s=Fa[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in m0)return rp[i]=s[l];return i}var g0=Hs("animationend"),v0=Hs("animationiteration"),_0=Hs("animationstart"),lO=Hs("transitionrun"),uO=Hs("transitionstart"),cO=Hs("transitioncancel"),y0=Hs("transitionend"),b0=new Map,ip="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ip.push("scrollEnd");function Er(i,s){b0.set(i,s),$s(s,[i])}var zc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},nr=[],qa=0,sp=0;function jc(){for(var i=qa,s=sp=qa=0;s<i;){var l=nr[s];nr[s++]=null;var c=nr[s];nr[s++]=null;var p=nr[s];nr[s++]=null;var m=nr[s];if(nr[s++]=null,c!==null&&p!==null){var y=c.pending;y===null?p.next=p:(p.next=y.next,y.next=p),c.pending=p}m!==0&&S0(l,p,m)}}function Hc(i,s,l,c){nr[qa++]=i,nr[qa++]=s,nr[qa++]=l,nr[qa++]=c,sp|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function ap(i,s,l,c){return Hc(i,s,l,c),Bc(i)}function Bs(i,s){return Hc(i,null,null,s),Bc(i)}function S0(i,s,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var p=!1,m=i.return;m!==null;)m.childLanes|=l,c=m.alternate,c!==null&&(c.childLanes|=l),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(p=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,p&&s!==null&&(p=31-sn(l),i=m.hiddenUpdates,c=i[p],c===null?i[p]=[s]:c.push(s),s.lane=l|536870912),m):null}function Bc(i){if(50<nu)throw nu=0,mm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Ga={};function dO(i,s,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(i,s,l,c){return new dO(i,s,l,c)}function op(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ai(i,s){var l=i.alternate;return l===null?(l=Bn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function E0(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Fc(i,s,l,c,p,m){var y=0;if(c=i,typeof i=="function")op(i)&&(y=1);else if(typeof i=="string")y=gM(i,l,W.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case ne:return i=Bn(31,l,s,p),i.elementType=ne,i.lanes=m,i;case w:return Fs(l.children,p,m,s);case T:y=8,p|=24;break;case x:return i=Bn(12,l,s,p|2),i.elementType=x,i.lanes=m,i;case ee:return i=Bn(13,l,s,p),i.elementType=ee,i.lanes=m,i;case Q:return i=Bn(19,l,s,p),i.elementType=Q,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:y=10;break e;case I:y=9;break e;case q:y=11;break e;case O:y=14;break e;case z:y=16,c=null;break e}y=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=Bn(y,l,s,p),s.elementType=i,s.type=c,s.lanes=m,s}function Fs(i,s,l,c){return i=Bn(7,i,c,s),i.lanes=l,i}function lp(i,s,l){return i=Bn(6,i,null,s),i.lanes=l,i}function w0(i){var s=Bn(18,null,null,0);return s.stateNode=i,s}function up(i,s,l){return s=Bn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var T0=new WeakMap;function rr(i,s){if(typeof i=="object"&&i!==null){var l=T0.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Ur(s)},T0.set(i,s),s)}return{value:i,source:s,stack:Ur(s)}}var Ya=[],Va=0,qc=null,Ll=0,ir=[],sr=0,Gi=null,jr=1,Hr="";function oi(i,s){Ya[Va++]=Ll,Ya[Va++]=qc,qc=i,Ll=s}function x0(i,s,l){ir[sr++]=jr,ir[sr++]=Hr,ir[sr++]=Gi,Gi=i;var c=jr;i=Hr;var p=32-sn(c)-1;c&=~(1<<p),l+=1;var m=32-sn(s)+p;if(30<m){var y=p-p%5;m=(c&(1<<y)-1).toString(32),c>>=y,p-=y,jr=1<<32-sn(s)+p|l<<p|c,Hr=m+i}else jr=1<<m|l<<p|c,Hr=i}function cp(i){i.return!==null&&(oi(i,1),x0(i,1,0))}function dp(i){for(;i===qc;)qc=Ya[--Va],Ya[Va]=null,Ll=Ya[--Va],Ya[Va]=null;for(;i===Gi;)Gi=ir[--sr],ir[sr]=null,Hr=ir[--sr],ir[sr]=null,jr=ir[--sr],ir[sr]=null}function R0(i,s){ir[sr++]=jr,ir[sr++]=Hr,ir[sr++]=Gi,jr=s.id,Hr=s.overflow,Gi=i}var Jt=null,mt=null,Be=!1,Yi=null,ar=!1,fp=Error(r(519));function Vi(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pl(rr(s,i)),fp}function A0(i){var s=i.stateNode,l=i.type,c=i.memoizedProps;switch(s[Wt]=i,s[xn]=c,l){case"dialog":Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":case"embed":Pe("load",s);break;case"video":case"audio":for(l=0;l<iu.length;l++)Pe(iu[l],s);break;case"source":Pe("error",s);break;case"img":case"image":case"link":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"input":Pe("invalid",s),jy(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Pe("invalid",s);break;case"textarea":Pe("invalid",s),By(s,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||qS(s.textContent,l)?(c.popover!=null&&(Pe("beforetoggle",s),Pe("toggle",s)),c.onScroll!=null&&Pe("scroll",s),c.onScrollEnd!=null&&Pe("scrollend",s),c.onClick!=null&&(s.onclick=ii),s=!0):s=!1,s||Vi(i,!0)}function C0(i){for(Jt=i.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:ar=!1;return;case 27:case 3:ar=!0;return;default:Jt=Jt.return}}function Xa(i){if(i!==Jt)return!1;if(!Be)return C0(i),Be=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Om(i.type,i.memoizedProps)),l=!l),l&&mt&&Vi(i),C0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));mt=ZS(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));mt=ZS(i)}else s===27?(s=mt,os(i.type)?(i=Lm,Lm=null,mt=i):mt=s):mt=Jt?lr(i.stateNode.nextSibling):null;return!0}function qs(){mt=Jt=null,Be=!1}function hp(){var i=Yi;return i!==null&&(On===null?On=i:On.push.apply(On,i),Yi=null),i}function Pl(i){Yi===null?Yi=[i]:Yi.push(i)}var pp=R(null),Gs=null,li=null;function Xi(i,s,l){j(pp,s._currentValue),s._currentValue=l}function ui(i){i._currentValue=pp.current,N(pp)}function mp(i,s,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===l)break;i=i.return}}function gp(i,s,l,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var m=p.dependencies;if(m!==null){var y=p.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=p;for(var A=0;A<s.length;A++)if(E.context===s[A]){m.lanes|=l,E=m.alternate,E!==null&&(E.lanes|=l),mp(m.return,l,i),c||(y=null);break e}m=E.next}}else if(p.tag===18){if(y=p.return,y===null)throw Error(r(341));y.lanes|=l,m=y.alternate,m!==null&&(m.lanes|=l),mp(y,l,i),y=null}else y=p.child;if(y!==null)y.return=p;else for(y=p;y!==null;){if(y===i){y=null;break}if(p=y.sibling,p!==null){p.return=y.return,y=p;break}y=y.return}p=y}}function Ka(i,s,l,c){i=null;for(var p=s,m=!1;p!==null;){if(!m){if((p.flags&524288)!==0)m=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var y=p.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=p.type;Hn(p.pendingProps.value,y.value)||(i!==null?i.push(E):i=[E])}}else if(p===Ee.current){if(y=p.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(uu):i=[uu])}p=p.return}i!==null&&gp(s,i,l,c),s.flags|=262144}function Gc(i){for(i=i.firstContext;i!==null;){if(!Hn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ys(i){Gs=i,li=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Qt(i){return k0(Gs,i)}function Yc(i,s){return Gs===null&&Ys(i),k0(i,s)}function k0(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},li===null){if(i===null)throw Error(r(308));li=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else li=li.next=s;return l}var fO=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},hO=t.unstable_scheduleCallback,pO=t.unstable_NormalPriority,Dt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vp(){return{controller:new fO,data:new Map,refCount:0}}function Ul(i){i.refCount--,i.refCount===0&&hO(pO,function(){i.controller.abort()})}var $l=null,_p=0,Wa=0,Ja=null;function mO(i,s){if($l===null){var l=$l=[];_p=0,Wa=Sm(),Ja={status:"pending",value:void 0,then:function(c){l.push(c)}}}return _p++,s.then(O0,O0),s}function O0(){if(--_p===0&&$l!==null){Ja!==null&&(Ja.status="fulfilled");var i=$l;$l=null,Wa=0,Ja=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function gO(i,s){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var M0=k.S;k.S=function(i,s){pS=st(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&mO(i,s),M0!==null&&M0(i,s)};var Vs=R(null);function yp(){var i=Vs.current;return i!==null?i:ut.pooledCache}function Vc(i,s){s===null?j(Vs,Vs.current):j(Vs,s.pool)}function I0(){var i=yp();return i===null?null:{parent:Dt._currentValue,pool:i}}var Qa=Error(r(460)),bp=Error(r(474)),Xc=Error(r(542)),Kc={then:function(){}};function D0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function N0(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(ii,ii),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,P0(i),i;default:if(typeof s.status=="string")s.then(ii,ii);else{if(i=ut,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,P0(i),i}throw Ks=s,Qa}}function Xs(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ks=l,Qa):l}}var Ks=null;function L0(){if(Ks===null)throw Error(r(459));var i=Ks;return Ks=null,i}function P0(i){if(i===Qa||i===Xc)throw Error(r(483))}var Za=null,zl=0;function Wc(i){var s=zl;return zl+=1,Za===null&&(Za=[]),N0(Za,i,s)}function jl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Jc(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function U0(i){function s(M,C){if(i){var L=M.deletions;L===null?(M.deletions=[C],M.flags|=16):L.push(C)}}function l(M,C){if(!i)return null;for(;C!==null;)s(M,C),C=C.sibling;return null}function c(M){for(var C=new Map;M!==null;)M.key!==null?C.set(M.key,M):C.set(M.index,M),M=M.sibling;return C}function p(M,C){return M=ai(M,C),M.index=0,M.sibling=null,M}function m(M,C,L){return M.index=L,i?(L=M.alternate,L!==null?(L=L.index,L<C?(M.flags|=67108866,C):L):(M.flags|=67108866,C)):(M.flags|=1048576,C)}function y(M){return i&&M.alternate===null&&(M.flags|=67108866),M}function E(M,C,L,V){return C===null||C.tag!==6?(C=lp(L,M.mode,V),C.return=M,C):(C=p(C,L),C.return=M,C)}function A(M,C,L,V){var ve=L.type;return ve===w?Y(M,C,L.props.children,V,L.key):C!==null&&(C.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===z&&Xs(ve)===C.type)?(C=p(C,L.props),jl(C,L),C.return=M,C):(C=Fc(L.type,L.key,L.props,null,M.mode,V),jl(C,L),C.return=M,C)}function P(M,C,L,V){return C===null||C.tag!==4||C.stateNode.containerInfo!==L.containerInfo||C.stateNode.implementation!==L.implementation?(C=up(L,M.mode,V),C.return=M,C):(C=p(C,L.children||[]),C.return=M,C)}function Y(M,C,L,V,ve){return C===null||C.tag!==7?(C=Fs(L,M.mode,V,ve),C.return=M,C):(C=p(C,L),C.return=M,C)}function X(M,C,L){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=lp(""+C,M.mode,L),C.return=M,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case b:return L=Fc(C.type,C.key,C.props,null,M.mode,L),jl(L,C),L.return=M,L;case S:return C=up(C,M.mode,L),C.return=M,C;case z:return C=Xs(C),X(M,C,L)}if(_e(C)||se(C))return C=Fs(C,M.mode,L,null),C.return=M,C;if(typeof C.then=="function")return X(M,Wc(C),L);if(C.$$typeof===D)return X(M,Yc(M,C),L);Jc(M,C)}return null}function U(M,C,L,V){var ve=C!==null?C.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ve!==null?null:E(M,C,""+L,V);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case b:return L.key===ve?A(M,C,L,V):null;case S:return L.key===ve?P(M,C,L,V):null;case z:return L=Xs(L),U(M,C,L,V)}if(_e(L)||se(L))return ve!==null?null:Y(M,C,L,V,null);if(typeof L.then=="function")return U(M,C,Wc(L),V);if(L.$$typeof===D)return U(M,C,Yc(M,L),V);Jc(M,L)}return null}function H(M,C,L,V,ve){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return M=M.get(L)||null,E(C,M,""+V,ve);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return M=M.get(V.key===null?L:V.key)||null,A(C,M,V,ve);case S:return M=M.get(V.key===null?L:V.key)||null,P(C,M,V,ve);case z:return V=Xs(V),H(M,C,L,V,ve)}if(_e(V)||se(V))return M=M.get(L)||null,Y(C,M,V,ve,null);if(typeof V.then=="function")return H(M,C,L,Wc(V),ve);if(V.$$typeof===D)return H(M,C,L,Yc(C,V),ve);Jc(C,V)}return null}function pe(M,C,L,V){for(var ve=null,We=null,me=C,Ie=C=0,ze=null;me!==null&&Ie<L.length;Ie++){me.index>Ie?(ze=me,me=null):ze=me.sibling;var Je=U(M,me,L[Ie],V);if(Je===null){me===null&&(me=ze);break}i&&me&&Je.alternate===null&&s(M,me),C=m(Je,C,Ie),We===null?ve=Je:We.sibling=Je,We=Je,me=ze}if(Ie===L.length)return l(M,me),Be&&oi(M,Ie),ve;if(me===null){for(;Ie<L.length;Ie++)me=X(M,L[Ie],V),me!==null&&(C=m(me,C,Ie),We===null?ve=me:We.sibling=me,We=me);return Be&&oi(M,Ie),ve}for(me=c(me);Ie<L.length;Ie++)ze=H(me,M,Ie,L[Ie],V),ze!==null&&(i&&ze.alternate!==null&&me.delete(ze.key===null?Ie:ze.key),C=m(ze,C,Ie),We===null?ve=ze:We.sibling=ze,We=ze);return i&&me.forEach(function(fs){return s(M,fs)}),Be&&oi(M,Ie),ve}function be(M,C,L,V){if(L==null)throw Error(r(151));for(var ve=null,We=null,me=C,Ie=C=0,ze=null,Je=L.next();me!==null&&!Je.done;Ie++,Je=L.next()){me.index>Ie?(ze=me,me=null):ze=me.sibling;var fs=U(M,me,Je.value,V);if(fs===null){me===null&&(me=ze);break}i&&me&&fs.alternate===null&&s(M,me),C=m(fs,C,Ie),We===null?ve=fs:We.sibling=fs,We=fs,me=ze}if(Je.done)return l(M,me),Be&&oi(M,Ie),ve;if(me===null){for(;!Je.done;Ie++,Je=L.next())Je=X(M,Je.value,V),Je!==null&&(C=m(Je,C,Ie),We===null?ve=Je:We.sibling=Je,We=Je);return Be&&oi(M,Ie),ve}for(me=c(me);!Je.done;Ie++,Je=L.next())Je=H(me,M,Ie,Je.value,V),Je!==null&&(i&&Je.alternate!==null&&me.delete(Je.key===null?Ie:Je.key),C=m(Je,C,Ie),We===null?ve=Je:We.sibling=Je,We=Je);return i&&me.forEach(function(AM){return s(M,AM)}),Be&&oi(M,Ie),ve}function lt(M,C,L,V){if(typeof L=="object"&&L!==null&&L.type===w&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case b:e:{for(var ve=L.key;C!==null;){if(C.key===ve){if(ve=L.type,ve===w){if(C.tag===7){l(M,C.sibling),V=p(C,L.props.children),V.return=M,M=V;break e}}else if(C.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===z&&Xs(ve)===C.type){l(M,C.sibling),V=p(C,L.props),jl(V,L),V.return=M,M=V;break e}l(M,C);break}else s(M,C);C=C.sibling}L.type===w?(V=Fs(L.props.children,M.mode,V,L.key),V.return=M,M=V):(V=Fc(L.type,L.key,L.props,null,M.mode,V),jl(V,L),V.return=M,M=V)}return y(M);case S:e:{for(ve=L.key;C!==null;){if(C.key===ve)if(C.tag===4&&C.stateNode.containerInfo===L.containerInfo&&C.stateNode.implementation===L.implementation){l(M,C.sibling),V=p(C,L.children||[]),V.return=M,M=V;break e}else{l(M,C);break}else s(M,C);C=C.sibling}V=up(L,M.mode,V),V.return=M,M=V}return y(M);case z:return L=Xs(L),lt(M,C,L,V)}if(_e(L))return pe(M,C,L,V);if(se(L)){if(ve=se(L),typeof ve!="function")throw Error(r(150));return L=ve.call(L),be(M,C,L,V)}if(typeof L.then=="function")return lt(M,C,Wc(L),V);if(L.$$typeof===D)return lt(M,C,Yc(M,L),V);Jc(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,C!==null&&C.tag===6?(l(M,C.sibling),V=p(C,L),V.return=M,M=V):(l(M,C),V=lp(L,M.mode,V),V.return=M,M=V),y(M)):l(M,C)}return function(M,C,L,V){try{zl=0;var ve=lt(M,C,L,V);return Za=null,ve}catch(me){if(me===Qa||me===Xc)throw me;var We=Bn(29,me,null,M.mode);return We.lanes=V,We.return=M,We}finally{}}}var Ws=U0(!0),$0=U0(!1),Ki=!1;function Sp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ep(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Wi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ji(i,s,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Qe&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=Bc(i),S0(i,null,l),s}return Hc(i,c,s,l),Bc(i)}function Hl(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,wn(i,l)}}function wp(i,s){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var y={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?p=m=y:m=m.next=y,l=l.next}while(l!==null);m===null?p=m=s:m=m.next=s}else p=m=s;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var Tp=!1;function Bl(){if(Tp){var i=Ja;if(i!==null)throw i}}function Fl(i,s,l,c){Tp=!1;var p=i.updateQueue;Ki=!1;var m=p.firstBaseUpdate,y=p.lastBaseUpdate,E=p.shared.pending;if(E!==null){p.shared.pending=null;var A=E,P=A.next;A.next=null,y===null?m=P:y.next=P,y=A;var Y=i.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==y&&(E===null?Y.firstBaseUpdate=P:E.next=P,Y.lastBaseUpdate=A))}if(m!==null){var X=p.baseState;y=0,Y=P=A=null,E=m;do{var U=E.lane&-536870913,H=U!==E.lane;if(H?($e&U)===U:(c&U)===U){U!==0&&U===Wa&&(Tp=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var pe=i,be=E;U=s;var lt=l;switch(be.tag){case 1:if(pe=be.payload,typeof pe=="function"){X=pe.call(lt,X,U);break e}X=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=be.payload,U=typeof pe=="function"?pe.call(lt,X,U):pe,U==null)break e;X=v({},X,U);break e;case 2:Ki=!0}}U=E.callback,U!==null&&(i.flags|=64,H&&(i.flags|=8192),H=p.callbacks,H===null?p.callbacks=[U]:H.push(U))}else H={lane:U,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(P=Y=H,A=X):Y=Y.next=H,y|=U;if(E=E.next,E===null){if(E=p.shared.pending,E===null)break;H=E,E=H.next,H.next=null,p.lastBaseUpdate=H,p.shared.pending=null}}while(!0);Y===null&&(A=X),p.baseState=A,p.firstBaseUpdate=P,p.lastBaseUpdate=Y,m===null&&(p.shared.lanes=0),ns|=y,i.lanes=y,i.memoizedState=X}}function z0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function j0(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)z0(l[i],s)}var eo=R(null),Qc=R(0);function H0(i,s){i=_i,j(Qc,i),j(eo,s),_i=i|s.baseLanes}function xp(){j(Qc,_i),j(eo,eo.current)}function Rp(){_i=Qc.current,N(eo),N(Qc)}var Fn=R(null),or=null;function Qi(i){var s=i.alternate;j(kt,kt.current&1),j(Fn,i),or===null&&(s===null||eo.current!==null||s.memoizedState!==null)&&(or=i)}function Ap(i){j(kt,kt.current),j(Fn,i),or===null&&(or=i)}function B0(i){i.tag===22?(j(kt,kt.current),j(Fn,i),or===null&&(or=i)):Zi()}function Zi(){j(kt,kt.current),j(Fn,Fn.current)}function qn(i){N(Fn),or===i&&(or=null),N(kt)}var kt=R(0);function Zc(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Dm(l)||Nm(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ci=0,Me=null,at=null,Nt=null,ed=!1,to=!1,Js=!1,td=0,ql=0,no=null,vO=0;function xt(){throw Error(r(321))}function Cp(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Hn(i[l],s[l]))return!1;return!0}function kp(i,s,l,c,p,m){return ci=m,Me=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,k.H=i===null||i.memoizedState===null?xb:qp,Js=!1,m=l(c,p),Js=!1,to&&(m=q0(s,l,c,p)),F0(i),m}function F0(i){k.H=Vl;var s=at!==null&&at.next!==null;if(ci=0,Nt=at=Me=null,ed=!1,ql=0,no=null,s)throw Error(r(300));i===null||Lt||(i=i.dependencies,i!==null&&Gc(i)&&(Lt=!0))}function q0(i,s,l,c){Me=i;var p=0;do{if(to&&(no=null),ql=0,to=!1,25<=p)throw Error(r(301));if(p+=1,Nt=at=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}k.H=Rb,m=s(l,c)}while(to);return m}function _O(){var i=k.H,s=i.useState()[0];return s=typeof s.then=="function"?Gl(s):s,i=i.useState()[0],(at!==null?at.memoizedState:null)!==i&&(Me.flags|=1024),s}function Op(){var i=td!==0;return td=0,i}function Mp(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Ip(i){if(ed){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ed=!1}ci=0,Nt=at=Me=null,to=!1,ql=td=0,no=null}function pn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Me.memoizedState=Nt=i:Nt=Nt.next=i,Nt}function Ot(){if(at===null){var i=Me.alternate;i=i!==null?i.memoizedState:null}else i=at.next;var s=Nt===null?Me.memoizedState:Nt.next;if(s!==null)Nt=s,at=i;else{if(i===null)throw Me.alternate===null?Error(r(467)):Error(r(310));at=i,i={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Nt===null?Me.memoizedState=Nt=i:Nt=Nt.next=i}return Nt}function nd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(i){var s=ql;return ql+=1,no===null&&(no=[]),i=N0(no,i,s),s=Me,(Nt===null?s.memoizedState:Nt.next)===null&&(s=s.alternate,k.H=s===null||s.memoizedState===null?xb:qp),i}function rd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Gl(i);if(i.$$typeof===D)return Qt(i)}throw Error(r(438,String(i)))}function Dp(i){var s=null,l=Me.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Me.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=nd(),Me.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),c=0;c<i;c++)l[c]=K;return s.index++,l}function di(i,s){return typeof s=="function"?s(i):s}function id(i){var s=Ot();return Np(s,at,i)}function Np(i,s,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var p=i.baseQueue,m=c.pending;if(m!==null){if(p!==null){var y=p.next;p.next=m.next,m.next=y}s.baseQueue=p=m,c.pending=null}if(m=i.baseState,p===null)i.memoizedState=m;else{s=p.next;var E=y=null,A=null,P=s,Y=!1;do{var X=P.lane&-536870913;if(X!==P.lane?($e&X)===X:(ci&X)===X){var U=P.revertLane;if(U===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===Wa&&(Y=!0);else if((ci&U)===U){P=P.next,U===Wa&&(Y=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},A===null?(E=A=X,y=m):A=A.next=X,Me.lanes|=U,ns|=U;X=P.action,Js&&l(m,X),m=P.hasEagerState?P.eagerState:l(m,X)}else U={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},A===null?(E=A=U,y=m):A=A.next=U,Me.lanes|=X,ns|=X;P=P.next}while(P!==null&&P!==s);if(A===null?y=m:A.next=E,!Hn(m,i.memoizedState)&&(Lt=!0,Y&&(l=Ja,l!==null)))throw l;i.memoizedState=m,i.baseState=y,i.baseQueue=A,c.lastRenderedState=m}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Lp(i){var s=Ot(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,p=l.pending,m=s.memoizedState;if(p!==null){l.pending=null;var y=p=p.next;do m=i(m,y.action),y=y.next;while(y!==p);Hn(m,s.memoizedState)||(Lt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),l.lastRenderedState=m}return[m,c]}function G0(i,s,l){var c=Me,p=Ot(),m=Be;if(m){if(l===void 0)throw Error(r(407));l=l()}else l=s();var y=!Hn((at||p).memoizedState,l);if(y&&(p.memoizedState=l,Lt=!0),p=p.queue,$p(X0.bind(null,c,p,i),[i]),p.getSnapshot!==s||y||Nt!==null&&Nt.memoizedState.tag&1){if(c.flags|=2048,ro(9,{destroy:void 0},V0.bind(null,c,p,l,s),null),ut===null)throw Error(r(349));m||(ci&127)!==0||Y0(c,s,l)}return l}function Y0(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Me.updateQueue,s===null?(s=nd(),Me.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function V0(i,s,l,c){s.value=l,s.getSnapshot=c,K0(s)&&W0(i)}function X0(i,s,l){return l(function(){K0(s)&&W0(i)})}function K0(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Hn(i,l)}catch{return!0}}function W0(i){var s=Bs(i,2);s!==null&&Mn(s,i,2)}function Pp(i){var s=pn();if(typeof i=="function"){var l=i;if(i=l(),Js){br(!0);try{l()}finally{br(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:i},s}function J0(i,s,l,c){return i.baseState=l,Np(i,at,typeof c=="function"?c:di)}function yO(i,s,l,c,p){if(od(i))throw Error(r(485));if(i=s.action,i!==null){var m={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){m.listeners.push(y)}};k.T!==null?l(!0):m.isTransition=!1,c(m),l=s.pending,l===null?(m.next=s.pending=m,Q0(s,m)):(m.next=l.next,s.pending=l.next=m)}}function Q0(i,s){var l=s.action,c=s.payload,p=i.state;if(s.isTransition){var m=k.T,y={};k.T=y;try{var E=l(p,c),A=k.S;A!==null&&A(y,E),Z0(i,s,E)}catch(P){Up(i,s,P)}finally{m!==null&&y.types!==null&&(m.types=y.types),k.T=m}}else try{m=l(p,c),Z0(i,s,m)}catch(P){Up(i,s,P)}}function Z0(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){eb(i,s,c)},function(c){return Up(i,s,c)}):eb(i,s,l)}function eb(i,s,l){s.status="fulfilled",s.value=l,tb(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,Q0(i,l)))}function Up(i,s,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,tb(s),s=s.next;while(s!==c)}i.action=null}function tb(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function nb(i,s){return s}function rb(i,s){if(Be){var l=ut.formState;if(l!==null){e:{var c=Me;if(Be){if(mt){t:{for(var p=mt,m=ar;p.nodeType!==8;){if(!m){p=null;break t}if(p=lr(p.nextSibling),p===null){p=null;break t}}m=p.data,p=m==="F!"||m==="F"?p:null}if(p){mt=lr(p.nextSibling),c=p.data==="F!";break e}}Vi(c)}c=!1}c&&(s=l[0])}}return l=pn(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nb,lastRenderedState:s},l.queue=c,l=Eb.bind(null,Me,c),c.dispatch=l,c=Pp(!1),m=Fp.bind(null,Me,!1,c.queue),c=pn(),p={state:s,dispatch:null,action:i,pending:null},c.queue=p,l=yO.bind(null,Me,p,m,l),p.dispatch=l,c.memoizedState=i,[s,l,!1]}function ib(i){var s=Ot();return sb(s,at,i)}function sb(i,s,l){if(s=Np(i,s,nb)[0],i=id(di)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Gl(s)}catch(y){throw y===Qa?Xc:y}else c=s;s=Ot();var p=s.queue,m=p.dispatch;return l!==s.memoizedState&&(Me.flags|=2048,ro(9,{destroy:void 0},bO.bind(null,p,l),null)),[c,m,i]}function bO(i,s){i.action=s}function ab(i){var s=Ot(),l=at;if(l!==null)return sb(s,l,i);Ot(),s=s.memoizedState,l=Ot();var c=l.queue.dispatch;return l.memoizedState=i,[s,c,!1]}function ro(i,s,l,c){return i={tag:i,create:l,deps:c,inst:s,next:null},s=Me.updateQueue,s===null&&(s=nd(),Me.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,s.lastEffect=i),i}function ob(){return Ot().memoizedState}function sd(i,s,l,c){var p=pn();Me.flags|=i,p.memoizedState=ro(1|s,{destroy:void 0},l,c===void 0?null:c)}function ad(i,s,l,c){var p=Ot();c=c===void 0?null:c;var m=p.memoizedState.inst;at!==null&&c!==null&&Cp(c,at.memoizedState.deps)?p.memoizedState=ro(s,m,l,c):(Me.flags|=i,p.memoizedState=ro(1|s,m,l,c))}function lb(i,s){sd(8390656,8,i,s)}function $p(i,s){ad(2048,8,i,s)}function SO(i){Me.flags|=4;var s=Me.updateQueue;if(s===null)s=nd(),Me.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function ub(i){var s=Ot().memoizedState;return SO({ref:s,nextImpl:i}),function(){if((Qe&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function cb(i,s){return ad(4,2,i,s)}function db(i,s){return ad(4,4,i,s)}function fb(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function hb(i,s,l){l=l!=null?l.concat([i]):null,ad(4,4,fb.bind(null,s,i),l)}function zp(){}function pb(i,s){var l=Ot();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&Cp(s,c[1])?c[0]:(l.memoizedState=[i,s],i)}function mb(i,s){var l=Ot();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&Cp(s,c[1]))return c[0];if(c=i(),Js){br(!0);try{i()}finally{br(!1)}}return l.memoizedState=[c,s],c}function jp(i,s,l){return l===void 0||(ci&1073741824)!==0&&($e&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=gS(),Me.lanes|=i,ns|=i,l)}function gb(i,s,l,c){return Hn(l,s)?l:eo.current!==null?(i=jp(i,l,c),Hn(i,s)||(Lt=!0),i):(ci&42)===0||(ci&1073741824)!==0&&($e&261930)===0?(Lt=!0,i.memoizedState=l):(i=gS(),Me.lanes|=i,ns|=i,s)}function vb(i,s,l,c,p){var m=G.p;G.p=m!==0&&8>m?m:8;var y=k.T,E={};k.T=E,Fp(i,!1,s,l);try{var A=p(),P=k.S;if(P!==null&&P(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var Y=gO(A,c);Yl(i,s,Y,Vn(i))}else Yl(i,s,c,Vn(i))}catch(X){Yl(i,s,{then:function(){},status:"rejected",reason:X},Vn())}finally{G.p=m,y!==null&&E.types!==null&&(y.types=E.types),k.T=y}}function EO(){}function Hp(i,s,l,c){if(i.tag!==5)throw Error(r(476));var p=_b(i).queue;vb(i,p,s,F,l===null?EO:function(){return yb(i),l(c)})}function _b(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:F},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function yb(i){var s=_b(i);s.next===null&&(s=i.alternate.memoizedState),Yl(i,s.next.queue,{},Vn())}function Bp(){return Qt(uu)}function bb(){return Ot().memoizedState}function Sb(){return Ot().memoizedState}function wO(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=Vn();i=Wi(l);var c=Ji(s,i,l);c!==null&&(Mn(c,s,l),Hl(c,s,l)),s={cache:vp()},i.payload=s;return}s=s.return}}function TO(i,s,l){var c=Vn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},od(i)?wb(s,l):(l=ap(i,s,l,c),l!==null&&(Mn(l,i,c),Tb(l,s,c)))}function Eb(i,s,l){var c=Vn();Yl(i,s,l,c)}function Yl(i,s,l,c){var p={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(od(i))wb(s,p);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var y=s.lastRenderedState,E=m(y,l);if(p.hasEagerState=!0,p.eagerState=E,Hn(E,y))return Hc(i,s,p,0),ut===null&&jc(),!1}catch{}finally{}if(l=ap(i,s,p,c),l!==null)return Mn(l,i,c),Tb(l,s,c),!0}return!1}function Fp(i,s,l,c){if(c={lane:2,revertLane:Sm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},od(i)){if(s)throw Error(r(479))}else s=ap(i,l,c,2),s!==null&&Mn(s,i,2)}function od(i){var s=i.alternate;return i===Me||s!==null&&s===Me}function wb(i,s){to=ed=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function Tb(i,s,l){if((l&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,wn(i,l)}}var Vl={readContext:Qt,use:rd,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};Vl.useEffectEvent=xt;var xb={readContext:Qt,use:rd,useCallback:function(i,s){return pn().memoizedState=[i,s===void 0?null:s],i},useContext:Qt,useEffect:lb,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,sd(4194308,4,fb.bind(null,s,i),l)},useLayoutEffect:function(i,s){return sd(4194308,4,i,s)},useInsertionEffect:function(i,s){sd(4,2,i,s)},useMemo:function(i,s){var l=pn();s=s===void 0?null:s;var c=i();if(Js){br(!0);try{i()}finally{br(!1)}}return l.memoizedState=[c,s],c},useReducer:function(i,s,l){var c=pn();if(l!==void 0){var p=l(s);if(Js){br(!0);try{l(s)}finally{br(!1)}}}else p=s;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=TO.bind(null,Me,i),[c.memoizedState,i]},useRef:function(i){var s=pn();return i={current:i},s.memoizedState=i},useState:function(i){i=Pp(i);var s=i.queue,l=Eb.bind(null,Me,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:zp,useDeferredValue:function(i,s){var l=pn();return jp(l,i,s)},useTransition:function(){var i=Pp(!1);return i=vb.bind(null,Me,i.queue,!0,!1),pn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var c=Me,p=pn();if(Be){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),ut===null)throw Error(r(349));($e&127)!==0||Y0(c,s,l)}p.memoizedState=l;var m={value:l,getSnapshot:s};return p.queue=m,lb(X0.bind(null,c,m,i),[i]),c.flags|=2048,ro(9,{destroy:void 0},V0.bind(null,c,m,l,s),null),l},useId:function(){var i=pn(),s=ut.identifierPrefix;if(Be){var l=Hr,c=jr;l=(c&~(1<<32-sn(c)-1)).toString(32)+l,s="_"+s+"R_"+l,l=td++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=vO++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Bp,useFormState:rb,useActionState:rb,useOptimistic:function(i){var s=pn();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Fp.bind(null,Me,!0,l),l.dispatch=s,[i,s]},useMemoCache:Dp,useCacheRefresh:function(){return pn().memoizedState=wO.bind(null,Me)},useEffectEvent:function(i){var s=pn(),l={impl:i};return s.memoizedState=l,function(){if((Qe&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},qp={readContext:Qt,use:rd,useCallback:pb,useContext:Qt,useEffect:$p,useImperativeHandle:hb,useInsertionEffect:cb,useLayoutEffect:db,useMemo:mb,useReducer:id,useRef:ob,useState:function(){return id(di)},useDebugValue:zp,useDeferredValue:function(i,s){var l=Ot();return gb(l,at.memoizedState,i,s)},useTransition:function(){var i=id(di)[0],s=Ot().memoizedState;return[typeof i=="boolean"?i:Gl(i),s]},useSyncExternalStore:G0,useId:bb,useHostTransitionStatus:Bp,useFormState:ib,useActionState:ib,useOptimistic:function(i,s){var l=Ot();return J0(l,at,i,s)},useMemoCache:Dp,useCacheRefresh:Sb};qp.useEffectEvent=ub;var Rb={readContext:Qt,use:rd,useCallback:pb,useContext:Qt,useEffect:$p,useImperativeHandle:hb,useInsertionEffect:cb,useLayoutEffect:db,useMemo:mb,useReducer:Lp,useRef:ob,useState:function(){return Lp(di)},useDebugValue:zp,useDeferredValue:function(i,s){var l=Ot();return at===null?jp(l,i,s):gb(l,at.memoizedState,i,s)},useTransition:function(){var i=Lp(di)[0],s=Ot().memoizedState;return[typeof i=="boolean"?i:Gl(i),s]},useSyncExternalStore:G0,useId:bb,useHostTransitionStatus:Bp,useFormState:ab,useActionState:ab,useOptimistic:function(i,s){var l=Ot();return at!==null?J0(l,at,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Dp,useCacheRefresh:Sb};Rb.useEffectEvent=ub;function Gp(i,s,l,c){s=i.memoizedState,l=l(c,s),l=l==null?s:v({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Yp={enqueueSetState:function(i,s,l){i=i._reactInternals;var c=Vn(),p=Wi(c);p.payload=s,l!=null&&(p.callback=l),s=Ji(i,p,c),s!==null&&(Mn(s,i,c),Hl(s,i,c))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var c=Vn(),p=Wi(c);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=Ji(i,p,c),s!==null&&(Mn(s,i,c),Hl(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Vn(),c=Wi(l);c.tag=2,s!=null&&(c.callback=s),s=Ji(i,c,l),s!==null&&(Mn(s,i,l),Hl(s,i,l))}};function Ab(i,s,l,c,p,m,y){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,m,y):s.prototype&&s.prototype.isPureReactComponent?!Dl(l,c)||!Dl(p,m):!0}function Cb(i,s,l,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==i&&Yp.enqueueReplaceState(s,s.state,null)}function Qs(i,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(i=i.defaultProps){l===s&&(l=v({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}function kb(i){zc(i)}function Ob(i){console.error(i)}function Mb(i){zc(i)}function ld(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Ib(i,s,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Vp(i,s,l){return l=Wi(l),l.tag=3,l.payload={element:null},l.callback=function(){ld(i,s)},l}function Db(i){return i=Wi(i),i.tag=3,i}function Nb(i,s,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var m=c.value;i.payload=function(){return p(m)},i.callback=function(){Ib(s,l,c)}}var y=l.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(i.callback=function(){Ib(s,l,c),typeof p!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function xO(i,s,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&Ka(s,l,p,!0),l=Fn.current,l!==null){switch(l.tag){case 31:case 13:return or===null?bd():l.alternate===null&&Rt===0&&(Rt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===Kc?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),_m(i,c,p)),!1;case 22:return l.flags|=65536,c===Kc?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),_m(i,c,p)),!1}throw Error(r(435,l.tag))}return _m(i,c,p),bd(),!1}if(Be)return s=Fn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==fp&&(i=Error(r(422),{cause:c}),Pl(rr(i,l)))):(c!==fp&&(s=Error(r(423),{cause:c}),Pl(rr(s,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=rr(c,l),p=Vp(i.stateNode,c,p),wp(i,p),Rt!==4&&(Rt=2)),!1;var m=Error(r(520),{cause:c});if(m=rr(m,l),tu===null?tu=[m]:tu.push(m),Rt!==4&&(Rt=2),s===null)return!0;c=rr(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=Vp(l.stateNode,c,i),wp(l,i),!1;case 1:if(s=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(rs===null||!rs.has(m))))return l.flags|=65536,p&=-p,l.lanes|=p,p=Db(p),Nb(p,i,l,c),wp(l,p),!1}l=l.return}while(l!==null);return!1}var Xp=Error(r(461)),Lt=!1;function Zt(i,s,l,c){s.child=i===null?$0(s,null,l,c):Ws(s,i.child,l,c)}function Lb(i,s,l,c,p){l=l.render;var m=s.ref;if("ref"in c){var y={};for(var E in c)E!=="ref"&&(y[E]=c[E])}else y=c;return Ys(s),c=kp(i,s,l,y,m,p),E=Op(),i!==null&&!Lt?(Mp(i,s,p),fi(i,s,p)):(Be&&E&&cp(s),s.flags|=1,Zt(i,s,c,p),s.child)}function Pb(i,s,l,c,p){if(i===null){var m=l.type;return typeof m=="function"&&!op(m)&&m.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=m,Ub(i,s,m,c,p)):(i=Fc(l.type,null,c,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(m=i.child,!nm(i,p)){var y=m.memoizedProps;if(l=l.compare,l=l!==null?l:Dl,l(y,c)&&i.ref===s.ref)return fi(i,s,p)}return s.flags|=1,i=ai(m,c),i.ref=s.ref,i.return=s,s.child=i}function Ub(i,s,l,c,p){if(i!==null){var m=i.memoizedProps;if(Dl(m,c)&&i.ref===s.ref)if(Lt=!1,s.pendingProps=c=m,nm(i,p))(i.flags&131072)!==0&&(Lt=!0);else return s.lanes=i.lanes,fi(i,s,p)}return Kp(i,s,l,c,p)}function $b(i,s,l,c){var p=c.children,m=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,i!==null){for(c=s.child=i.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~m}else c=0,s.child=null;return zb(i,s,m,l,c)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Vc(s,m!==null?m.cachePool:null),m!==null?H0(s,m):xp(),B0(s);else return c=s.lanes=536870912,zb(i,s,m!==null?m.baseLanes|l:l,l,c)}else m!==null?(Vc(s,m.cachePool),H0(s,m),Zi(),s.memoizedState=null):(i!==null&&Vc(s,null),xp(),Zi());return Zt(i,s,p,l),s.child}function Xl(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function zb(i,s,l,c,p){var m=yp();return m=m===null?null:{parent:Dt._currentValue,pool:m},s.memoizedState={baseLanes:l,cachePool:m},i!==null&&Vc(s,null),xp(),B0(s),i!==null&&Ka(i,s,c,!0),s.childLanes=p,null}function ud(i,s){return s=dd({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function jb(i,s,l){return Ws(s,i.child,null,l),i=ud(s,s.pendingProps),i.flags|=2,qn(s),s.memoizedState=null,i}function RO(i,s,l){var c=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Be){if(c.mode==="hidden")return i=ud(s,c),s.lanes=536870912,Xl(null,i);if(Ap(s),(i=mt)?(i=QS(i,ar),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Gi!==null?{id:jr,overflow:Hr}:null,retryLane:536870912,hydrationErrors:null},l=w0(i),l.return=s,s.child=l,Jt=s,mt=null)):i=null,i===null)throw Vi(s);return s.lanes=536870912,null}return ud(s,c)}var m=i.memoizedState;if(m!==null){var y=m.dehydrated;if(Ap(s),p)if(s.flags&256)s.flags&=-257,s=jb(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Lt||Ka(i,s,l,!1),p=(l&i.childLanes)!==0,Lt||p){if(c=ut,c!==null&&(y=Tn(c,l),y!==0&&y!==m.retryLane))throw m.retryLane=y,Bs(i,y),Mn(c,i,y),Xp;bd(),s=jb(i,s,l)}else i=m.treeContext,mt=lr(y.nextSibling),Jt=s,Be=!0,Yi=null,ar=!1,i!==null&&R0(s,i),s=ud(s,c),s.flags|=4096;return s}return i=ai(i.child,{mode:c.mode,children:c.children}),i.ref=s.ref,s.child=i,i.return=s,i}function cd(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function Kp(i,s,l,c,p){return Ys(s),l=kp(i,s,l,c,void 0,p),c=Op(),i!==null&&!Lt?(Mp(i,s,p),fi(i,s,p)):(Be&&c&&cp(s),s.flags|=1,Zt(i,s,l,p),s.child)}function Hb(i,s,l,c,p,m){return Ys(s),s.updateQueue=null,l=q0(s,c,l,p),F0(i),c=Op(),i!==null&&!Lt?(Mp(i,s,m),fi(i,s,m)):(Be&&c&&cp(s),s.flags|=1,Zt(i,s,l,m),s.child)}function Bb(i,s,l,c,p){if(Ys(s),s.stateNode===null){var m=Ga,y=l.contextType;typeof y=="object"&&y!==null&&(m=Qt(y)),m=new l(c,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Yp,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=c,m.state=s.memoizedState,m.refs={},Sp(s),y=l.contextType,m.context=typeof y=="object"&&y!==null?Qt(y):Ga,m.state=s.memoizedState,y=l.getDerivedStateFromProps,typeof y=="function"&&(Gp(s,l,y,c),m.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(y=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),y!==m.state&&Yp.enqueueReplaceState(m,m.state,null),Fl(s,c,m,p),Bl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){m=s.stateNode;var E=s.memoizedProps,A=Qs(l,E);m.props=A;var P=m.context,Y=l.contextType;y=Ga,typeof Y=="object"&&Y!==null&&(y=Qt(Y));var X=l.getDerivedStateFromProps;Y=typeof X=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||P!==y)&&Cb(s,m,c,y),Ki=!1;var U=s.memoizedState;m.state=U,Fl(s,c,m,p),Bl(),P=s.memoizedState,E||U!==P||Ki?(typeof X=="function"&&(Gp(s,l,X,c),P=s.memoizedState),(A=Ki||Ab(s,l,A,c,U,P,y))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=P),m.props=c,m.state=P,m.context=y,c=A):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{m=s.stateNode,Ep(i,s),y=s.memoizedProps,Y=Qs(l,y),m.props=Y,X=s.pendingProps,U=m.context,P=l.contextType,A=Ga,typeof P=="object"&&P!==null&&(A=Qt(P)),E=l.getDerivedStateFromProps,(P=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(y!==X||U!==A)&&Cb(s,m,c,A),Ki=!1,U=s.memoizedState,m.state=U,Fl(s,c,m,p),Bl();var H=s.memoizedState;y!==X||U!==H||Ki||i!==null&&i.dependencies!==null&&Gc(i.dependencies)?(typeof E=="function"&&(Gp(s,l,E,c),H=s.memoizedState),(Y=Ki||Ab(s,l,Y,c,U,H,A)||i!==null&&i.dependencies!==null&&Gc(i.dependencies))?(P||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,H,A),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,H,A)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||y===i.memoizedProps&&U===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===i.memoizedProps&&U===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=H),m.props=c,m.state=H,m.context=A,c=Y):(typeof m.componentDidUpdate!="function"||y===i.memoizedProps&&U===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===i.memoizedProps&&U===i.memoizedState||(s.flags|=1024),c=!1)}return m=c,cd(i,s),c=(s.flags&128)!==0,m||c?(m=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,i!==null&&c?(s.child=Ws(s,i.child,null,p),s.child=Ws(s,null,l,p)):Zt(i,s,l,p),s.memoizedState=m.state,i=s.child):i=fi(i,s,p),i}function Fb(i,s,l,c){return qs(),s.flags|=256,Zt(i,s,l,c),s.child}var Wp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jp(i){return{baseLanes:i,cachePool:I0()}}function Qp(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=Yn),i}function qb(i,s,l){var c=s.pendingProps,p=!1,m=(s.flags&128)!==0,y;if((y=m)||(y=i!==null&&i.memoizedState===null?!1:(kt.current&2)!==0),y&&(p=!0,s.flags&=-129),y=(s.flags&32)!==0,s.flags&=-33,i===null){if(Be){if(p?Qi(s):Zi(),(i=mt)?(i=QS(i,ar),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Gi!==null?{id:jr,overflow:Hr}:null,retryLane:536870912,hydrationErrors:null},l=w0(i),l.return=s,s.child=l,Jt=s,mt=null)):i=null,i===null)throw Vi(s);return Nm(i)?s.lanes=32:s.lanes=536870912,null}var E=c.children;return c=c.fallback,p?(Zi(),p=s.mode,E=dd({mode:"hidden",children:E},p),c=Fs(c,p,l,null),E.return=s,c.return=s,E.sibling=c,s.child=E,c=s.child,c.memoizedState=Jp(l),c.childLanes=Qp(i,y,l),s.memoizedState=Wp,Xl(null,c)):(Qi(s),Zp(s,E))}var A=i.memoizedState;if(A!==null&&(E=A.dehydrated,E!==null)){if(m)s.flags&256?(Qi(s),s.flags&=-257,s=em(i,s,l)):s.memoizedState!==null?(Zi(),s.child=i.child,s.flags|=128,s=null):(Zi(),E=c.fallback,p=s.mode,c=dd({mode:"visible",children:c.children},p),E=Fs(E,p,l,null),E.flags|=2,c.return=s,E.return=s,c.sibling=E,s.child=c,Ws(s,i.child,null,l),c=s.child,c.memoizedState=Jp(l),c.childLanes=Qp(i,y,l),s.memoizedState=Wp,s=Xl(null,c));else if(Qi(s),Nm(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,c=Error(r(419)),c.stack="",c.digest=y,Pl({value:c,source:null,stack:null}),s=em(i,s,l)}else if(Lt||Ka(i,s,l,!1),y=(l&i.childLanes)!==0,Lt||y){if(y=ut,y!==null&&(c=Tn(y,l),c!==0&&c!==A.retryLane))throw A.retryLane=c,Bs(i,c),Mn(y,i,c),Xp;Dm(E)||bd(),s=em(i,s,l)}else Dm(E)?(s.flags|=192,s.child=i.child,s=null):(i=A.treeContext,mt=lr(E.nextSibling),Jt=s,Be=!0,Yi=null,ar=!1,i!==null&&R0(s,i),s=Zp(s,c.children),s.flags|=4096);return s}return p?(Zi(),E=c.fallback,p=s.mode,A=i.child,P=A.sibling,c=ai(A,{mode:"hidden",children:c.children}),c.subtreeFlags=A.subtreeFlags&65011712,P!==null?E=ai(P,E):(E=Fs(E,p,l,null),E.flags|=2),E.return=s,c.return=s,c.sibling=E,s.child=c,Xl(null,c),c=s.child,E=i.child.memoizedState,E===null?E=Jp(l):(p=E.cachePool,p!==null?(A=Dt._currentValue,p=p.parent!==A?{parent:A,pool:A}:p):p=I0(),E={baseLanes:E.baseLanes|l,cachePool:p}),c.memoizedState=E,c.childLanes=Qp(i,y,l),s.memoizedState=Wp,Xl(i.child,c)):(Qi(s),l=i.child,i=l.sibling,l=ai(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,i!==null&&(y=s.deletions,y===null?(s.deletions=[i],s.flags|=16):y.push(i)),s.child=l,s.memoizedState=null,l)}function Zp(i,s){return s=dd({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function dd(i,s){return i=Bn(22,i,null,s),i.lanes=0,i}function em(i,s,l){return Ws(s,i.child,null,l),i=Zp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Gb(i,s,l){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),mp(i.return,s,l)}function tm(i,s,l,c,p,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p,treeForkCount:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=p,y.treeForkCount=m)}function Yb(i,s,l){var c=s.pendingProps,p=c.revealOrder,m=c.tail;c=c.children;var y=kt.current,E=(y&2)!==0;if(E?(y=y&1|2,s.flags|=128):y&=1,j(kt,y),Zt(i,s,c,l),c=Be?Ll:0,!E&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Gb(i,l,s);else if(i.tag===19)Gb(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&Zc(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),tm(s,!1,p,l,m,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Zc(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}tm(s,!0,l,null,m,c);break;case"together":tm(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function fi(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),ns|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Ka(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=ai(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=ai(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function nm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Gc(i)))}function AO(i,s,l){switch(s.tag){case 3:we(s,s.stateNode.containerInfo),Xi(s,Dt,i.memoizedState.cache),qs();break;case 27:case 5:pt(s);break;case 4:we(s,s.stateNode.containerInfo);break;case 10:Xi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ap(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Qi(s),s.flags|=128,null):(l&s.child.childLanes)!==0?qb(i,s,l):(Qi(s),i=fi(i,s,l),i!==null?i.sibling:null);Qi(s);break;case 19:var p=(i.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(Ka(i,s,l,!1),c=(l&s.childLanes)!==0),p){if(c)return Yb(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),j(kt,kt.current),c)break;return null;case 22:return s.lanes=0,$b(i,s,l,s.pendingProps);case 24:Xi(s,Dt,i.memoizedState.cache)}return fi(i,s,l)}function Vb(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)Lt=!0;else{if(!nm(i,l)&&(s.flags&128)===0)return Lt=!1,AO(i,s,l);Lt=(i.flags&131072)!==0}else Lt=!1,Be&&(s.flags&1048576)!==0&&x0(s,Ll,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(i=Xs(s.elementType),s.type=i,typeof i=="function")op(i)?(c=Qs(i,c),s.tag=1,s=Bb(null,s,i,c,l)):(s.tag=0,s=Kp(null,s,i,c,l));else{if(i!=null){var p=i.$$typeof;if(p===q){s.tag=11,s=Lb(null,s,i,c,l);break e}else if(p===O){s.tag=14,s=Pb(null,s,i,c,l);break e}}throw s=le(i)||i,Error(r(306,s,""))}}return s;case 0:return Kp(i,s,s.type,s.pendingProps,l);case 1:return c=s.type,p=Qs(c,s.pendingProps),Bb(i,s,c,p,l);case 3:e:{if(we(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var m=s.memoizedState;p=m.element,Ep(i,s),Fl(s,c,null,l);var y=s.memoizedState;if(c=y.cache,Xi(s,Dt,c),c!==m.cache&&gp(s,[Dt],l,!0),Bl(),c=y.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:y.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Fb(i,s,c,l);break e}else if(c!==p){p=rr(Error(r(424)),s),Pl(p),s=Fb(i,s,c,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(mt=lr(i.firstChild),Jt=s,Be=!0,Yi=null,ar=!0,l=$0(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(qs(),c===p){s=fi(i,s,l);break e}Zt(i,s,c,l)}s=s.child}return s;case 26:return cd(i,s),i===null?(l=iE(s.type,null,s.pendingProps,null))?s.memoizedState=l:Be||(l=s.type,i=s.pendingProps,c=Ad(fe.current).createElement(l),c[Wt]=s,c[xn]=i,en(c,l,i),qt(c),s.stateNode=c):s.memoizedState=iE(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return pt(s),i===null&&Be&&(c=s.stateNode=tE(s.type,s.pendingProps,fe.current),Jt=s,ar=!0,p=mt,os(s.type)?(Lm=p,mt=lr(c.firstChild)):mt=p),Zt(i,s,s.pendingProps.children,l),cd(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Be&&((p=c=mt)&&(c=rM(c,s.type,s.pendingProps,ar),c!==null?(s.stateNode=c,Jt=s,mt=lr(c.firstChild),ar=!1,p=!0):p=!1),p||Vi(s)),pt(s),p=s.type,m=s.pendingProps,y=i!==null?i.memoizedProps:null,c=m.children,Om(p,m)?c=null:y!==null&&Om(p,y)&&(s.flags|=32),s.memoizedState!==null&&(p=kp(i,s,_O,null,null,l),uu._currentValue=p),cd(i,s),Zt(i,s,c,l),s.child;case 6:return i===null&&Be&&((i=l=mt)&&(l=iM(l,s.pendingProps,ar),l!==null?(s.stateNode=l,Jt=s,mt=null,i=!0):i=!1),i||Vi(s)),null;case 13:return qb(i,s,l);case 4:return we(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Ws(s,null,c,l):Zt(i,s,c,l),s.child;case 11:return Lb(i,s,s.type,s.pendingProps,l);case 7:return Zt(i,s,s.pendingProps,l),s.child;case 8:return Zt(i,s,s.pendingProps.children,l),s.child;case 12:return Zt(i,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,Xi(s,s.type,c.value),Zt(i,s,c.children,l),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,Ys(s),p=Qt(p),c=c(p),s.flags|=1,Zt(i,s,c,l),s.child;case 14:return Pb(i,s,s.type,s.pendingProps,l);case 15:return Ub(i,s,s.type,s.pendingProps,l);case 19:return Yb(i,s,l);case 31:return RO(i,s,l);case 22:return $b(i,s,l,s.pendingProps);case 24:return Ys(s),c=Qt(Dt),i===null?(p=yp(),p===null&&(p=ut,m=vp(),p.pooledCache=m,m.refCount++,m!==null&&(p.pooledCacheLanes|=l),p=m),s.memoizedState={parent:c,cache:p},Sp(s),Xi(s,Dt,p)):((i.lanes&l)!==0&&(Ep(i,s),Fl(s,null,null,l),Bl()),p=i.memoizedState,m=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Xi(s,Dt,c)):(c=m.cache,Xi(s,Dt,c),c!==p.cache&&gp(s,[Dt],l,!0))),Zt(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function hi(i){i.flags|=4}function rm(i,s,l,c,p){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(bS())i.flags|=8192;else throw Ks=Kc,bp}else i.flags&=-16777217}function Xb(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!uE(s))if(bS())i.flags|=8192;else throw Ks=Kc,bp}function fd(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?an():536870912,i.lanes|=s,oo|=s)}function Kl(i,s){if(!Be)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function gt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=l,s}function CO(i,s,l){var c=s.pendingProps;switch(dp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return l=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),ui(Dt),He(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Xa(s)?hi(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,hp())),gt(s),null;case 26:var p=s.type,m=s.memoizedState;return i===null?(hi(s),m!==null?(gt(s),Xb(s,m)):(gt(s),rm(s,p,null,c,l))):m?m!==i.memoizedState?(hi(s),gt(s),Xb(s,m)):(gt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==c&&hi(s),gt(s),rm(s,p,i,c,l)),null;case 27:if(Sn(s),l=fe.current,p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&hi(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return gt(s),null}i=W.current,Xa(s)?A0(s):(i=tE(p,c,l),s.stateNode=i,hi(s))}return gt(s),null;case 5:if(Sn(s),p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&hi(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return gt(s),null}if(m=W.current,Xa(s))A0(s);else{var y=Ad(fe.current);switch(m){case 1:m=y.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:m=y.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":m=y.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":m=y.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":m=y.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?y.createElement("select",{is:c.is}):y.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?y.createElement(p,{is:c.is}):y.createElement(p)}}m[Wt]=s,m[xn]=c;e:for(y=s.child;y!==null;){if(y.tag===5||y.tag===6)m.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===s)break e;for(;y.sibling===null;){if(y.return===null||y.return===s)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}s.stateNode=m;e:switch(en(m,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&hi(s)}}return gt(s),rm(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&hi(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=fe.current,Xa(s)){if(i=s.stateNode,l=s.memoizedProps,c=null,p=Jt,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[Wt]=s,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||qS(i.nodeValue,l)),i||Vi(s,!0)}else i=Ad(i).createTextNode(c),i[Wt]=s,s.stateNode=i}return gt(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(c=Xa(s),l!==null){if(i===null){if(!c)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Wt]=s}else qs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),i=!1}else l=hp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(qn(s),s):(qn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return gt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Xa(s),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Wt]=s}else qs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),p=!1}else p=hp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(qn(s),s):(qn(s),null)}return qn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=c!==null,i=i!==null&&i.memoizedState!==null,l&&(c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==p&&(c.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),fd(s,s.updateQueue),gt(s),null);case 4:return He(),i===null&&xm(s.stateNode.containerInfo),gt(s),null;case 10:return ui(s.type),gt(s),null;case 19:if(N(kt),c=s.memoizedState,c===null)return gt(s),null;if(p=(s.flags&128)!==0,m=c.rendering,m===null)if(p)Kl(c,!1);else{if(Rt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(m=Zc(i),m!==null){for(s.flags|=128,Kl(c,!1),i=m.updateQueue,s.updateQueue=i,fd(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)E0(l,i),l=l.sibling;return j(kt,kt.current&1|2),Be&&oi(s,c.treeForkCount),s.child}i=i.sibling}c.tail!==null&&st()>vd&&(s.flags|=128,p=!0,Kl(c,!1),s.lanes=4194304)}else{if(!p)if(i=Zc(m),i!==null){if(s.flags|=128,p=!0,i=i.updateQueue,s.updateQueue=i,fd(s,i),Kl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!Be)return gt(s),null}else 2*st()-c.renderingStartTime>vd&&l!==536870912&&(s.flags|=128,p=!0,Kl(c,!1),s.lanes=4194304);c.isBackwards?(m.sibling=s.child,s.child=m):(i=c.last,i!==null?i.sibling=m:s.child=m,c.last=m)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=st(),i.sibling=null,l=kt.current,j(kt,p?l&1|2:l&1),Be&&oi(s,c.treeForkCount),i):(gt(s),null);case 22:case 23:return qn(s),Rp(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),l=s.updateQueue,l!==null&&fd(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),i!==null&&N(Vs),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ui(Dt),gt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function kO(i,s){switch(dp(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ui(Dt),He(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Sn(s),null;case 31:if(s.memoizedState!==null){if(qn(s),s.alternate===null)throw Error(r(340));qs()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(qn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));qs()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return N(kt),null;case 4:return He(),null;case 10:return ui(s.type),null;case 22:case 23:return qn(s),Rp(),i!==null&&N(Vs),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ui(Dt),null;case 25:return null;default:return null}}function Kb(i,s){switch(dp(s),s.tag){case 3:ui(Dt),He();break;case 26:case 27:case 5:Sn(s);break;case 4:He();break;case 31:s.memoizedState!==null&&qn(s);break;case 13:qn(s);break;case 19:N(kt);break;case 10:ui(s.type);break;case 22:case 23:qn(s),Rp(),i!==null&&N(Vs);break;case 24:ui(Dt)}}function Wl(i,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&i)===i){c=void 0;var m=l.create,y=l.inst;c=m(),y.destroy=c}l=l.next}while(l!==p)}}catch(E){nt(s,s.return,E)}}function es(i,s,l){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var m=p.next;c=m;do{if((c.tag&i)===i){var y=c.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,p=s;var A=l,P=E;try{P()}catch(Y){nt(p,A,Y)}}}c=c.next}while(c!==m)}}catch(Y){nt(s,s.return,Y)}}function Wb(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{j0(s,l)}catch(c){nt(i,i.return,c)}}}function Jb(i,s,l){l.props=Qs(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){nt(i,s,c)}}function Jl(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(p){nt(i,s,p)}}function Br(i,s){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){nt(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){nt(i,s,p)}else l.current=null}function Qb(i){var s=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){nt(i,i.return,p)}}function im(i,s,l){try{var c=i.stateNode;JO(c,i.type,l,s),c[xn]=s}catch(p){nt(i,i.return,p)}}function Zb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&os(i.type)||i.tag===4}function sm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Zb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&os(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function am(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ii));else if(c!==4&&(c===27&&os(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(am(i,s,l),i=i.sibling;i!==null;)am(i,s,l),i=i.sibling}function hd(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(c!==4&&(c===27&&os(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(hd(i,s,l),i=i.sibling;i!==null;)hd(i,s,l),i=i.sibling}function eS(i){var s=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);en(s,c,l),s[Wt]=i,s[xn]=l}catch(m){nt(i,i.return,m)}}var pi=!1,Pt=!1,om=!1,tS=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function OO(i,s){if(i=i.containerInfo,Cm=Nd,i=h0(i),ep(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var y=0,E=-1,A=-1,P=0,Y=0,X=i,U=null;t:for(;;){for(var H;X!==l||p!==0&&X.nodeType!==3||(E=y+p),X!==m||c!==0&&X.nodeType!==3||(A=y+c),X.nodeType===3&&(y+=X.nodeValue.length),(H=X.firstChild)!==null;)U=X,X=H;for(;;){if(X===i)break t;if(U===l&&++P===p&&(E=y),U===m&&++Y===c&&(A=y),(H=X.nextSibling)!==null)break;X=U,U=X.parentNode}X=H}l=E===-1||A===-1?null:{start:E,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(km={focusedElem:i,selectionRange:l},Nd=!1,Gt=s;Gt!==null;)if(s=Gt,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Gt=i;else for(;Gt!==null;){switch(s=Gt,m=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)p=i[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,l=s,p=m.memoizedProps,m=m.memoizedState,c=l.stateNode;try{var pe=Qs(l.type,p);i=c.getSnapshotBeforeUpdate(pe,m),c.__reactInternalSnapshotBeforeUpdate=i}catch(be){nt(l,l.return,be)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)Im(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Im(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Gt=i;break}Gt=s.return}}function nS(i,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:gi(i,l),c&4&&Wl(5,l);break;case 1:if(gi(i,l),c&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(y){nt(l,l.return,y)}else{var p=Qs(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(y){nt(l,l.return,y)}}c&64&&Wb(l),c&512&&Jl(l,l.return);break;case 3:if(gi(i,l),c&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{j0(i,s)}catch(y){nt(l,l.return,y)}}break;case 27:s===null&&c&4&&eS(l);case 26:case 5:gi(i,l),s===null&&c&4&&Qb(l),c&512&&Jl(l,l.return);break;case 12:gi(i,l);break;case 31:gi(i,l),c&4&&sS(i,l);break;case 13:gi(i,l),c&4&&aS(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=zO.bind(null,l),sM(i,l))));break;case 22:if(c=l.memoizedState!==null||pi,!c){s=s!==null&&s.memoizedState!==null||Pt,p=pi;var m=Pt;pi=c,(Pt=s)&&!m?vi(i,l,(l.subtreeFlags&8772)!==0):gi(i,l),pi=p,Pt=m}break;case 30:break;default:gi(i,l)}}function rS(i){var s=i.alternate;s!==null&&(i.alternate=null,rS(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Uh(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var yt=null,An=!1;function mi(i,s,l){for(l=l.child;l!==null;)iS(i,s,l),l=l.sibling}function iS(i,s,l){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(Ls,l)}catch{}switch(l.tag){case 26:Pt||Br(l,s),mi(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Pt||Br(l,s);var c=yt,p=An;os(l.type)&&(yt=l.stateNode,An=!1),mi(i,s,l),au(l.stateNode),yt=c,An=p;break;case 5:Pt||Br(l,s);case 6:if(c=yt,p=An,yt=null,mi(i,s,l),yt=c,An=p,yt!==null)if(An)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(l.stateNode)}catch(m){nt(l,s,m)}else try{yt.removeChild(l.stateNode)}catch(m){nt(l,s,m)}break;case 18:yt!==null&&(An?(i=yt,WS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),go(i)):WS(yt,l.stateNode));break;case 4:c=yt,p=An,yt=l.stateNode.containerInfo,An=!0,mi(i,s,l),yt=c,An=p;break;case 0:case 11:case 14:case 15:es(2,l,s),Pt||es(4,l,s),mi(i,s,l);break;case 1:Pt||(Br(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Jb(l,s,c)),mi(i,s,l);break;case 21:mi(i,s,l);break;case 22:Pt=(c=Pt)||l.memoizedState!==null,mi(i,s,l),Pt=c;break;default:mi(i,s,l)}}function sS(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{go(i)}catch(l){nt(s,s.return,l)}}}function aS(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{go(i)}catch(l){nt(s,s.return,l)}}function MO(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new tS),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new tS),s;default:throw Error(r(435,i.tag))}}function pd(i,s){var l=MO(i);s.forEach(function(c){if(!l.has(c)){l.add(c);var p=jO.bind(null,i,c);c.then(p,p)}})}function Cn(i,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],m=i,y=s,E=y;e:for(;E!==null;){switch(E.tag){case 27:if(os(E.type)){yt=E.stateNode,An=!1;break e}break;case 5:yt=E.stateNode,An=!1;break e;case 3:case 4:yt=E.stateNode.containerInfo,An=!0;break e}E=E.return}if(yt===null)throw Error(r(160));iS(m,y,p),yt=null,An=!1,m=p.alternate,m!==null&&(m.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)oS(s,i),s=s.sibling}var wr=null;function oS(i,s){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Cn(s,i),kn(i),c&4&&(es(3,i,i.return),Wl(3,i),es(5,i,i.return));break;case 1:Cn(s,i),kn(i),c&512&&(Pt||l===null||Br(l,l.return)),c&64&&pi&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=wr;if(Cn(s,i),kn(i),c&512&&(Pt||l===null||Br(l,l.return)),c&4){var m=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":m=p.getElementsByTagName("title")[0],(!m||m[Tl]||m[Wt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=p.createElement(c),p.head.insertBefore(m,p.querySelector("head > title"))),en(m,c,l),m[Wt]=i,qt(m),c=m;break e;case"link":var y=oE("link","href",p).get(c+(l.href||""));if(y){for(var E=0;E<y.length;E++)if(m=y[E],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){y.splice(E,1);break t}}m=p.createElement(c),en(m,c,l),p.head.appendChild(m);break;case"meta":if(y=oE("meta","content",p).get(c+(l.content||""))){for(E=0;E<y.length;E++)if(m=y[E],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){y.splice(E,1);break t}}m=p.createElement(c),en(m,c,l),p.head.appendChild(m);break;default:throw Error(r(468,c))}m[Wt]=i,qt(m),c=m}i.stateNode=c}else lE(p,i.type,i.stateNode);else i.stateNode=aE(p,c,i.memoizedProps);else m!==c?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,c===null?lE(p,i.type,i.stateNode):aE(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&im(i,i.memoizedProps,l.memoizedProps)}break;case 27:Cn(s,i),kn(i),c&512&&(Pt||l===null||Br(l,l.return)),l!==null&&c&4&&im(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Cn(s,i),kn(i),c&512&&(Pt||l===null||Br(l,l.return)),i.flags&32){p=i.stateNode;try{$a(p,"")}catch(pe){nt(i,i.return,pe)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,im(i,p,l!==null?l.memoizedProps:p)),c&1024&&(om=!0);break;case 6:if(Cn(s,i),kn(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(pe){nt(i,i.return,pe)}}break;case 3:if(Od=null,p=wr,wr=Cd(s.containerInfo),Cn(s,i),wr=p,kn(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{go(s.containerInfo)}catch(pe){nt(i,i.return,pe)}om&&(om=!1,lS(i));break;case 4:c=wr,wr=Cd(i.stateNode.containerInfo),Cn(s,i),kn(i),wr=c;break;case 12:Cn(s,i),kn(i);break;case 31:Cn(s,i),kn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,pd(i,c)));break;case 13:Cn(s,i),kn(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(gd=st()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,pd(i,c)));break;case 22:p=i.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,P=pi,Y=Pt;if(pi=P||p,Pt=Y||A,Cn(s,i),Pt=Y,pi=P,kn(i),c&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||A||pi||Pt||Zs(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){A=l=s;try{if(m=A.stateNode,p)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=A.stateNode;var X=A.memoizedProps.style,U=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(pe){nt(A,A.return,pe)}}}else if(s.tag===6){if(l===null){A=s;try{A.stateNode.nodeValue=p?"":A.memoizedProps}catch(pe){nt(A,A.return,pe)}}}else if(s.tag===18){if(l===null){A=s;try{var H=A.stateNode;p?JS(H,!0):JS(A.stateNode,!1)}catch(pe){nt(A,A.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,pd(i,l))));break;case 19:Cn(s,i),kn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,pd(i,c)));break;case 30:break;case 21:break;default:Cn(s,i),kn(i)}}function kn(i){var s=i.flags;if(s&2){try{for(var l,c=i.return;c!==null;){if(Zb(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,m=sm(i);hd(i,m,p);break;case 5:var y=l.stateNode;l.flags&32&&($a(y,""),l.flags&=-33);var E=sm(i);hd(i,E,y);break;case 3:case 4:var A=l.stateNode.containerInfo,P=sm(i);am(i,P,A);break;default:throw Error(r(161))}}catch(Y){nt(i,i.return,Y)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function lS(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;lS(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function gi(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)nS(i,s.alternate,s),s=s.sibling}function Zs(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:es(4,s,s.return),Zs(s);break;case 1:Br(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Jb(s,s.return,l),Zs(s);break;case 27:au(s.stateNode);case 26:case 5:Br(s,s.return),Zs(s);break;case 22:s.memoizedState===null&&Zs(s);break;case 30:Zs(s);break;default:Zs(s)}i=i.sibling}}function vi(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=i,m=s,y=m.flags;switch(m.tag){case 0:case 11:case 15:vi(p,m,l),Wl(4,m);break;case 1:if(vi(p,m,l),c=m,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(P){nt(c,c.return,P)}if(c=m,p=c.updateQueue,p!==null){var E=c.stateNode;try{var A=p.shared.hiddenCallbacks;if(A!==null)for(p.shared.hiddenCallbacks=null,p=0;p<A.length;p++)z0(A[p],E)}catch(P){nt(c,c.return,P)}}l&&y&64&&Wb(m),Jl(m,m.return);break;case 27:eS(m);case 26:case 5:vi(p,m,l),l&&c===null&&y&4&&Qb(m),Jl(m,m.return);break;case 12:vi(p,m,l);break;case 31:vi(p,m,l),l&&y&4&&sS(p,m);break;case 13:vi(p,m,l),l&&y&4&&aS(p,m);break;case 22:m.memoizedState===null&&vi(p,m,l),Jl(m,m.return);break;case 30:break;default:vi(p,m,l)}s=s.sibling}}function lm(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Ul(l))}function um(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ul(i))}function Tr(i,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)uS(i,s,l,c),s=s.sibling}function uS(i,s,l,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Tr(i,s,l,c),p&2048&&Wl(9,s);break;case 1:Tr(i,s,l,c);break;case 3:Tr(i,s,l,c),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ul(i)));break;case 12:if(p&2048){Tr(i,s,l,c),i=s.stateNode;try{var m=s.memoizedProps,y=m.id,E=m.onPostCommit;typeof E=="function"&&E(y,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(A){nt(s,s.return,A)}}else Tr(i,s,l,c);break;case 31:Tr(i,s,l,c);break;case 13:Tr(i,s,l,c);break;case 23:break;case 22:m=s.stateNode,y=s.alternate,s.memoizedState!==null?m._visibility&2?Tr(i,s,l,c):Ql(i,s):m._visibility&2?Tr(i,s,l,c):(m._visibility|=2,io(i,s,l,c,(s.subtreeFlags&10256)!==0||!1)),p&2048&&lm(y,s);break;case 24:Tr(i,s,l,c),p&2048&&um(s.alternate,s);break;default:Tr(i,s,l,c)}}function io(i,s,l,c,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=i,y=s,E=l,A=c,P=y.flags;switch(y.tag){case 0:case 11:case 15:io(m,y,E,A,p),Wl(8,y);break;case 23:break;case 22:var Y=y.stateNode;y.memoizedState!==null?Y._visibility&2?io(m,y,E,A,p):Ql(m,y):(Y._visibility|=2,io(m,y,E,A,p)),p&&P&2048&&lm(y.alternate,y);break;case 24:io(m,y,E,A,p),p&&P&2048&&um(y.alternate,y);break;default:io(m,y,E,A,p)}s=s.sibling}}function Ql(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,c=s,p=c.flags;switch(c.tag){case 22:Ql(l,c),p&2048&&lm(c.alternate,c);break;case 24:Ql(l,c),p&2048&&um(c.alternate,c);break;default:Ql(l,c)}s=s.sibling}}var Zl=8192;function so(i,s,l){if(i.subtreeFlags&Zl)for(i=i.child;i!==null;)cS(i,s,l),i=i.sibling}function cS(i,s,l){switch(i.tag){case 26:so(i,s,l),i.flags&Zl&&i.memoizedState!==null&&vM(l,wr,i.memoizedState,i.memoizedProps);break;case 5:so(i,s,l);break;case 3:case 4:var c=wr;wr=Cd(i.stateNode.containerInfo),so(i,s,l),wr=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Zl,Zl=16777216,so(i,s,l),Zl=c):so(i,s,l));break;default:so(i,s,l)}}function dS(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function eu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Gt=c,hS(c,i)}dS(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)fS(i),i=i.sibling}function fS(i){switch(i.tag){case 0:case 11:case 15:eu(i),i.flags&2048&&es(9,i,i.return);break;case 3:eu(i);break;case 12:eu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,md(i)):eu(i);break;default:eu(i)}}function md(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Gt=c,hS(c,i)}dS(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:es(8,s,s.return),md(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,md(s));break;default:md(s)}i=i.sibling}}function hS(i,s){for(;Gt!==null;){var l=Gt;switch(l.tag){case 0:case 11:case 15:es(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ul(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Gt=c;else e:for(l=i;Gt!==null;){c=Gt;var p=c.sibling,m=c.return;if(rS(c),c===l){Gt=null;break e}if(p!==null){p.return=m,Gt=p;break e}Gt=m}}}var IO={getCacheForType:function(i){var s=Qt(Dt),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return Qt(Dt).controller.signal}},DO=typeof WeakMap=="function"?WeakMap:Map,Qe=0,ut=null,Le=null,$e=0,tt=0,Gn=null,ts=!1,ao=!1,cm=!1,_i=0,Rt=0,ns=0,ea=0,dm=0,Yn=0,oo=0,tu=null,On=null,fm=!1,gd=0,pS=0,vd=1/0,_d=null,rs=null,zt=0,is=null,lo=null,yi=0,hm=0,pm=null,mS=null,nu=0,mm=null;function Vn(){return(Qe&2)!==0&&$e!==0?$e&-$e:k.T!==null?Sm():Lh()}function gS(){if(Yn===0)if(($e&536870912)===0||Be){var i=Oa;Oa<<=1,(Oa&3932160)===0&&(Oa=262144),Yn=i}else Yn=536870912;return i=Fn.current,i!==null&&(i.flags|=32),Yn}function Mn(i,s,l){(i===ut&&(tt===2||tt===9)||i.cancelPendingCommit!==null)&&(uo(i,0),ss(i,$e,Yn,!1)),Et(i,l),((Qe&2)===0||i!==ut)&&(i===ut&&((Qe&2)===0&&(ea|=l),Rt===4&&ss(i,$e,Yn,!1)),Fr(i))}function vS(i,s,l){if((Qe&6)!==0)throw Error(r(327));var c=!l&&(s&127)===0&&(s&i.expiredLanes)===0||_t(i,s),p=c?PO(i,s):vm(i,s,!0),m=c;do{if(p===0){ao&&!c&&ss(i,s,0,!1);break}else{if(l=i.current.alternate,m&&!NO(l)){p=vm(i,s,!1),m=!1;continue}if(p===2){if(m=s,i.errorRecoveryDisabledLanes&m)var y=0;else y=i.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){s=y;e:{var E=i;p=tu;var A=E.current.memoizedState.isDehydrated;if(A&&(uo(E,y).flags|=256),y=vm(E,y,!1),y!==2){if(cm&&!A){E.errorRecoveryDisabledLanes|=m,ea|=m,p=4;break e}m=On,On=p,m!==null&&(On===null?On=m:On.push.apply(On,m))}p=y}if(m=!1,p!==2)continue}}if(p===1){uo(i,0),ss(i,s,0,!0);break}e:{switch(c=i,m=p,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ss(c,s,Yn,!ts);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=gd+300-st(),10<p)){if(ss(c,s,Yn,!ts),Ae(c,0,!0)!==0)break e;yi=s,c.timeoutHandle=XS(_S.bind(null,c,l,On,_d,fm,s,Yn,ea,oo,ts,m,"Throttled",-0,0),p);break e}_S(c,l,On,_d,fm,s,Yn,ea,oo,ts,m,null,-0,0)}}break}while(!0);Fr(i)}function _S(i,s,l,c,p,m,y,E,A,P,Y,X,U,H){if(i.timeoutHandle=-1,X=s.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},cS(s,m,X);var pe=(m&62914560)===m?gd-st():(m&4194048)===m?pS-st():0;if(pe=_M(X,pe),pe!==null){yi=m,i.cancelPendingCommit=pe(RS.bind(null,i,s,m,l,c,p,y,E,A,Y,X,null,U,H)),ss(i,m,y,!P);return}}RS(i,s,m,l,c,p,y,E,A)}function NO(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],m=p.getSnapshot;p=p.value;try{if(!Hn(m(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ss(i,s,l,c){s&=~dm,s&=~ea,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var p=s;0<p;){var m=31-sn(p),y=1<<m;c[m]=-1,p&=~y}l!==0&&Us(i,l,s)}function yd(){return(Qe&6)===0?(ru(0),!1):!0}function gm(){if(Le!==null){if(tt===0)var i=Le.return;else i=Le,li=Gs=null,Ip(i),Za=null,zl=0,i=Le;for(;i!==null;)Kb(i.alternate,i),i=i.return;Le=null}}function uo(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,eM(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),yi=0,gm(),ut=i,Le=l=ai(i.current,null),$e=s,tt=0,Gn=null,ts=!1,ao=_t(i,s),cm=!1,oo=Yn=dm=ea=ns=Rt=0,On=tu=null,fm=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var p=31-sn(c),m=1<<p;s|=i[p],c&=~m}return _i=s,jc(),l}function yS(i,s){Me=null,k.H=Vl,s===Qa||s===Xc?(s=L0(),tt=3):s===bp?(s=L0(),tt=4):tt=s===Xp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Gn=s,Le===null&&(Rt=1,ld(i,rr(s,i.current)))}function bS(){var i=Fn.current;return i===null?!0:($e&4194048)===$e?or===null:($e&62914560)===$e||($e&536870912)!==0?i===or:!1}function SS(){var i=k.H;return k.H=Vl,i===null?Vl:i}function ES(){var i=k.A;return k.A=IO,i}function bd(){Rt=4,ts||($e&4194048)!==$e&&Fn.current!==null||(ao=!0),(ns&134217727)===0&&(ea&134217727)===0||ut===null||ss(ut,$e,Yn,!1)}function vm(i,s,l){var c=Qe;Qe|=2;var p=SS(),m=ES();(ut!==i||$e!==s)&&(_d=null,uo(i,s)),s=!1;var y=Rt;e:do try{if(tt!==0&&Le!==null){var E=Le,A=Gn;switch(tt){case 8:gm(),y=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(s=!0);var P=tt;if(tt=0,Gn=null,co(i,E,A,P),l&&ao){y=0;break e}break;default:P=tt,tt=0,Gn=null,co(i,E,A,P)}}LO(),y=Rt;break}catch(Y){yS(i,Y)}while(!0);return s&&i.shellSuspendCounter++,li=Gs=null,Qe=c,k.H=p,k.A=m,Le===null&&(ut=null,$e=0,jc()),y}function LO(){for(;Le!==null;)wS(Le)}function PO(i,s){var l=Qe;Qe|=2;var c=SS(),p=ES();ut!==i||$e!==s?(_d=null,vd=st()+500,uo(i,s)):ao=_t(i,s);e:do try{if(tt!==0&&Le!==null){s=Le;var m=Gn;t:switch(tt){case 1:tt=0,Gn=null,co(i,s,m,1);break;case 2:case 9:if(D0(m)){tt=0,Gn=null,TS(s);break}s=function(){tt!==2&&tt!==9||ut!==i||(tt=7),Fr(i)},m.then(s,s);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:D0(m)?(tt=0,Gn=null,TS(s)):(tt=0,Gn=null,co(i,s,m,7));break;case 5:var y=null;switch(Le.tag){case 26:y=Le.memoizedState;case 5:case 27:var E=Le;if(y?uE(y):E.stateNode.complete){tt=0,Gn=null;var A=E.sibling;if(A!==null)Le=A;else{var P=E.return;P!==null?(Le=P,Sd(P)):Le=null}break t}}tt=0,Gn=null,co(i,s,m,5);break;case 6:tt=0,Gn=null,co(i,s,m,6);break;case 8:gm(),Rt=6;break e;default:throw Error(r(462))}}UO();break}catch(Y){yS(i,Y)}while(!0);return li=Gs=null,k.H=c,k.A=p,Qe=l,Le!==null?0:(ut=null,$e=0,jc(),Rt)}function UO(){for(;Le!==null&&!ye();)wS(Le)}function wS(i){var s=Vb(i.alternate,i,_i);i.memoizedProps=i.pendingProps,s===null?Sd(i):Le=s}function TS(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=Hb(l,s,s.pendingProps,s.type,void 0,$e);break;case 11:s=Hb(l,s,s.pendingProps,s.type.render,s.ref,$e);break;case 5:Ip(s);default:Kb(l,s),s=Le=E0(s,_i),s=Vb(l,s,_i)}i.memoizedProps=i.pendingProps,s===null?Sd(i):Le=s}function co(i,s,l,c){li=Gs=null,Ip(s),Za=null,zl=0;var p=s.return;try{if(xO(i,p,s,l,$e)){Rt=1,ld(i,rr(l,i.current)),Le=null;return}}catch(m){if(p!==null)throw Le=p,m;Rt=1,ld(i,rr(l,i.current)),Le=null;return}s.flags&32768?(Be||c===1?i=!0:ao||($e&536870912)!==0?i=!1:(ts=i=!0,(c===2||c===9||c===3||c===6)&&(c=Fn.current,c!==null&&c.tag===13&&(c.flags|=16384))),xS(s,i)):Sd(s)}function Sd(i){var s=i;do{if((s.flags&32768)!==0){xS(s,ts);return}i=s.return;var l=CO(s.alternate,s,_i);if(l!==null){Le=l;return}if(s=s.sibling,s!==null){Le=s;return}Le=s=i}while(s!==null);Rt===0&&(Rt=5)}function xS(i,s){do{var l=kO(i.alternate,i);if(l!==null){l.flags&=32767,Le=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){Le=i;return}Le=i=l}while(i!==null);Rt=6,Le=null}function RS(i,s,l,c,p,m,y,E,A){i.cancelPendingCommit=null;do Ed();while(zt!==0);if((Qe&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=sp,En(i,l,m,y,E,A),i===ut&&(Le=ut=null,$e=0),lo=s,is=i,yi=l,hm=m,pm=p,mS=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,HO(Ns,function(){return MS(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=k.T,k.T=null,p=G.p,G.p=2,y=Qe,Qe|=4;try{OO(i,s,l)}finally{Qe=y,G.p=p,k.T=c}}zt=1,AS(),CS(),kS()}}function AS(){if(zt===1){zt=0;var i=is,s=lo,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=k.T,k.T=null;var c=G.p;G.p=2;var p=Qe;Qe|=4;try{oS(s,i);var m=km,y=h0(i.containerInfo),E=m.focusedElem,A=m.selectionRange;if(y!==E&&E&&E.ownerDocument&&f0(E.ownerDocument.documentElement,E)){if(A!==null&&ep(E)){var P=A.start,Y=A.end;if(Y===void 0&&(Y=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(Y,E.value.length);else{var X=E.ownerDocument||document,U=X&&X.defaultView||window;if(U.getSelection){var H=U.getSelection(),pe=E.textContent.length,be=Math.min(A.start,pe),lt=A.end===void 0?be:Math.min(A.end,pe);!H.extend&&be>lt&&(y=lt,lt=be,be=y);var M=d0(E,be),C=d0(E,lt);if(M&&C&&(H.rangeCount!==1||H.anchorNode!==M.node||H.anchorOffset!==M.offset||H.focusNode!==C.node||H.focusOffset!==C.offset)){var L=X.createRange();L.setStart(M.node,M.offset),H.removeAllRanges(),be>lt?(H.addRange(L),H.extend(C.node,C.offset)):(L.setEnd(C.node,C.offset),H.addRange(L))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var V=X[E];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}Nd=!!Cm,km=Cm=null}finally{Qe=p,G.p=c,k.T=l}}i.current=s,zt=2}}function CS(){if(zt===2){zt=0;var i=is,s=lo,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=k.T,k.T=null;var c=G.p;G.p=2;var p=Qe;Qe|=4;try{nS(i,s.alternate,s)}finally{Qe=p,G.p=c,k.T=l}}zt=3}}function kS(){if(zt===4||zt===3){zt=0,St();var i=is,s=lo,l=yi,c=mS;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?zt=5:(zt=0,lo=is=null,OS(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(rs=null),Sr(l),s=s.stateNode,hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(Ls,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=k.T,p=G.p,G.p=2,k.T=null;try{for(var m=i.onRecoverableError,y=0;y<c.length;y++){var E=c[y];m(E.value,{componentStack:E.stack})}}finally{k.T=s,G.p=p}}(yi&3)!==0&&Ed(),Fr(i),p=i.pendingLanes,(l&261930)!==0&&(p&42)!==0?i===mm?nu++:(nu=0,mm=i):nu=0,ru(0)}}function OS(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Ul(s)))}function Ed(){return AS(),CS(),kS(),MS()}function MS(){if(zt!==5)return!1;var i=is,s=hm;hm=0;var l=Sr(yi),c=k.T,p=G.p;try{G.p=32>l?32:l,k.T=null,l=pm,pm=null;var m=is,y=yi;if(zt=0,lo=is=null,yi=0,(Qe&6)!==0)throw Error(r(331));var E=Qe;if(Qe|=4,fS(m.current),uS(m,m.current,y,l),Qe=E,ru(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(Ls,m)}catch{}return!0}finally{G.p=p,k.T=c,OS(i,s)}}function IS(i,s,l){s=rr(l,s),s=Vp(i.stateNode,s,2),i=Ji(i,s,2),i!==null&&(Et(i,2),Fr(i))}function nt(i,s,l){if(i.tag===3)IS(i,i,l);else for(;s!==null;){if(s.tag===3){IS(s,i,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(rs===null||!rs.has(c))){i=rr(l,i),l=Db(2),c=Ji(s,l,2),c!==null&&(Nb(l,c,s,i),Et(c,2),Fr(c));break}}s=s.return}}function _m(i,s,l){var c=i.pingCache;if(c===null){c=i.pingCache=new DO;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(l)||(cm=!0,p.add(l),i=$O.bind(null,i,s,l),s.then(i,i))}function $O(i,s,l){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,ut===i&&($e&l)===l&&(Rt===4||Rt===3&&($e&62914560)===$e&&300>st()-gd?(Qe&2)===0&&uo(i,0):dm|=l,oo===$e&&(oo=0)),Fr(i)}function DS(i,s){s===0&&(s=an()),i=Bs(i,s),i!==null&&(Et(i,s),Fr(i))}function zO(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),DS(i,l)}function jO(i,s){var l=0;switch(i.tag){case 31:case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),DS(i,l)}function HO(i,s){return Ne(i,s)}var wd=null,fo=null,ym=!1,Td=!1,bm=!1,as=0;function Fr(i){i!==fo&&i.next===null&&(fo===null?wd=fo=i:fo=fo.next=i),Td=!0,ym||(ym=!0,FO())}function ru(i,s){if(!bm&&Td){bm=!0;do for(var l=!1,c=wd;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var m=0;else{var y=c.suspendedLanes,E=c.pingedLanes;m=(1<<31-sn(42|i)+1)-1,m&=p&~(y&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,US(c,m))}else m=$e,m=Ae(c,c===ut?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||_t(c,m)||(l=!0,US(c,m));c=c.next}while(l);bm=!1}}function BO(){NS()}function NS(){Td=ym=!1;var i=0;as!==0&&ZO()&&(i=as);for(var s=st(),l=null,c=wd;c!==null;){var p=c.next,m=LS(c,s);m===0?(c.next=null,l===null?wd=p:l.next=p,p===null&&(fo=l)):(l=c,(i!==0||(m&3)!==0)&&(Td=!0)),c=p}zt!==0&&zt!==5||ru(i),as!==0&&(as=0)}function LS(i,s){for(var l=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var y=31-sn(m),E=1<<y,A=p[y];A===-1?((E&l)===0||(E&c)!==0)&&(p[y]=Ft(E,s)):A<=s&&(i.expiredLanes|=E),m&=~E}if(s=ut,l=$e,l=Ae(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===s&&(tt===2||tt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Kt(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||_t(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(c!==null&&Kt(c),Sr(l)){case 2:case 8:l=Ac;break;case 32:l=Ns;break;case 268435456:l=ni;break;default:l=Ns}return c=PS.bind(null,i),l=Ne(l,c),i.callbackPriority=s,i.callbackNode=l,s}return c!==null&&c!==null&&Kt(c),i.callbackPriority=2,i.callbackNode=null,2}function PS(i,s){if(zt!==0&&zt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Ed()&&i.callbackNode!==l)return null;var c=$e;return c=Ae(i,i===ut?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(vS(i,c,s),LS(i,st()),i.callbackNode!=null&&i.callbackNode===l?PS.bind(null,i):null)}function US(i,s){if(Ed())return null;vS(i,s,!0)}function FO(){tM(function(){(Qe&6)!==0?Ne(yr,BO):NS()})}function Sm(){if(as===0){var i=Wa;i===0&&(i=ka,ka<<=1,(ka&261888)===0&&(ka=256)),as=i}return as}function $S(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ic(""+i)}function zS(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function qO(i,s,l,c,p){if(s==="submit"&&l&&l.stateNode===p){var m=$S((p[xn]||null).action),y=c.submitter;y&&(s=(s=y[xn]||null)?$S(s.formAction):y.getAttribute("formAction"),s!==null&&(m=s,y=null));var E=new Pc("action","action",null,c,p);i.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(as!==0){var A=y?zS(p,y):new FormData(p);Hp(l,{pending:!0,data:A,method:p.method,action:m},null,A)}}else typeof m=="function"&&(E.preventDefault(),A=y?zS(p,y):new FormData(p),Hp(l,{pending:!0,data:A,method:p.method,action:m},m,A))},currentTarget:p}]})}}for(var Em=0;Em<ip.length;Em++){var wm=ip[Em],GO=wm.toLowerCase(),YO=wm[0].toUpperCase()+wm.slice(1);Er(GO,"on"+YO)}Er(g0,"onAnimationEnd"),Er(v0,"onAnimationIteration"),Er(_0,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(lO,"onTransitionRun"),Er(uO,"onTransitionStart"),Er(cO,"onTransitionCancel"),Er(y0,"onTransitionEnd"),Pa("onMouseEnter",["mouseout","mouseover"]),Pa("onMouseLeave",["mouseout","mouseover"]),Pa("onPointerEnter",["pointerout","pointerover"]),Pa("onPointerLeave",["pointerout","pointerover"]),$s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$s("onBeforeInput",["compositionend","keypress","textInput","paste"]),$s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(iu));function jS(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],p=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var y=c.length-1;0<=y;y--){var E=c[y],A=E.instance,P=E.currentTarget;if(E=E.listener,A!==m&&p.isPropagationStopped())break e;m=E,p.currentTarget=P;try{m(p)}catch(Y){zc(Y)}p.currentTarget=null,m=A}else for(y=0;y<c.length;y++){if(E=c[y],A=E.instance,P=E.currentTarget,E=E.listener,A!==m&&p.isPropagationStopped())break e;m=E,p.currentTarget=P;try{m(p)}catch(Y){zc(Y)}p.currentTarget=null,m=A}}}}function Pe(i,s){var l=s[Ph];l===void 0&&(l=s[Ph]=new Set);var c=i+"__bubble";l.has(c)||(HS(s,i,2,!1),l.add(c))}function Tm(i,s,l){var c=0;s&&(c|=4),HS(l,i,c,s)}var xd="_reactListening"+Math.random().toString(36).slice(2);function xm(i){if(!i[xd]){i[xd]=!0,Ny.forEach(function(l){l!=="selectionchange"&&(VO.has(l)||Tm(l,!1,i),Tm(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[xd]||(s[xd]=!0,Tm("selectionchange",!1,s))}}function HS(i,s,l,c){switch(gE(s)){case 2:var p=SM;break;case 8:p=EM;break;default:p=jm}l=p.bind(null,s,l,i),p=void 0,!Gh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function Rm(i,s,l,c,p){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var y=c.tag;if(y===3||y===4){var E=c.stateNode.containerInfo;if(E===p)break;if(y===4)for(y=c.return;y!==null;){var A=y.tag;if((A===3||A===4)&&y.stateNode.containerInfo===p)return;y=y.return}for(;E!==null;){if(y=Da(E),y===null)return;if(A=y.tag,A===5||A===6||A===26||A===27){c=m=y;continue e}E=E.parentNode}}c=c.return}Yy(function(){var P=m,Y=Fh(l),X=[];e:{var U=b0.get(i);if(U!==void 0){var H=Pc,pe=i;switch(i){case"keypress":if(Nc(l)===0)break e;case"keydown":case"keyup":H=jk;break;case"focusin":pe="focus",H=Kh;break;case"focusout":pe="blur",H=Kh;break;case"beforeblur":case"afterblur":H=Kh;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Ky;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Ck;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Fk;break;case g0:case v0:case _0:H=Mk;break;case y0:H=Gk;break;case"scroll":case"scrollend":H=Rk;break;case"wheel":H=Vk;break;case"copy":case"cut":case"paste":H=Dk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Jy;break;case"toggle":case"beforetoggle":H=Kk}var be=(s&4)!==0,lt=!be&&(i==="scroll"||i==="scrollend"),M=be?U!==null?U+"Capture":null:U;be=[];for(var C=P,L;C!==null;){var V=C;if(L=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||L===null||M===null||(V=Rl(C,M),V!=null&&be.push(su(C,V,L))),lt)break;C=C.return}0<be.length&&(U=new H(U,pe,null,l,Y),X.push({event:U,listeners:be}))}}if((s&7)===0){e:{if(U=i==="mouseover"||i==="pointerover",H=i==="mouseout"||i==="pointerout",U&&l!==Bh&&(pe=l.relatedTarget||l.fromElement)&&(Da(pe)||pe[Ia]))break e;if((H||U)&&(U=Y.window===Y?Y:(U=Y.ownerDocument)?U.defaultView||U.parentWindow:window,H?(pe=l.relatedTarget||l.toElement,H=P,pe=pe?Da(pe):null,pe!==null&&(lt=o(pe),be=pe.tag,pe!==lt||be!==5&&be!==27&&be!==6)&&(pe=null)):(H=null,pe=P),H!==pe)){if(be=Ky,V="onMouseLeave",M="onMouseEnter",C="mouse",(i==="pointerout"||i==="pointerover")&&(be=Jy,V="onPointerLeave",M="onPointerEnter",C="pointer"),lt=H==null?U:xl(H),L=pe==null?U:xl(pe),U=new be(V,C+"leave",H,l,Y),U.target=lt,U.relatedTarget=L,V=null,Da(Y)===P&&(be=new be(M,C+"enter",pe,l,Y),be.target=L,be.relatedTarget=lt,V=be),lt=V,H&&pe)t:{for(be=XO,M=H,C=pe,L=0,V=M;V;V=be(V))L++;V=0;for(var ve=C;ve;ve=be(ve))V++;for(;0<L-V;)M=be(M),L--;for(;0<V-L;)C=be(C),V--;for(;L--;){if(M===C||C!==null&&M===C.alternate){be=M;break t}M=be(M),C=be(C)}be=null}else be=null;H!==null&&BS(X,U,H,be,!1),pe!==null&&lt!==null&&BS(X,lt,pe,be,!0)}}e:{if(U=P?xl(P):window,H=U.nodeName&&U.nodeName.toLowerCase(),H==="select"||H==="input"&&U.type==="file")var We=s0;else if(r0(U))if(a0)We=sO;else{We=rO;var me=nO}else H=U.nodeName,!H||H.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?P&&Hh(P.elementType)&&(We=s0):We=iO;if(We&&(We=We(i,P))){i0(X,We,l,Y);break e}me&&me(i,U,P),i==="focusout"&&P&&U.type==="number"&&P.memoizedProps.value!=null&&jh(U,"number",U.value)}switch(me=P?xl(P):window,i){case"focusin":(r0(me)||me.contentEditable==="true")&&(Ba=me,tp=P,Nl=null);break;case"focusout":Nl=tp=Ba=null;break;case"mousedown":np=!0;break;case"contextmenu":case"mouseup":case"dragend":np=!1,p0(X,l,Y);break;case"selectionchange":if(oO)break;case"keydown":case"keyup":p0(X,l,Y)}var Ie;if(Jh)e:{switch(i){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Ha?t0(i,l)&&(ze="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(ze="onCompositionStart");ze&&(Qy&&l.locale!=="ko"&&(Ha||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Ha&&(Ie=Vy()):(qi=Y,Yh="value"in qi?qi.value:qi.textContent,Ha=!0)),me=Rd(P,ze),0<me.length&&(ze=new Wy(ze,i,null,l,Y),X.push({event:ze,listeners:me}),Ie?ze.data=Ie:(Ie=n0(l),Ie!==null&&(ze.data=Ie)))),(Ie=Jk?Qk(i,l):Zk(i,l))&&(ze=Rd(P,"onBeforeInput"),0<ze.length&&(me=new Wy("onBeforeInput","beforeinput",null,l,Y),X.push({event:me,listeners:ze}),me.data=Ie)),qO(X,i,P,l,Y)}jS(X,s)})}function su(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Rd(i,s){for(var l=s+"Capture",c=[];i!==null;){var p=i,m=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||m===null||(p=Rl(i,l),p!=null&&c.unshift(su(i,p,m)),p=Rl(i,s),p!=null&&c.push(su(i,p,m))),i.tag===3)return c;i=i.return}return[]}function XO(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function BS(i,s,l,c,p){for(var m=s._reactName,y=[];l!==null&&l!==c;){var E=l,A=E.alternate,P=E.stateNode;if(E=E.tag,A!==null&&A===c)break;E!==5&&E!==26&&E!==27||P===null||(A=P,p?(P=Rl(l,m),P!=null&&y.unshift(su(l,P,A))):p||(P=Rl(l,m),P!=null&&y.push(su(l,P,A)))),l=l.return}y.length!==0&&i.push({event:s,listeners:y})}var KO=/\r\n?/g,WO=/\u0000|\uFFFD/g;function FS(i){return(typeof i=="string"?i:""+i).replace(KO,`
`).replace(WO,"")}function qS(i,s){return s=FS(s),FS(i)===s}function ot(i,s,l,c,p,m){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||$a(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&$a(i,""+c);break;case"className":Oc(i,"class",c);break;case"tabIndex":Oc(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Oc(i,l,c);break;case"style":qy(i,c,m);break;case"data":if(s!=="object"){Oc(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Ic(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(s!=="input"&&ot(i,s,"name",p.name,p,null),ot(i,s,"formEncType",p.formEncType,p,null),ot(i,s,"formMethod",p.formMethod,p,null),ot(i,s,"formTarget",p.formTarget,p,null)):(ot(i,s,"encType",p.encType,p,null),ot(i,s,"method",p.method,p,null),ot(i,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Ic(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=ii);break;case"onScroll":c!=null&&Pe("scroll",i);break;case"onScrollEnd":c!=null&&Pe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=Ic(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":Pe("beforetoggle",i),Pe("toggle",i),kc(i,"popover",c);break;case"xlinkActuate":ri(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ri(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ri(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ri(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ri(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ri(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ri(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ri(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ri(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":kc(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Tk.get(l)||l,kc(i,l,c))}}function Am(i,s,l,c,p,m){switch(l){case"style":qy(i,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?$a(i,c):(typeof c=="number"||typeof c=="bigint")&&$a(i,""+c);break;case"onScroll":c!=null&&Pe("scroll",i);break;case"onScrollEnd":c!=null&&Pe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ly.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),m=i[xn]||null,m=m!=null?m[l]:null,typeof m=="function"&&i.removeEventListener(s,m,p),typeof c=="function")){typeof m!="function"&&m!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,c,p);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):kc(i,l,c)}}}function en(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",i),Pe("load",i);var c=!1,p=!1,m;for(m in l)if(l.hasOwnProperty(m)){var y=l[m];if(y!=null)switch(m){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ot(i,s,m,y,l,null)}}p&&ot(i,s,"srcSet",l.srcSet,l,null),c&&ot(i,s,"src",l.src,l,null);return;case"input":Pe("invalid",i);var E=m=y=p=null,A=null,P=null;for(c in l)if(l.hasOwnProperty(c)){var Y=l[c];if(Y!=null)switch(c){case"name":p=Y;break;case"type":y=Y;break;case"checked":A=Y;break;case"defaultChecked":P=Y;break;case"value":m=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:ot(i,s,c,Y,l,null)}}jy(i,m,E,A,P,y,p,!1);return;case"select":Pe("invalid",i),c=y=m=null;for(p in l)if(l.hasOwnProperty(p)&&(E=l[p],E!=null))switch(p){case"value":m=E;break;case"defaultValue":y=E;break;case"multiple":c=E;default:ot(i,s,p,E,l,null)}s=m,l=y,i.multiple=!!c,s!=null?Ua(i,!!c,s,!1):l!=null&&Ua(i,!!c,l,!0);return;case"textarea":Pe("invalid",i),m=p=c=null;for(y in l)if(l.hasOwnProperty(y)&&(E=l[y],E!=null))switch(y){case"value":c=E;break;case"defaultValue":p=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ot(i,s,y,E,l,null)}By(i,c,p,m);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(c=l[A],c!=null))switch(A){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ot(i,s,A,c,l,null)}return;case"dialog":Pe("beforetoggle",i),Pe("toggle",i),Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":Pe("load",i);break;case"video":case"audio":for(c=0;c<iu.length;c++)Pe(iu[c],i);break;case"image":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"embed":case"source":case"link":Pe("error",i),Pe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in l)if(l.hasOwnProperty(P)&&(c=l[P],c!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ot(i,s,P,c,l,null)}return;default:if(Hh(s)){for(Y in l)l.hasOwnProperty(Y)&&(c=l[Y],c!==void 0&&Am(i,s,Y,c,l,void 0));return}}for(E in l)l.hasOwnProperty(E)&&(c=l[E],c!=null&&ot(i,s,E,c,l,null))}function JO(i,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,m=null,y=null,E=null,A=null,P=null,Y=null;for(H in l){var X=l[H];if(l.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":A=X;default:c.hasOwnProperty(H)||ot(i,s,H,null,c,X)}}for(var U in c){var H=c[U];if(X=l[U],c.hasOwnProperty(U)&&(H!=null||X!=null))switch(U){case"type":m=H;break;case"name":p=H;break;case"checked":P=H;break;case"defaultChecked":Y=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,s));break;default:H!==X&&ot(i,s,U,H,c,X)}}zh(i,y,E,A,P,Y,m,p);return;case"select":H=y=E=U=null;for(m in l)if(A=l[m],l.hasOwnProperty(m)&&A!=null)switch(m){case"value":break;case"multiple":H=A;default:c.hasOwnProperty(m)||ot(i,s,m,null,c,A)}for(p in c)if(m=c[p],A=l[p],c.hasOwnProperty(p)&&(m!=null||A!=null))switch(p){case"value":U=m;break;case"defaultValue":E=m;break;case"multiple":y=m;default:m!==A&&ot(i,s,p,m,c,A)}s=E,l=y,c=H,U!=null?Ua(i,!!l,U,!1):!!c!=!!l&&(s!=null?Ua(i,!!l,s,!0):Ua(i,!!l,l?[]:"",!1));return;case"textarea":H=U=null;for(E in l)if(p=l[E],l.hasOwnProperty(E)&&p!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ot(i,s,E,null,c,p)}for(y in c)if(p=c[y],m=l[y],c.hasOwnProperty(y)&&(p!=null||m!=null))switch(y){case"value":U=p;break;case"defaultValue":H=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==m&&ot(i,s,y,p,c,m)}Hy(i,U,H);return;case"option":for(var pe in l)if(U=l[pe],l.hasOwnProperty(pe)&&U!=null&&!c.hasOwnProperty(pe))switch(pe){case"selected":i.selected=!1;break;default:ot(i,s,pe,null,c,U)}for(A in c)if(U=c[A],H=l[A],c.hasOwnProperty(A)&&U!==H&&(U!=null||H!=null))switch(A){case"selected":i.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:ot(i,s,A,U,c,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in l)U=l[be],l.hasOwnProperty(be)&&U!=null&&!c.hasOwnProperty(be)&&ot(i,s,be,null,c,U);for(P in c)if(U=c[P],H=l[P],c.hasOwnProperty(P)&&U!==H&&(U!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,s));break;default:ot(i,s,P,U,c,H)}return;default:if(Hh(s)){for(var lt in l)U=l[lt],l.hasOwnProperty(lt)&&U!==void 0&&!c.hasOwnProperty(lt)&&Am(i,s,lt,void 0,c,U);for(Y in c)U=c[Y],H=l[Y],!c.hasOwnProperty(Y)||U===H||U===void 0&&H===void 0||Am(i,s,Y,U,c,H);return}}for(var M in l)U=l[M],l.hasOwnProperty(M)&&U!=null&&!c.hasOwnProperty(M)&&ot(i,s,M,null,c,U);for(X in c)U=c[X],H=l[X],!c.hasOwnProperty(X)||U===H||U==null&&H==null||ot(i,s,X,U,c,H)}function GS(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QO(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var p=l[c],m=p.transferSize,y=p.initiatorType,E=p.duration;if(m&&E&&GS(y)){for(y=0,E=p.responseEnd,c+=1;c<l.length;c++){var A=l[c],P=A.startTime;if(P>E)break;var Y=A.transferSize,X=A.initiatorType;Y&&GS(X)&&(A=A.responseEnd,y+=Y*(A<E?1:(E-P)/(A-P)))}if(--c,s+=8*(m+y)/(p.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Cm=null,km=null;function Ad(i){return i.nodeType===9?i:i.ownerDocument}function YS(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VS(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Om(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Mm=null;function ZO(){var i=window.event;return i&&i.type==="popstate"?i===Mm?!1:(Mm=i,!0):(Mm=null,!1)}var XS=typeof setTimeout=="function"?setTimeout:void 0,eM=typeof clearTimeout=="function"?clearTimeout:void 0,KS=typeof Promise=="function"?Promise:void 0,tM=typeof queueMicrotask=="function"?queueMicrotask:typeof KS<"u"?function(i){return KS.resolve(null).then(i).catch(nM)}:XS;function nM(i){setTimeout(function(){throw i})}function os(i){return i==="head"}function WS(i,s){var l=s,c=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(c===0){i.removeChild(p),go(s);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")au(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,au(l);for(var m=l.firstChild;m;){var y=m.nextSibling,E=m.nodeName;m[Tl]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=y}}else l==="body"&&au(i.ownerDocument.body);l=p}while(l);go(s)}function JS(i,s){var l=i;i=0;do{var c=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=c}while(l)}function Im(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Im(l),Uh(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function rM(i,s,l,c){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Tl])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var m=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=lr(i.nextSibling),i===null)break}return null}function iM(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=lr(i.nextSibling),i===null))return null;return i}function QS(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=lr(i.nextSibling),i===null))return null;return i}function Dm(i){return i.data==="$?"||i.data==="$~"}function Nm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function sM(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function lr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Lm=null;function ZS(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return lr(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function eE(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function tE(i,s,l){switch(s=Ad(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function au(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Uh(i)}var ur=new Map,nE=new Set;function Cd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var bi=G.d;G.d={f:aM,r:oM,D:lM,C:uM,L:cM,m:dM,X:hM,S:fM,M:pM};function aM(){var i=bi.f(),s=yd();return i||s}function oM(i){var s=Na(i);s!==null&&s.tag===5&&s.type==="form"?yb(s):bi.r(i)}var ho=typeof document>"u"?null:document;function rE(i,s,l){var c=ho;if(c&&typeof s=="string"&&s){var p=tr(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),nE.has(p)||(nE.add(p),i={rel:i,crossOrigin:l,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),en(s,"link",i),qt(s),c.head.appendChild(s)))}}function lM(i){bi.D(i),rE("dns-prefetch",i,null)}function uM(i,s){bi.C(i,s),rE("preconnect",i,s)}function cM(i,s,l){bi.L(i,s,l);var c=ho;if(c&&i&&s){var p='link[rel="preload"][as="'+tr(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+tr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+tr(l.imageSizes)+'"]')):p+='[href="'+tr(i)+'"]';var m=p;switch(s){case"style":m=po(i);break;case"script":m=mo(i)}ur.has(m)||(i=v({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),ur.set(m,i),c.querySelector(p)!==null||s==="style"&&c.querySelector(ou(m))||s==="script"&&c.querySelector(lu(m))||(s=c.createElement("link"),en(s,"link",i),qt(s),c.head.appendChild(s)))}}function dM(i,s){bi.m(i,s);var l=ho;if(l&&i){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+tr(c)+'"][href="'+tr(i)+'"]',m=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=mo(i)}if(!ur.has(m)&&(i=v({rel:"modulepreload",href:i},s),ur.set(m,i),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(lu(m)))return}c=l.createElement("link"),en(c,"link",i),qt(c),l.head.appendChild(c)}}}function fM(i,s,l){bi.S(i,s,l);var c=ho;if(c&&i){var p=La(c).hoistableStyles,m=po(i);s=s||"default";var y=p.get(m);if(!y){var E={loading:0,preload:null};if(y=c.querySelector(ou(m)))E.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},l),(l=ur.get(m))&&Pm(i,l);var A=y=c.createElement("link");qt(A),en(A,"link",i),A._p=new Promise(function(P,Y){A.onload=P,A.onerror=Y}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,kd(y,s,c)}y={type:"stylesheet",instance:y,count:1,state:E},p.set(m,y)}}}function hM(i,s){bi.X(i,s);var l=ho;if(l&&i){var c=La(l).hoistableScripts,p=mo(i),m=c.get(p);m||(m=l.querySelector(lu(p)),m||(i=v({src:i,async:!0},s),(s=ur.get(p))&&Um(i,s),m=l.createElement("script"),qt(m),en(m,"link",i),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(p,m))}}function pM(i,s){bi.M(i,s);var l=ho;if(l&&i){var c=La(l).hoistableScripts,p=mo(i),m=c.get(p);m||(m=l.querySelector(lu(p)),m||(i=v({src:i,async:!0,type:"module"},s),(s=ur.get(p))&&Um(i,s),m=l.createElement("script"),qt(m),en(m,"link",i),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(p,m))}}function iE(i,s,l,c){var p=(p=fe.current)?Cd(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=po(l.href),l=La(p).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=po(l.href);var m=La(p).hoistableStyles,y=m.get(i);if(y||(p=p.ownerDocument||p,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,y),(m=p.querySelector(ou(i)))&&!m._p&&(y.instance=m,y.state.loading=5),ur.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ur.set(i,l),m||mM(p,i,l,y.state))),s&&c===null)throw Error(r(528,""));return y}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=mo(l),l=La(p).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function po(i){return'href="'+tr(i)+'"'}function ou(i){return'link[rel="stylesheet"]['+i+"]"}function sE(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function mM(i,s,l,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),en(s,"link",l),qt(s),i.head.appendChild(s))}function mo(i){return'[src="'+tr(i)+'"]'}function lu(i){return"script[async]"+i}function aE(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+tr(l.href)+'"]');if(c)return s.instance=c,qt(c),c;var p=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),qt(c),en(c,"style",p),kd(c,l.precedence,i),s.instance=c;case"stylesheet":p=po(l.href);var m=i.querySelector(ou(p));if(m)return s.state.loading|=4,s.instance=m,qt(m),m;c=sE(l),(p=ur.get(p))&&Pm(c,p),m=(i.ownerDocument||i).createElement("link"),qt(m);var y=m;return y._p=new Promise(function(E,A){y.onload=E,y.onerror=A}),en(m,"link",c),s.state.loading|=4,kd(m,l.precedence,i),s.instance=m;case"script":return m=mo(l.src),(p=i.querySelector(lu(m)))?(s.instance=p,qt(p),p):(c=l,(p=ur.get(m))&&(c=v({},l),Um(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),qt(p),en(p,"link",c),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,kd(c,l.precedence,i));return s.instance}function kd(i,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,m=p,y=0;y<c.length;y++){var E=c[y];if(E.dataset.precedence===s)m=E;else if(m!==p)break}m?m.parentNode.insertBefore(i,m.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function Pm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Um(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Od=null;function oE(i,s,l){if(Od===null){var c=new Map,p=Od=new Map;p.set(l,c)}else p=Od,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var m=l[p];if(!(m[Tl]||m[Wt]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var y=m.getAttribute(s)||"";y=i+y;var E=c.get(y);E?E.push(m):c.set(y,[m])}}return c}function lE(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function gM(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function uE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function vM(i,s,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=po(c.href),m=s.querySelector(ou(p));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Md.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=m,qt(m);return}m=s.ownerDocument||s,c=sE(c),(p=ur.get(p))&&Pm(c,p),m=m.createElement("link"),qt(m);var y=m;y._p=new Promise(function(E,A){y.onload=E,y.onerror=A}),en(m,"link",c),l.instance=m}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Md.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var $m=0;function _M(i,s){return i.stylesheets&&i.count===0&&Dd(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var c=setTimeout(function(){if(i.stylesheets&&Dd(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4+s);0<i.imgBytes&&$m===0&&($m=62500*QO());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Dd(i,i.stylesheets),i.unsuspend)){var m=i.unsuspend;i.unsuspend=null,m()}},(i.imgBytes>$m?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function Md(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Id=null;function Dd(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Id=new Map,s.forEach(yM,i),Id=null,Md.call(i))}function yM(i,s){if(!(s.state.loading&4)){var l=Id.get(i);if(l)var c=l.get(null);else{l=new Map,Id.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<p.length;m++){var y=p[m];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(l.set(y.dataset.precedence,y),c=y)}c&&l.set(null,c)}p=s.instance,y=p.getAttribute("data-precedence"),m=l.get(y)||c,m===c&&l.set(null,p),l.set(y,p),this.count++,c=Md.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),m?m.parentNode.insertBefore(p,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var uu={$$typeof:D,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function bM(i,s,l,c,p,m,y,E,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bi(0),this.hiddenUpdates=Bi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=m,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function cE(i,s,l,c,p,m,y,E,A,P,Y,X){return i=new bM(i,s,l,y,A,P,Y,X,E),s=1,m===!0&&(s|=24),m=Bn(3,null,null,s),i.current=m,m.stateNode=i,s=vp(),s.refCount++,i.pooledCache=s,s.refCount++,m.memoizedState={element:c,isDehydrated:l,cache:s},Sp(m),i}function dE(i){return i?(i=Ga,i):Ga}function fE(i,s,l,c,p,m){p=dE(p),c.context===null?c.context=p:c.pendingContext=p,c=Wi(s),c.payload={element:l},m=m===void 0?null:m,m!==null&&(c.callback=m),l=Ji(i,c,s),l!==null&&(Mn(l,i,s),Hl(l,i,s))}function hE(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function zm(i,s){hE(i,s),(i=i.alternate)&&hE(i,s)}function pE(i){if(i.tag===13||i.tag===31){var s=Bs(i,67108864);s!==null&&Mn(s,i,67108864),zm(i,67108864)}}function mE(i){if(i.tag===13||i.tag===31){var s=Vn();s=Ma(s);var l=Bs(i,s);l!==null&&Mn(l,i,s),zm(i,s)}}var Nd=!0;function SM(i,s,l,c){var p=k.T;k.T=null;var m=G.p;try{G.p=2,jm(i,s,l,c)}finally{G.p=m,k.T=p}}function EM(i,s,l,c){var p=k.T;k.T=null;var m=G.p;try{G.p=8,jm(i,s,l,c)}finally{G.p=m,k.T=p}}function jm(i,s,l,c){if(Nd){var p=Hm(c);if(p===null)Rm(i,s,c,Ld,l),vE(i,c);else if(TM(p,i,s,l,c))c.stopPropagation();else if(vE(i,c),s&4&&-1<wM.indexOf(i)){for(;p!==null;){var m=Na(p);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var y=zr(m.pendingLanes);if(y!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var A=1<<31-sn(y);E.entanglements[1]|=A,y&=~A}Fr(m),(Qe&6)===0&&(vd=st()+500,ru(0))}}break;case 31:case 13:E=Bs(m,2),E!==null&&Mn(E,m,2),yd(),zm(m,2)}if(m=Hm(c),m===null&&Rm(i,s,c,Ld,l),m===p)break;p=m}p!==null&&c.stopPropagation()}else Rm(i,s,c,null,l)}}function Hm(i){return i=Fh(i),Bm(i)}var Ld=null;function Bm(i){if(Ld=null,i=Da(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===31){if(i=d(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Ld=i,null}function gE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ve()){case yr:return 2;case Ac:return 8;case Ns:case El:return 32;case ni:return 268435456;default:return 32}default:return 32}}var Fm=!1,ls=null,us=null,cs=null,cu=new Map,du=new Map,ds=[],wM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vE(i,s){switch(i){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":cu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":du.delete(s.pointerId)}}function fu(i,s,l,c,p,m){return i===null||i.nativeEvent!==m?(i={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:m,targetContainers:[p]},s!==null&&(s=Na(s),s!==null&&pE(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function TM(i,s,l,c,p){switch(s){case"focusin":return ls=fu(ls,i,s,l,c,p),!0;case"dragenter":return us=fu(us,i,s,l,c,p),!0;case"mouseover":return cs=fu(cs,i,s,l,c,p),!0;case"pointerover":var m=p.pointerId;return cu.set(m,fu(cu.get(m)||null,i,s,l,c,p)),!0;case"gotpointercapture":return m=p.pointerId,du.set(m,fu(du.get(m)||null,i,s,l,c,p)),!0}return!1}function _E(i){var s=Da(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,Iy(i.priority,function(){mE(l)});return}}else if(s===31){if(s=d(l),s!==null){i.blockedOn=s,Iy(i.priority,function(){mE(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Pd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Hm(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Bh=c,l.target.dispatchEvent(c),Bh=null}else return s=Na(l),s!==null&&pE(s),i.blockedOn=l,!1;s.shift()}return!0}function yE(i,s,l){Pd(i)&&l.delete(s)}function xM(){Fm=!1,ls!==null&&Pd(ls)&&(ls=null),us!==null&&Pd(us)&&(us=null),cs!==null&&Pd(cs)&&(cs=null),cu.forEach(yE),du.forEach(yE)}function Ud(i,s){i.blockedOn===s&&(i.blockedOn=null,Fm||(Fm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,xM)))}var $d=null;function bE(i){$d!==i&&($d=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){$d===i&&($d=null);for(var s=0;s<i.length;s+=3){var l=i[s],c=i[s+1],p=i[s+2];if(typeof c!="function"){if(Bm(c||l)===null)continue;break}var m=Na(l);m!==null&&(i.splice(s,3),s-=3,Hp(m,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function go(i){function s(A){return Ud(A,i)}ls!==null&&Ud(ls,i),us!==null&&Ud(us,i),cs!==null&&Ud(cs,i),cu.forEach(s),du.forEach(s);for(var l=0;l<ds.length;l++){var c=ds[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<ds.length&&(l=ds[0],l.blockedOn===null);)_E(l),l.blockedOn===null&&ds.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],m=l[c+1],y=p[xn]||null;if(typeof m=="function")y||bE(l);else if(y){var E=null;if(m&&m.hasAttribute("formAction")){if(p=m,y=m[xn]||null)E=y.formAction;else if(Bm(p)!==null)continue}else E=y.action;typeof E=="function"?l[c+1]=E:(l.splice(c,3),c-=3),bE(l)}}}function SE(){function i(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(y){return p=y})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function qm(i){this._internalRoot=i}zd.prototype.render=qm.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,c=Vn();fE(l,c,i,s,null,null)},zd.prototype.unmount=qm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;fE(i.current,2,null,i,null,null),yd(),s[Ia]=null}};function zd(i){this._internalRoot=i}zd.prototype.unstable_scheduleHydration=function(i){if(i){var s=Lh();i={blockedOn:null,target:i,priority:s};for(var l=0;l<ds.length&&s!==0&&s<ds[l].priority;l++);ds.splice(l,0,i),l===0&&_E(i)}};var EE=e.version;if(EE!=="19.2.0")throw Error(r(527,EE,"19.2.0"));G.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(s),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var RM={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jd.isDisabled&&jd.supportsFiber)try{Ls=jd.inject(RM),hn=jd}catch{}}return pu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,c="",p=kb,m=Ob,y=Mb;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),s=cE(i,1,!1,null,null,l,c,null,p,m,y,SE),i[Ia]=s.current,xm(i),new qm(s)},pu.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var c=!1,p="",m=kb,y=Ob,E=Mb,A=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(y=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.formState!==void 0&&(A=l.formState)),s=cE(i,1,!0,s,l??null,c,p,A,m,y,E,SE),s.context=dE(null),l=s.current,c=Vn(),c=Ma(c),p=Wi(c),p.callback=null,Ji(l,p,c),l=c,s.current.lanes=l,Et(s,l),Fr(s),i[Ia]=s.current,xm(i),new zd(s)},pu.version="19.2.0",pu}var IE;function UM(){if(IE)return Vm.exports;IE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vm.exports=PM(),Vm.exports}var $M=UM();const zM=sl($M);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var DE="popstate";function jM(t={}){function e(r,a){let{pathname:o,search:u,hash:d}=r.location;return Jg("",{pathname:o,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Vu(a)}return BM(e,n,null,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HM(){return Math.random().toString(36).substring(2,10)}function NE(t,e){return{usr:t.state,key:t.key,idx:e}}function Jg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?al(e):e,state:n,key:e&&e.key||r||HM()}}function Vu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function al(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function BM(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,d="POP",f=null,h=g();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function g(){return(u.state||{idx:null}).idx}function v(){d="POP";let T=g(),x=T==null?null:T-h;h=T,f&&f({action:d,location:w.location,delta:x})}function _(T,x){d="PUSH";let I=Jg(w.location,T,x);h=g()+1;let D=NE(I,h),q=w.createHref(I);try{u.pushState(D,"",q)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;a.location.assign(q)}o&&f&&f({action:d,location:w.location,delta:1})}function b(T,x){d="REPLACE";let I=Jg(w.location,T,x);h=g();let D=NE(I,h),q=w.createHref(I);u.replaceState(D,"",q),o&&f&&f({action:d,location:w.location,delta:0})}function S(T){return FM(T)}let w={get action(){return d},get location(){return t(a,u)},listen(T){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(DE,v),f=T,()=>{a.removeEventListener(DE,v),f=null}},createHref(T){return e(a,T)},createURL:S,encodeLocation(T){let x=S(T);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:_,replace:b,go(T){return u.go(T)}};return w}function FM(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),bt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Vu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function X1(t,e,n="/"){return qM(t,e,n,!1)}function qM(t,e,n,r){let a=typeof e=="string"?al(e):e,o=Li(a.pathname||"/",n);if(o==null)return null;let u=K1(t);GM(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let h=nI(o);d=eI(u[f],h,r)}return d}function K1(t,e=[],n=[],r="",a=!1){let o=(u,d,f=a,h)=>{let g={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&f)return;bt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let v=ki([r,g.relativePath]),_=n.concat(g);u.children&&u.children.length>0&&(bt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),K1(u.children,e,_,v,f)),!(u.path==null&&!u.index)&&e.push({path:v,score:QM(v,u.index),routesMeta:_})};return t.forEach((u,d)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))o(u,d);else for(let h of W1(u.path))o(u,d,!0,h)}),e}function W1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=W1(r.join("/")),d=[];return d.push(...u.map(f=>f===""?o:[o,f].join("/"))),a&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function GM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var YM=/^:[\w-]+$/,VM=3,XM=2,KM=1,WM=10,JM=-2,LE=t=>t==="*";function QM(t,e){let n=t.split("/"),r=n.length;return n.some(LE)&&(r+=JM),e&&(r+=XM),n.filter(a=>!LE(a)).reduce((a,o)=>a+(YM.test(o)?VM:o===""?KM:WM),r)}function ZM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function eI(t,e,n=!1){let{routesMeta:r}=t,a={},o="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=Mf({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},g),_=f.route;if(!v&&h&&n&&!r[r.length-1].route.index&&(v=Mf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:ki([o,v.pathname]),pathnameBase:oI(ki([o,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(o=ki([o,v.pathnameBase]))}return u}function Mf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((h,{paramName:g,isOptional:v},_)=>{if(g==="*"){let S=d[_]||"";u=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const b=d[_];return v&&!b?h[g]=void 0:h[g]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:u,pattern:t}}function tI(t,e=!1,n=!0){vr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function nI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Li(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var rI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iI=t=>rI.test(t);function sI(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?al(t):t,o;if(n)if(iI(n))o=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),vr(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?o=PE(n.substring(1),"/"):o=PE(n,e)}else o=e;return{pathname:o,search:lI(r),hash:uI(a)}}function PE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Jm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function d_(t){let e=aI(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function f_(t,e,n,r=!1){let a;typeof t=="string"?a=al(t):(a={...t},bt(!a.pathname||!a.pathname.includes("?"),Jm("?","pathname","search",a)),bt(!a.pathname||!a.pathname.includes("#"),Jm("#","pathname","hash",a)),bt(!a.search||!a.search.includes("#"),Jm("#","search","hash",a)));let o=t===""||a.pathname==="",u=o?"/":a.pathname,d;if(u==null)d=n;else{let v=e.length-1;if(!r&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),v-=1;a.pathname=_.join("/")}d=v>=0?e[v]:"/"}let f=sI(a,d),h=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}var ki=t=>t.join("/").replace(/\/\/+/g,"/"),oI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var J1=["POST","PUT","PATCH","DELETE"];new Set(J1);var dI=["GET",...J1];new Set(dI);var ol=$.createContext(null);ol.displayName="DataRouter";var ch=$.createContext(null);ch.displayName="DataRouterState";$.createContext(!1);var Q1=$.createContext({isTransitioning:!1});Q1.displayName="ViewTransition";var fI=$.createContext(new Map);fI.displayName="Fetchers";var hI=$.createContext(null);hI.displayName="Await";var Lr=$.createContext(null);Lr.displayName="Navigation";var uc=$.createContext(null);uc.displayName="Location";var Qr=$.createContext({outlet:null,matches:[],isDataRoute:!1});Qr.displayName="Route";var h_=$.createContext(null);h_.displayName="RouteError";function pI(t,{relative:e}={}){bt(ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=$.useContext(Lr),{hash:a,pathname:o,search:u}=cc(t,{relative:e}),d=o;return n!=="/"&&(d=o==="/"?n:ki([n,o])),r.createHref({pathname:d,search:u,hash:a})}function ll(){return $.useContext(uc)!=null}function Zr(){return bt(ll(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(uc).location}var Z1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ex(t){$.useContext(Lr).static||$.useLayoutEffect(t)}function p_(){let{isDataRoute:t}=$.useContext(Qr);return t?AI():mI()}function mI(){bt(ll(),"useNavigate() may be used only in the context of a <Router> component.");let t=$.useContext(ol),{basename:e,navigator:n}=$.useContext(Lr),{matches:r}=$.useContext(Qr),{pathname:a}=Zr(),o=JSON.stringify(d_(r)),u=$.useRef(!1);return ex(()=>{u.current=!0}),$.useCallback((f,h={})=>{if(vr(u.current,Z1),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=f_(f,JSON.parse(o),a,h.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ki([e,g.pathname])),(h.replace?n.replace:n.push)(g,h.state,h)},[e,n,o,a,t])}$.createContext(null);function cc(t,{relative:e}={}){let{matches:n}=$.useContext(Qr),{pathname:r}=Zr(),a=JSON.stringify(d_(n));return $.useMemo(()=>f_(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function gI(t,e){return tx(t,e)}function tx(t,e,n,r,a){var I;bt(ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=$.useContext(Lr),{matches:u}=$.useContext(Qr),d=u[u.length-1],f=d?d.params:{},h=d?d.pathname:"/",g=d?d.pathnameBase:"/",v=d&&d.route;{let D=v&&v.path||"";nx(h,!v||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let _=Zr(),b;if(e){let D=typeof e=="string"?al(e):e;bt(g==="/"||((I=D.pathname)==null?void 0:I.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${D.pathname}" was given in the \`location\` prop.`),b=D}else b=_;let S=b.pathname||"/",w=S;if(g!=="/"){let D=g.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(D.length).join("/")}let T=X1(t,{pathname:w});vr(v||T!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),vr(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=SI(T&&T.map(D=>Object.assign({},D,{params:Object.assign({},f,D.params),pathname:ki([g,o.encodeLocation?o.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?g:ki([g,o.encodeLocation?o.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),u,n,r,a);return e&&x?$.createElement(uc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},x):x}function vI(){let t=RI(),e=cI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:o},"ErrorBoundary")," or"," ",$.createElement("code",{style:o},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:a},n):null,u)}var _I=$.createElement(vI,null),yI=class extends $.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?$.createElement(Qr.Provider,{value:this.props.routeContext},$.createElement(h_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bI({routeContext:t,match:e,children:n}){let r=$.useContext(ol);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Qr.Provider,{value:t},n)}function SI(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);bt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let d=!1,f=-1;if(n)for(let g=0;g<o.length;g++){let v=o[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=g),v.route.id){let{loaderData:_,errors:b}=n,S=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!b||b[v.route.id]===void 0);if(v.route.lazy||S){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let h=n&&r?(g,v)=>{var _,b;r(g,{location:n.location,params:((b=(_=n.matches)==null?void 0:_[0])==null?void 0:b.params)??{},errorInfo:v})}:void 0;return o.reduceRight((g,v,_)=>{let b,S=!1,w=null,T=null;n&&(b=u&&v.route.id?u[v.route.id]:void 0,w=v.route.errorElement||_I,d&&(f<0&&_===0?(nx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,T=null):f===_&&(S=!0,T=v.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,_+1)),I=()=>{let D;return b?D=w:S?D=T:v.route.Component?D=$.createElement(v.route.Component,null):v.route.element?D=v.route.element:D=g,$.createElement(bI,{match:v,routeContext:{outlet:g,matches:x,isDataRoute:n!=null},children:D})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?$.createElement(yI,{location:n.location,revalidation:n.revalidation,component:w,error:b,children:I(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:h}):I()},null)}function m_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EI(t){let e=$.useContext(ol);return bt(e,m_(t)),e}function wI(t){let e=$.useContext(ch);return bt(e,m_(t)),e}function TI(t){let e=$.useContext(Qr);return bt(e,m_(t)),e}function g_(t){let e=TI(t),n=e.matches[e.matches.length-1];return bt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function xI(){return g_("useRouteId")}function RI(){var r;let t=$.useContext(h_),e=wI("useRouteError"),n=g_("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function AI(){let{router:t}=EI("useNavigate"),e=g_("useNavigate"),n=$.useRef(!1);return ex(()=>{n.current=!0}),$.useCallback(async(a,o={})=>{vr(n.current,Z1),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var UE={};function nx(t,e,n){!e&&!UE[t]&&(UE[t]=!0,vr(!1,n))}$.memo(CI);function CI({routes:t,future:e,state:n,unstable_onError:r}){return tx(t,void 0,n,r,e)}function Ou({to:t,replace:e,state:n,relative:r}){bt(ll(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=$.useContext(Lr);vr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=$.useContext(Qr),{pathname:u}=Zr(),d=p_(),f=f_(t,d_(o),u,r==="path"),h=JSON.stringify(f);return $.useEffect(()=>{d(JSON.parse(h),{replace:e,state:n,relative:r})},[d,h,r,e,n]),null}function gs(t){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kI({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:o=!1}){bt(!ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=$.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof n=="string"&&(n=al(n));let{pathname:f="/",search:h="",hash:g="",state:v=null,key:_="default"}=n,b=$.useMemo(()=>{let S=Li(f,u);return S==null?null:{location:{pathname:S,search:h,hash:g,state:v,key:_},navigationType:r}},[u,f,h,g,v,_,r]);return vr(b!=null,`<Router basename="${u}"> is not able to match the URL "${f}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:$.createElement(Lr.Provider,{value:d},$.createElement(uc.Provider,{children:e,value:b}))}function OI({children:t,location:e}){return gI(Qg(t),e)}function Qg(t,e=[]){let n=[];return $.Children.forEach(t,(r,a)=>{if(!$.isValidElement(r))return;let o=[...e,a];if(r.type===$.Fragment){n.push.apply(n,Qg(r.props.children,o));return}bt(r.type===gs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Qg(r.props.children,o)),n.push(u)}),n}var ff="get",hf="application/x-www-form-urlencoded";function dh(t){return t!=null&&typeof t.tagName=="string"}function MI(t){return dh(t)&&t.tagName.toLowerCase()==="button"}function II(t){return dh(t)&&t.tagName.toLowerCase()==="form"}function DI(t){return dh(t)&&t.tagName.toLowerCase()==="input"}function NI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LI(t,e){return t.button===0&&(!e||e==="_self")&&!NI(t)}var Hd=null;function PI(){if(Hd===null)try{new FormData(document.createElement("form"),0),Hd=!1}catch{Hd=!0}return Hd}var UI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qm(t){return t!=null&&!UI.has(t)?(vr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hf}"`),null):t}function $I(t,e){let n,r,a,o,u;if(II(t)){let d=t.getAttribute("action");r=d?Li(d,e):null,n=t.getAttribute("method")||ff,a=Qm(t.getAttribute("enctype"))||hf,o=new FormData(t)}else if(MI(t)||DI(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(r=f?Li(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||ff,a=Qm(t.getAttribute("formenctype"))||Qm(d.getAttribute("enctype"))||hf,o=new FormData(d,t),!PI()){let{name:h,type:g,value:v}=t;if(g==="image"){let _=h?`${h}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else h&&o.append(h,v)}}else{if(dh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ff,r=null,a=hf,u=t}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function v_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zI(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Li(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function jI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function BI(t,e,n){let r=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await jI(o,n);return u.links?u.links():[]}return[]}));return YI(r.flat(1).filter(HI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function $E(t,e,n,r,a,o){let u=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>{var g;return n[h].pathname!==f.pathname||((g=n[h].route.path)==null?void 0:g.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,h)=>u(f,h)||d(f,h)):o==="data"?e.filter((f,h)=>{var v;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function FI(t,e,{includeHydrateFallback:n}={}){return qI(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function qI(t){return[...new Set(t)]}function GI(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function YI(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let o=JSON.stringify(GI(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}function rx(){let t=$.useContext(ol);return v_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function VI(){let t=$.useContext(ch);return v_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var __=$.createContext(void 0);__.displayName="FrameworkContext";function ix(){let t=$.useContext(__);return v_(t,"You must render this element inside a <HydratedRouter> element"),t}function XI(t,e){let n=$.useContext(__),[r,a]=$.useState(!1),[o,u]=$.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:g,onTouchStart:v}=e,_=$.useRef(null);$.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let w=x=>{x.forEach(I=>{u(I.isIntersecting)})},T=new IntersectionObserver(w,{threshold:.5});return _.current&&T.observe(_.current),()=>{T.disconnect()}}},[t]),$.useEffect(()=>{if(r){let w=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(w)}}},[r]);let b=()=>{a(!0)},S=()=>{a(!1),u(!1)};return n?t!=="intent"?[o,_,{}]:[o,_,{onFocus:mu(d,b),onBlur:mu(f,S),onMouseEnter:mu(h,b),onMouseLeave:mu(g,S),onTouchStart:mu(v,b)}]:[!1,_,{}]}function mu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function KI({page:t,...e}){let{router:n}=rx(),r=$.useMemo(()=>X1(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?$.createElement(JI,{page:t,matches:r,...e}):null}function WI(t){let{manifest:e,routeModules:n}=ix(),[r,a]=$.useState([]);return $.useEffect(()=>{let o=!1;return BI(t,e,n).then(u=>{o||a(u)}),()=>{o=!0}},[t,e,n]),r}function JI({page:t,matches:e,...n}){let r=Zr(),{manifest:a,routeModules:o}=ix(),{basename:u}=rx(),{loaderData:d,matches:f}=VI(),h=$.useMemo(()=>$E(t,e,f,a,r,"data"),[t,e,f,a,r]),g=$.useMemo(()=>$E(t,e,f,a,r,"assets"),[t,e,f,a,r]),v=$.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,w=!1;if(e.forEach(x=>{var D;let I=a.routes[x.route.id];!I||!I.hasLoader||(!h.some(q=>q.route.id===x.route.id)&&x.route.id in d&&((D=o[x.route.id])!=null&&D.shouldRevalidate)||I.hasClientLoader?w=!0:S.add(x.route.id))}),S.size===0)return[];let T=zI(t,u,"data");return w&&S.size>0&&T.searchParams.set("_routes",e.filter(x=>S.has(x.route.id)).map(x=>x.route.id).join(",")),[T.pathname+T.search]},[u,d,r,a,h,e,t,o]),_=$.useMemo(()=>FI(g,a),[g,a]),b=WI(g);return $.createElement($.Fragment,null,v.map(S=>$.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),_.map(S=>$.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),b.map(({key:S,link:w})=>$.createElement("link",{key:S,nonce:n.nonce,...w})))}function QI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var sx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sx&&(window.__reactRouterVersion="7.9.6")}catch{}function ZI({basename:t,children:e,window:n}){let r=$.useRef();r.current==null&&(r.current=jM({window:n,v5Compat:!0}));let a=r.current,[o,u]=$.useState({action:a.action,location:a.location}),d=$.useCallback(f=>{$.startTransition(()=>u(f))},[u]);return $.useLayoutEffect(()=>a.listen(d),[a,d]),$.createElement(kI,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a})}var ax=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ox=$.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:d,target:f,to:h,preventScrollReset:g,viewTransition:v,..._},b){let{basename:S}=$.useContext(Lr),w=typeof h=="string"&&ax.test(h),T,x=!1;if(typeof h=="string"&&w&&(T=h,sx))try{let ne=new URL(window.location.href),K=h.startsWith("//")?new URL(ne.protocol+h):new URL(h),te=Li(K.pathname,S);K.origin===ne.origin&&te!=null?h=te+K.search+K.hash:x=!0}catch{vr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=pI(h,{relative:a}),[D,q,ee]=XI(r,_),Q=rD(h,{replace:u,state:d,target:f,preventScrollReset:g,relative:a,viewTransition:v});function O(ne){e&&e(ne),ne.defaultPrevented||Q(ne)}let z=$.createElement("a",{..._,...ee,href:T||I,onClick:x||o?e:O,ref:QI(b,q),target:f,"data-discover":!w&&n==="render"?"true":void 0});return D&&!w?$.createElement($.Fragment,null,z,$.createElement(KI,{page:I})):z});ox.displayName="Link";var eD=$.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:d,children:f,...h},g){let v=cc(u,{relative:h.relative}),_=Zr(),b=$.useContext(ch),{navigator:S,basename:w}=$.useContext(Lr),T=b!=null&&lD(v)&&d===!0,x=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,I=_.pathname,D=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(I=I.toLowerCase(),D=D?D.toLowerCase():null,x=x.toLowerCase()),D&&w&&(D=Li(D,w)||D);const q=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let ee=I===x||!a&&I.startsWith(x)&&I.charAt(q)==="/",Q=D!=null&&(D===x||!a&&D.startsWith(x)&&D.charAt(x.length)==="/"),O={isActive:ee,isPending:Q,isTransitioning:T},z=ee?e:void 0,ne;typeof r=="function"?ne=r(O):ne=[r,ee?"active":null,Q?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let K=typeof o=="function"?o(O):o;return $.createElement(ox,{...h,"aria-current":z,className:ne,ref:g,style:K,to:u,viewTransition:d},typeof f=="function"?f(O):f)});eD.displayName="NavLink";var tD=$.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:o,method:u=ff,action:d,onSubmit:f,relative:h,preventScrollReset:g,viewTransition:v,..._},b)=>{let S=aD(),w=oD(d,{relative:h}),T=u.toLowerCase()==="get"?"get":"post",x=typeof d=="string"&&ax.test(d),I=D=>{if(f&&f(D),D.defaultPrevented)return;D.preventDefault();let q=D.nativeEvent.submitter,ee=(q==null?void 0:q.getAttribute("formmethod"))||u;S(q||D.currentTarget,{fetcherKey:e,method:ee,navigate:n,replace:a,state:o,relative:h,preventScrollReset:g,viewTransition:v})};return $.createElement("form",{ref:b,method:T,action:w,onSubmit:r?f:I,..._,"data-discover":!x&&t==="render"?"true":void 0})});tD.displayName="Form";function nD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lx(t){let e=$.useContext(ol);return bt(e,nD(t)),e}function rD(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:u}={}){let d=p_(),f=Zr(),h=cc(t,{relative:o});return $.useCallback(g=>{if(LI(g,e)){g.preventDefault();let v=n!==void 0?n:Vu(f)===Vu(h);d(t,{replace:v,state:r,preventScrollReset:a,relative:o,viewTransition:u})}},[f,d,h,n,r,e,t,a,o,u])}var iD=0,sD=()=>`__${String(++iD)}__`;function aD(){let{router:t}=lx("useSubmit"),{basename:e}=$.useContext(Lr),n=xI();return $.useCallback(async(r,a={})=>{let{action:o,method:u,encType:d,formData:f,body:h}=$I(r,e);if(a.navigate===!1){let g=a.fetcherKey||sD();await t.fetch(g,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||u,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||u,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function oD(t,{relative:e}={}){let{basename:n}=$.useContext(Lr),r=$.useContext(Qr);bt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...cc(t||".",{relative:e})},u=Zr();if(t==null){o.search=u.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(v=>v).forEach(v=>d.append("index",v));let g=d.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ki([n,o.pathname])),Vu(o)}function lD(t,{relative:e}={}){let n=$.useContext(Q1);bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=lx("useViewTransitionState"),a=cc(t,{relative:e});if(!n.isTransitioning)return!1;let o=Li(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Li(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Mf(a.pathname,u)!=null||Mf(a.pathname,o)!=null}var uD=V1();const cD=sl(uD);var Zm,zE;function dD(){if(zE)return Zm;zE=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(o,u){if(o===u)return!0;if(o&&u&&typeof o=="object"&&typeof u=="object"){if(o.constructor!==u.constructor)return!1;var d,f,h;if(Array.isArray(o)){if(d=o.length,d!=u.length)return!1;for(f=d;f--!==0;)if(!a(o[f],u[f]))return!1;return!0}var g;if(e&&o instanceof Map&&u instanceof Map){if(o.size!==u.size)return!1;for(g=o.entries();!(f=g.next()).done;)if(!u.has(f.value[0]))return!1;for(g=o.entries();!(f=g.next()).done;)if(!a(f.value[1],u.get(f.value[0])))return!1;return!0}if(n&&o instanceof Set&&u instanceof Set){if(o.size!==u.size)return!1;for(g=o.entries();!(f=g.next()).done;)if(!u.has(f.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(u)){if(d=o.length,d!=u.length)return!1;for(f=d;f--!==0;)if(o[f]!==u[f])return!1;return!0}if(o.constructor===RegExp)return o.source===u.source&&o.flags===u.flags;if(o.valueOf!==Object.prototype.valueOf&&typeof o.valueOf=="function"&&typeof u.valueOf=="function")return o.valueOf()===u.valueOf();if(o.toString!==Object.prototype.toString&&typeof o.toString=="function"&&typeof u.toString=="function")return o.toString()===u.toString();if(h=Object.keys(o),d=h.length,d!==Object.keys(u).length)return!1;for(f=d;f--!==0;)if(!Object.prototype.hasOwnProperty.call(u,h[f]))return!1;if(t&&o instanceof Element)return!1;for(f=d;f--!==0;)if(!((h[f]==="_owner"||h[f]==="__v"||h[f]==="__o")&&o.$$typeof)&&!a(o[h[f]],u[h[f]]))return!1;return!0}return o!==o&&u!==u}return Zm=function(u,d){try{return a(u,d)}catch(f){if((f.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw f}},Zm}var fD=dD();const hD=sl(fD);var eg,jE;function pD(){if(jE)return eg;jE=1;var t=function(e,n,r,a,o,u,d,f){if(!e){var h;if(n===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[r,a,o,u,d,f],v=0;h=new Error(n.replace(/%s/g,function(){return g[v++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};return eg=t,eg}var mD=pD();const HE=sl(mD);var tg,BE;function gD(){return BE||(BE=1,tg=function(e,n,r,a){var o=r?r.call(a,e,n):void 0;if(o!==void 0)return!!o;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var u=Object.keys(e),d=Object.keys(n);if(u.length!==d.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(n),h=0;h<u.length;h++){var g=u[h];if(!f(g))return!1;var v=e[g],_=n[g];if(o=r?r.call(a,v,_,g):void 0,o===!1||o===void 0&&v!==_)return!1}return!0}),tg}var vD=gD();const _D=sl(vD);var ux=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(ux||{}),ng={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},FE=Object.values(ux),y_={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},yD=Object.entries(y_).reduce((t,[e,n])=>(t[n]=e,t),{}),Ir="data-rh",zo={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},jo=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},bD=t=>{let e=jo(t,"title");const n=jo(t,zo.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=jo(t,zo.DEFAULT_TITLE);return e||r||void 0},SD=t=>jo(t,zo.ON_CHANGE_CLIENT_STATE)||(()=>{}),rg=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),ED=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const a=Object.keys(r);for(let o=0;o<a.length;o+=1){const d=a[o].toLowerCase();if(t.indexOf(d)!==-1&&r[d])return n.concat(r)}}return n},[]),wD=t=>console&&typeof console.warn=="function"&&console.warn(t),gu=(t,e,n)=>{const r={};return n.filter(a=>Array.isArray(a[t])?!0:(typeof a[t]<"u"&&wD(`Helmet: ${t} should be of type "Array". Instead found type "${typeof a[t]}"`),!1)).map(a=>a[t]).reverse().reduce((a,o)=>{const u={};o.filter(f=>{let h;const g=Object.keys(f);for(let _=0;_<g.length;_+=1){const b=g[_],S=b.toLowerCase();e.indexOf(S)!==-1&&!(h==="rel"&&f[h].toLowerCase()==="canonical")&&!(S==="rel"&&f[S].toLowerCase()==="stylesheet")&&(h=S),e.indexOf(b)!==-1&&(b==="innerHTML"||b==="cssText"||b==="itemprop")&&(h=b)}if(!h||!f[h])return!1;const v=f[h].toLowerCase();return r[h]||(r[h]={}),u[h]||(u[h]={}),r[h][v]?!1:(u[h][v]=!0,!0)}).reverse().forEach(f=>a.push(f));const d=Object.keys(u);for(let f=0;f<d.length;f+=1){const h=d[f],g={...r[h],...u[h]};r[h]=g}return a},[]).reverse()},TD=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},xD=t=>({baseTag:ED(["href"],t),bodyAttributes:rg("bodyAttributes",t),defer:jo(t,zo.DEFER),encode:jo(t,zo.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:rg("htmlAttributes",t),linkTags:gu("link",["rel","href"],t),metaTags:gu("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:gu("noscript",["innerHTML"],t),onChangeClientState:SD(t),scriptTags:gu("script",["src","innerHTML"],t),styleTags:gu("style",["cssText"],t),title:bD(t),titleAttributes:rg("titleAttributes",t),prioritizeSeoTags:TD(t,zo.PRIORITIZE_SEO_TAGS)}),cx=t=>Array.isArray(t)?t.join(""):t,RD=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},ig=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(RD(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},qE=(t,e)=>({...t,[e]:void 0}),AD=["noscript","script","style"],Zg=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),dx=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),CD=(t,e,n,r)=>{const a=dx(n),o=cx(e);return a?`<${t} ${Ir}="true" ${a}>${Zg(o,r)}</${t}>`:`<${t} ${Ir}="true">${Zg(o,r)}</${t}>`},kD=(t,e,n=!0)=>e.reduce((r,a)=>{const o=a,u=Object.keys(o).filter(h=>!(h==="innerHTML"||h==="cssText")).reduce((h,g)=>{const v=typeof o[g]>"u"?g:`${g}="${Zg(o[g],n)}"`;return h?`${h} ${v}`:v},""),d=o.innerHTML||o.cssText||"",f=AD.indexOf(t)===-1;return`${r}<${t} ${Ir}="true" ${u}${f?"/>":`>${d}</${t}>`}`},""),fx=(t,e={})=>Object.keys(t).reduce((n,r)=>{const a=y_[r];return n[a||r]=t[r],n},e),OD=(t,e,n)=>{const r={key:e,[Ir]:!0},a=fx(n,r);return[Z.createElement("title",a,e)]},pf=(t,e)=>e.map((n,r)=>{const a={key:r,[Ir]:!0};return Object.keys(n).forEach(o=>{const d=y_[o]||o;if(d==="innerHTML"||d==="cssText"){const f=n.innerHTML||n.cssText;a.dangerouslySetInnerHTML={__html:f}}else a[d]=n[o]}),Z.createElement(t,a)}),hr=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>OD(t,e.title,e.titleAttributes),toString:()=>CD(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>fx(e),toString:()=>dx(e)};default:return{toComponent:()=>pf(t,e),toString:()=>kD(t,e,n)}}},MD=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const a=ig(t,ng.meta),o=ig(e,ng.link),u=ig(n,ng.script);return{priorityMethods:{toComponent:()=>[...pf("meta",a.priority),...pf("link",o.priority),...pf("script",u.priority)],toString:()=>`${hr("meta",a.priority,r)} ${hr("link",o.priority,r)} ${hr("script",u.priority,r)}`},metaTags:a.default,linkTags:o.default,scriptTags:u.default}},ID=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:a,noscriptTags:o,styleTags:u,title:d="",titleAttributes:f,prioritizeSeoTags:h}=t;let{linkTags:g,metaTags:v,scriptTags:_}=t,b={toComponent:()=>{},toString:()=>""};return h&&({priorityMethods:b,linkTags:g,metaTags:v,scriptTags:_}=MD(t)),{priority:b,base:hr("base",e,r),bodyAttributes:hr("bodyAttributes",n,r),htmlAttributes:hr("htmlAttributes",a,r),link:hr("link",g,r),meta:hr("meta",v,r),noscript:hr("noscript",o,r),script:hr("script",_,r),style:hr("style",u,r),title:hr("title",{title:d,titleAttributes:f},r)}},ev=ID,Bd=[],hx=!!(typeof window<"u"&&window.document&&window.document.createElement),tv=class{constructor(t,e){Si(this,"instances",[]);Si(this,"canUseDOM",hx);Si(this,"context");Si(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?Bd:this.instances,add:t=>{(this.canUseDOM?Bd:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?Bd:this.instances).indexOf(t);(this.canUseDOM?Bd:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=ev({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},DD={},px=Z.createContext(DD),ha,mx=(ha=class extends $.Component{constructor(n){super(n);Si(this,"helmetData");this.helmetData=new tv(this.props.context||{},ha.canUseDOM)}render(){return Z.createElement(px.Provider,{value:this.helmetData.value},this.props.children)}},Si(ha,"canUseDOM",hx),ha),vo=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${Ir}]`),a=[].slice.call(r),o=[];let u;return e&&e.length&&e.forEach(d=>{const f=document.createElement(t);for(const h in d)if(Object.prototype.hasOwnProperty.call(d,h))if(h==="innerHTML")f.innerHTML=d.innerHTML;else if(h==="cssText")f.styleSheet?f.styleSheet.cssText=d.cssText:f.appendChild(document.createTextNode(d.cssText));else{const g=h,v=typeof d[g]>"u"?"":d[g];f.setAttribute(h,v)}f.setAttribute(Ir,"true"),a.some((h,g)=>(u=g,f.isEqualNode(h)))?a.splice(u,1):o.push(f)}),a.forEach(d=>{var f;return(f=d.parentNode)==null?void 0:f.removeChild(d)}),o.forEach(d=>n.appendChild(d)),{oldTags:a,newTags:o}},nv=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(Ir),a=r?r.split(","):[],o=[...a],u=Object.keys(e);for(const d of u){const f=e[d]||"";n.getAttribute(d)!==f&&n.setAttribute(d,f),a.indexOf(d)===-1&&a.push(d);const h=o.indexOf(d);h!==-1&&o.splice(h,1)}for(let d=o.length-1;d>=0;d-=1)n.removeAttribute(o[d]);a.length===o.length?n.removeAttribute(Ir):n.getAttribute(Ir)!==u.join(",")&&n.setAttribute(Ir,u.join(","))},ND=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=cx(t)),nv("title",e)},GE=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:a,linkTags:o,metaTags:u,noscriptTags:d,onChangeClientState:f,scriptTags:h,styleTags:g,title:v,titleAttributes:_}=t;nv("body",r),nv("html",a),ND(v,_);const b={baseTag:vo("base",n),linkTags:vo("link",o),metaTags:vo("meta",u),noscriptTags:vo("noscript",d),scriptTags:vo("script",h),styleTags:vo("style",g)},S={},w={};Object.keys(b).forEach(T=>{const{newTags:x,oldTags:I}=b[T];x.length&&(S[T]=x),I.length&&(w[T]=b[T].oldTags)}),e&&e(),f(t,S,w)},vu=null,LD=t=>{vu&&cancelAnimationFrame(vu),t.defer?vu=requestAnimationFrame(()=>{GE(t,()=>{vu=null})}):(GE(t),vu=null)},PD=LD,YE=class extends $.Component{constructor(){super(...arguments);Si(this,"rendered",!1)}shouldComponentUpdate(e){return!_D(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const a=xD(e.get().map(o=>{const u={...o.props};return delete u.context,u}));mx.canUseDOM?PD(a):ev&&(r=ev(a)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Wg,fF=(Wg=class extends $.Component{shouldComponentUpdate(t){return!hD(qE(this.props,"helmetData"),qE(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return HE(FE.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${FE.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),HE(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return Z.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:a,...o}=r.props,u=Object.keys(o).reduce((f,h)=>(f[yD[h]||h]=o[h],f),{});let{type:d}=r;switch(typeof d=="symbol"?d=d.toString():this.warnOnInvalidChildren(r,a),d){case"Symbol(react.fragment)":e=this.mapChildrenToProps(a,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,u,a);break;default:e=this.mapObjectTypeChildren(r,e,u,a);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof tv)){const a=r;r=new tv(a.context,!0),delete n.helmetData}return r?Z.createElement(YE,{...n,context:r.value}):Z.createElement(px.Consumer,null,a=>Z.createElement(YE,{...n,context:a}))}},Si(Wg,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Wg);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$D=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),VE=t=>{const e=$D(t);return e.charAt(0).toUpperCase()+e.slice(1)},gx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),zD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=$.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:u,...d},f)=>$.createElement("svg",{ref:f,...jD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:gx("lucide",a),...!o&&!zD(d)&&{"aria-hidden":"true"},...d},[...u.map(([h,g])=>$.createElement(h,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=(t,e)=>{const n=$.forwardRef(({className:r,...a},o)=>$.createElement(HD,{ref:o,iconNode:e,className:gx(`lucide-${UD(VE(t))}`,`lucide-${t}`,r),...a}));return n.displayName=VE(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],FD=vx("refresh-cw",BD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],GD=vx("triangle-alert",qD);class YD extends $.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){var e,n;return this.state.hasError?Oe.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:Oe.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-md w-full text-center border border-slate-100",children:[Oe.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6",children:Oe.jsx(GD,{className:"w-8 h-8 text-red-500"})}),Oe.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Algo sali mal"}),Oe.jsx("p",{className:"text-slate-500 mb-6",children:"Ha ocurrido un error inesperado. Nuestro equipo ha sido notificado."}),Oe.jsx("div",{className:"bg-slate-50 p-4 rounded-xl mb-6 text-left overflow-auto max-h-32",children:Oe.jsxs("code",{className:"text-xs text-slate-600 font-mono",children:[(e=this.state.error)==null?void 0:e.message,((n=this.state.error)==null?void 0:n.stack)&&Oe.jsx("div",{className:"mt-2 pt-2 border-t border-slate-200 whitespace-pre-wrap",children:this.state.error.stack})]})}),Oe.jsxs("button",{onClick:()=>window.location.reload(),className:"w-full py-3 bg-brand-600 text-white font-bold rounded-xl hover:bg-brand-700 transition-colors flex items-center justify-center gap-2",children:[Oe.jsx(FD,{className:"w-4 h-4"}),"Recargar Aplicacin"]})]})}):this.props.children}}var Cr=(t=>(t.PROFESSIONAL="Professional",t.CONTROVERSIAL="Controversial",t.EMPATHETIC="Empathetic",t.EDUCATIONAL="Educational",t.HUMOROUS="Humorous",t.STORYTELLING="Storytelling",t.INSPIRATIONAL="Inspirational",t.PROMOTIONAL="Promotional",t))(Cr||{}),Gr=(t=>(t.STANDARD="STANDARD",t.LISTICLE="LISTICLE",t.STORY="STORY",t.CASE_STUDY="CASE_STUDY",t.CONTRARIAN="CONTRARIAN",t.VS_COMPARISON="VS_COMPARISON",t.PAS="PAS",t.AIDA="AIDA",t.BAB="BAB",t))(Gr||{}),mf=(t=>(t.MINIMAL="MINIMAL",t.MODERATE="MODERATE",t.HIGH="HIGH",t))(mf||{}),gf=(t=>(t.SHORT="SHORT",t.MEDIUM="MEDIUM",t.LONG="LONG",t))(gf||{});const fh={value:"random",label:" Aleatorio (Sorprndeme)",desc:"La IA elegir la mejor opcin."},hF=[{...fh,isPremium:!1},{value:Cr.PROFESSIONAL,label:" Profesional",desc:"Limpio, corporativo, liderazgo.",isPremium:!1},{value:Cr.CONTROVERSIAL,label:" Controversial/Debate",desc:"Opiniones polarizantes.",isPremium:!1},{value:Cr.INSPIRATIONAL,label:" Inspiracional",desc:"Motivador, visionario.",isPremium:!1},{value:Cr.EDUCATIONAL,label:" Educativo",desc:"Alto valor, consejos accionables.",isPremium:!0},{value:Cr.HUMOROUS,label:" Humorstico/Casual",desc:"Alegre, memes, identificable.",isPremium:!0},{value:Cr.PROMOTIONAL,label:" Venta/Promocional",desc:"Persuasivo, enfocado en conversin.",isPremium:!0},{value:Cr.EMPATHETIC,label:" Emptico/Vulnerable",desc:"Historias reales y conexin humana.",isPremium:!0},{value:Cr.STORYTELLING,label:" Storytelling",desc:"Narrativa profunda.",isPremium:!0}],pF=[{...fh,isPremium:!1},{value:Gr.STANDARD,label:"Estndar",desc:"Estructura slida y balanceada.",isPremium:!1},{value:Gr.PAS,label:"Problema-Agitacin-Solucin",desc:"Frmula clsica de conversin.",isPremium:!1},{value:Gr.AIDA,label:"AIDA",desc:"Atencin, Inters, Deseo, Accin.",isPremium:!1},{value:Gr.BAB,label:"Antes-Despus-Puente",desc:"Muestra la transformacin.",isPremium:!0},{value:Gr.LISTICLE,label:"Lista/Puntos",desc:"Puntos escaneables (Alto CTR).",isPremium:!0},{value:Gr.STORY,label:"Historia Personal",desc:"Ancdota personal con leccin.",isPremium:!0},{value:Gr.CASE_STUDY,label:"Caso de Estudio",desc:"Prueba social y resultados reales.",isPremium:!0},{value:Gr.CONTRARIAN,label:"Opinin Impopular",desc:"Desafa el status quo.",isPremium:!0},{value:Gr.VS_COMPARISON,label:"Comparativa (Vs)",desc:"Este vs Aquel.",isPremium:!0}],mF=[{value:"random",label:" Aleatorio (Sorprndeme)",isPremium:!1},{value:"question",label:"Pregunta Retrica",isPremium:!1},{value:"statistic",label:"Dato/Estadstica Impactante",isPremium:!1},{value:"negative",label:"Negativo/Advertencia",isPremium:!1},{value:"story",label:'Inicio de Historia ("Ayer me pas...")',isPremium:!0},{value:"assertion",label:"Afirmacin Directa",isPremium:!0}],gF=[fh,{value:gf.SHORT,label:"Corto e Impactante",desc:"< 100 palabras"},{value:gf.MEDIUM,label:"Estndar",desc:"100-250 palabras"},{value:gf.LONG,label:"Profundo",desc:"300+ palabras"}],vF=[fh,{value:mf.MINIMAL,label:"Mnimo"},{value:mf.MODERATE,label:"Balanceado"},{value:mf.HIGH,label:"Alto"}],_F={es:[{title:"La 'Hora Dorada'",desc:"Los primeros 60 minutos definen tu viralidad. El algoritmo evala la velocidad de interaccin. Responde comentarios de inmediato."},{title:"Comentarios > Likes",desc:"Un comentario detallado (>15 palabras) vale 3x ms que un like. Fomenta debates, no solo aplausos."},{title:"Dwell Time (Tiempo en Pantalla)",desc:"LinkedIn mide si el usuario para el scroll. Usa ganchos visuales y espacios en blanco para retener la atencin >10seg."},{title:"El Gancho es el Rey",desc:"Tienes 210 caracteres antes del 'Ver ms'. Si no provocas curiosidad o emocin ah, nadie leer el resto."},{title:"Carruseles = Viralidad",desc:"El formato #1 en alcance. Entre 5 y 10 diapositivas, con diseo limpio, genera retencin masiva."},{title:"Abre Conversaciones (CTC)",desc:"No termines con 'Dale like'. Termina con una pregunta abierta que fuerce una respuesta matizada, no un s/no."},{title:"Sin Enlaces Externos",desc:"El algoritmo odia que saques a la gente de la app. Pon tu link en el primer comentario o en tu perfil."},{title:"Constancia Estratgica",desc:"Publicar 2-5 veces por semana (Mar-Jue) entrena a tu audiencia. La consistencia vence a la intensidad."},{title:"Comentar es Crecer",desc:"Comentar inteligentemente en posts de lderes te expone a sus audiencias. Es la forma ms rpida de crecer sin publicar."},{title:"Narrativa de Transformacin",desc:"Las historias de 'Antes vs Despus' conectan mejor que los consejos tericos. Muestra vulnerabilidad y resultados."}],en:[{title:"The 'Golden Hour'",desc:"The first 60 minutes define virality. The algorithm evaluates interaction speed. Reply to comments immediately."},{title:"Comments > Likes",desc:"A detailed comment (>15 words) is worth 3x more than a like. Spark debates, not just applause."},{title:"Dwell Time",desc:"LinkedIn tracks scroll stops. Use visual hooks and white space to retain attention for >10 seconds."},{title:"The Hook is King",desc:"You have 210 chars before 'See more'. If you don't spark curiosity or emotion there, no one reads the rest."},{title:"Carousels = Virality",desc:"The #1 format for reach. 5-10 slides with clean design generate massive retention."},{title:"Call to Conversation (CTC)",desc:"Don't end with 'Like this'. End with an open question that forces a nuanced reply, not a yes/no."},{title:"No External Links",desc:"The algorithm hates exits. Put your link in the first comment or your profile/bio."},{title:"Strategic Consistency",desc:"Posting 2-5x weekly (Tue-Thu) trains your audience. Consistency beats intensity."},{title:"Commenting is Growth",desc:"Smart comments on leader's posts expose you to their audience. Fastest way to grow without posting."},{title:"Transformation Narrative",desc:"'Before vs After' stories connect better than theoretical advice. Show vulnerability and real results."}]},yF=[{id:"free",name:"Plan Inicial",price:0,description:"Para probar el poder de la IA",credits:10,features:["10 Crditos de Prueba","Generador de Ideas Bsico","3 Tonos Predefinidos","Acceso a Comunidad","Sin Tarjeta de Crdito"]},{id:"pro",name:"Creador Pro",price:19,description:"Automatiza tu marca personal",credits:99999,features:["Todo lo del Plan Inicial, ms:","Crditos IA ILIMITADOS","Generador de Ideas ILIMITADO","Autopilot (Programacin)","Anlisis de Voz de Marca","Soporte Prioritario"],highlight:!0,stripePriceId:"price_1SZJKhE0zDGmS9ihOiYOzLa1"},{id:"viral",name:"Dios Viral",price:79,description:"Para escalar sin lmites",credits:99999,features:["Todo lo del Creador Pro, ms:","Multi-Cuenta (Agencias)","Auditora de Perfil Mensual","A/B Testing de Ganchos","Integracin Buffer/Hootsuite","Soporte VIP Dedicado 24/7"],stripePriceId:"price_1SZDgvE0zDGmS9ihnRXmmx4T"}],sg={id:"",email:"",name:"",headline:"",avatarUrl:"",credits:0,maxCredits:5,isPremium:!1,planTier:"free",language:"es",xp:0,level:1,currentStreak:0,lastPostDate:null,unlockedAchievements:[],autoPilot:{enabled:!1,frequency:"weekly",nextRun:0,topics:[],tone:Cr.PROFESSIONAL,targetAudience:"",postCount:1}};Cr.EDUCATIONAL;const VD="kolink.es",bF="kolink-jade.vercel.app",SF=[{id:"first_step",title:"El Primer Paso",description:"Genera tu primer post.",icon:"Footprints",xpReward:50},{id:"streak_3",title:"La Constancia es Clave",description:"Alcanza una racha de 3 das.",icon:"Flame",xpReward:150},{id:"streak_7",title:"Top Voice LinkedIn",description:"Alcanza una racha de 7 das.",icon:"Trophy",xpReward:500},{id:"pro_writer",title:"Escritor Prolfico",description:"Genera 10 posts en total.",icon:"Feather",xpReward:300},{id:"clickbait_master",title:"Maestro del Clickbait",description:'Usa el tono "Controvertido".',icon:"Zap",xpReward:100}],XD="modulepreload",KD=function(t){return"/"+t},XE={},Qn=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let u=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));a=u(n.map(h=>{if(h=KD(h),h in XE)return;XE[h]=!0;const g=h.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${v}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":XD,g||(_.as="script"),_.crossOrigin="",_.href=h,f&&_.setAttribute("nonce",f),document.head.appendChild(_),g)return new Promise((b,S)=>{_.addEventListener("load",b),_.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return a.then(u=>{for(const d of u||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})},WD=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Qn(async()=>{const{default:r}=await Promise.resolve().then(()=>dc);return{default:r}},[]).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class b_ extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class JD extends b_{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class QD extends b_{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ZD extends b_{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var eN=function(t,e,n,r){function a(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function d(g){try{h(r.next(g))}catch(v){u(v)}}function f(g){try{h(r.throw(g))}catch(v){u(v)}}function h(g){g.done?o(g.value):a(g.value).then(d,f)}h((r=r.apply(t,e||[])).next())})};class tN{constructor(e,{headers:n={},customFetch:r}={}){this.url=e,this.headers=n,this.fetch=WD(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return eN(this,void 0,void 0,function*(){try{const{headers:a,method:o,body:u}=n;let d={},f;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",f=u):typeof u=="string"?(d["Content-Type"]="text/plain",f=u):typeof FormData<"u"&&u instanceof FormData?f=u:(d["Content-Type"]="application/json",f=JSON.stringify(u)));const h=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:f}).catch(b=>{throw new JD(b)}),g=h.headers.get("x-relay-error");if(g&&g==="true")throw new QD(h);if(!h.ok)throw new ZD(h);let v=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return v==="application/json"?_=yield h.json():v==="application/octet-stream"?_=yield h.blob():v==="multipart/form-data"?_=yield h.formData():_=yield h.text(),{data:_,error:null}}catch(a){return{data:null,error:a}}})}}var nN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Go=nN();const rN=Go.fetch,S_=Go.fetch.bind(Go),_x=Go.Headers,iN=Go.Request,sN=Go.Response,dc=Object.freeze(Object.defineProperty({__proto__:null,Headers:_x,Request:iN,Response:sN,default:S_,fetch:rN},Symbol.toStringTag,{value:"Module"}));class aN extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}class oN{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=S_:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let a=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var u,d,f;let h=null,g=null,v=null,_=o.status,b=o.statusText;if(o.ok){if(this.method!=="HEAD"){const x=await o.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?g=x:g=JSON.parse(x))}const w=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),T=(d=o.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");w&&T&&T.length>1&&(v=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(h={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,_=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const w=await o.text();try{h=JSON.parse(w),Array.isArray(h)&&o.status===404&&(g=[],h=null,_=200,b="OK")}catch{o.status===404&&w===""?(_=204,b="No Content"):h={message:w}}if(h&&this.isMaybeSingle&&(!((f=h==null?void 0:h.details)===null||f===void 0)&&f.includes("0 rows"))&&(h=null,_=200,b="OK"),h&&this.shouldThrowOnError)throw new aN(h)}return{error:h,data:g,count:v,status:_,statusText:b}});return this.shouldThrowOnError||(a=a.catch(o=>{var u,d,f;return{error:{message:`${(u=o==null?void 0:o.name)!==null&&u!==void 0?u:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(d=o==null?void 0:o.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=o==null?void 0:o.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),a.then(e,n)}}class lN extends oN{select(e){let n=!1;const r=(e??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:a,referencedTable:o=a}={}){const u=o?`${o}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:a=r}={}){const o=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(u,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:a=!1,wal:o=!1,format:u="text"}={}){var d;const f=[e?"analyze":null,n?"verbose":null,r?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.Accept)!==null&&d!==void 0?d:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`,u==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Ao extends lN{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=n.map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const u=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${u}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}}class uN{constructor(e,{headers:n={},schema:r,fetch:a}){this.url=e,this.headers=n,this.schema=r,this.fetch=a}select(e,{head:n=!1,count:r}={}){const a=n?"HEAD":"GET";let o=!1;const u=(e??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join("");return this.url.searchParams.set("select",u),r&&(this.headers.Prefer=`count=${r}`),new Ao({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const a="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new Ao({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:a,defaultToNull:o=!0}={}){const u="POST",d=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&d.push(this.headers.Prefer),a&&d.push(`count=${a}`),o||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(e)){const f=e.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(f.length>0){const h=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new Ao({method:u,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),this.headers.Prefer=a.join(","),new Ao({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ao({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const cN="1.9.2",dN={"X-Client-Info":`postgrest-js/${cN}`};class E_{constructor(e,{headers:n={},schema:r,fetch:a}={}){this.url=e,this.headers=Object.assign(Object.assign({},dN),n),this.schemaName=r,this.fetch=a}from(e){const n=new URL(`${this.url}/${e}`);return new uN(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new E_(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,count:a}={}){let o;const u=new URL(`${this.url}/rpc/${e}`);let d;r?(o="HEAD",Object.entries(n).forEach(([h,g])=>{u.searchParams.append(h,`${g}`)})):(o="POST",d=n);const f=Object.assign({},this.headers);return a&&(f.Prefer=`count=${a}`),new Ao({method:o,url:u,headers:f,schema:this.schemaName,body:d,fetch:this.fetch,allowEmpty:!1})}}const fN="2.9.3",hN={"X-Client-Info":`realtime-js/${fN}`},pN="1.0.0",yx=1e4,mN=1e3;var Ho;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ho||(Ho={}));var Xn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Xn||(Xn={}));var kr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(kr||(kr={}));var rv;(function(t){t.websocket="websocket"})(rv||(rv={}));var la;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(la||(la={}));class bx{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class gN{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const a=n.getUint8(1),o=n.getUint8(2);let u=this.HEADER_LENGTH+2;const d=r.decode(e.slice(u,u+a));u=u+a;const f=r.decode(e.slice(u,u+o));u=u+o;const h=JSON.parse(r.decode(e.slice(u,e.byteLength)));return{ref:null,topic:d,event:f,payload:h}}}class ag{constructor(e,n,r={},a=yx){this.channel=e,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var KE;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(KE||(KE={}));class zu{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:o,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zu.syncState(this.state,a,o,u),this.pendingDiffs.forEach(f=>{this.state=zu.syncDiff(this.state,f,o,u)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},a=>{const{onJoin:o,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=zu.syncDiff(this.state,a,o,u),d())}),this.onJoin((a,o,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:u})}),this.onLeave((a,o,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,a){const o=this.cloneDeep(e),u=this.transformState(n),d={},f={};return this.map(o,(h,g)=>{u[h]||(f[h]=g)}),this.map(u,(h,g)=>{const v=o[h];if(v){const _=g.map(T=>T.presence_ref),b=v.map(T=>T.presence_ref),S=g.filter(T=>b.indexOf(T.presence_ref)<0),w=v.filter(T=>_.indexOf(T.presence_ref)<0);S.length>0&&(d[h]=S),w.length>0&&(f[h]=w)}else d[h]=g}),this.syncDiff(o,{joins:d,leaves:f},r,a)}static syncDiff(e,n,r,a){const{joins:o,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(o,(d,f)=>{var h;const g=(h=e[d])!==null&&h!==void 0?h:[];if(e[d]=this.cloneDeep(f),g.length>0){const v=e[d].map(b=>b.presence_ref),_=g.filter(b=>v.indexOf(b.presence_ref)<0);e[d].unshift(..._)}r(d,g,f)}),this.map(u,(d,f)=>{let h=e[d];if(!h)return;const g=f.map(v=>v.presence_ref);h=h.filter(v=>g.indexOf(v.presence_ref)<0),e[d]=h,a(d,h,f),h.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const a=e[r];return"metas"in a?n[r]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(dt||(dt={}));const WE=(t,e,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,u)=>(o[u]=vN(u,t,e,a),o),{})},vN=(t,e,n,r)=>{const a=e.find(d=>d.name===t),o=a==null?void 0:a.type,u=n[t];return o&&!r.includes(o)?Sx(o,u):iv(u)},Sx=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return SN(e,n)}switch(t){case dt.bool:return _N(e);case dt.float4:case dt.float8:case dt.int2:case dt.int4:case dt.int8:case dt.numeric:case dt.oid:return yN(e);case dt.json:case dt.jsonb:return bN(e);case dt.timestamp:return EN(e);case dt.abstime:case dt.date:case dt.daterange:case dt.int4range:case dt.int8range:case dt.money:case dt.reltime:case dt.text:case dt.time:case dt.timestamptz:case dt.timetz:case dt.tsrange:case dt.tstzrange:return iv(e);default:return iv(e)}},iv=t=>t,_N=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},yN=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},bN=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},SN=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const u=t.slice(1,n);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(d=>Sx(e,d))}return t},EN=t=>typeof t=="string"?t.replace(" ","T"):t;var JE;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(JE||(JE={}));var QE;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"})(QE||(QE={}));var ZE;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ZE||(ZE={}));class w_{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Xn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},n.config),this.timeout=this.socket.timeout,this.joinPush=new ag(this,kr.join,this.params,this.timeout),this.rejoinTimer=new bx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Xn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kr.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new zu(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,n=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:u}}=this.params;this._onError(h=>e&&e("CHANNEL_ERROR",h)),this._onClose(()=>e&&e("CLOSED"));const d={},f={broadcast:o,presence:u,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&a!==void 0?a:[]};this.socket.accessToken&&(d.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:h})=>{var g;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),h===void 0){e&&e("SUBSCRIBED");return}else{const v=this.bindings.postgres_changes,_=(g=v==null?void 0:v.length)!==null&&g!==void 0?g:0,b=[];for(let S=0;S<_;S++){const w=v[S],{filter:{event:T,schema:x,table:I,filter:D}}=w,q=h&&h[S];if(q&&q.event===T&&q.schema===x&&q.table===I&&q.filter===D)b.push(Object.assign(Object.assign({},w),{id:q.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e("SUBSCRIBED");return}}).receive("error",h=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,a;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:u}=e,d={method:"POST",headers:{apikey:(r=this.socket.apiKey)!==null&&r!==void 0?r:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,d,(a=n.timeout)!==null&&a!==void 0?a:this.timeout)).ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,d,f;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Xn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const a=new ag(this,kr.leave,{},e);a.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,n,r){const a=new AbortController,o=setTimeout(()=>a.abort(),r),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(o),u}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ag(this,e,n,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var a,o;const u=e.toLocaleLowerCase(),{close:d,error:f,leave:h,join:g}=kr;if(r&&[d,f,h,g].indexOf(u)>=0&&r!==this._joinRef())return;let _=this._onMessage(u,n,r);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(b=>{var S,w,T;return((S=b.filter)===null||S===void 0?void 0:S.event)==="*"||((T=(w=b.filter)===null||w===void 0?void 0:w.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===u}).map(b=>b.callback(_,r)):(o=this.bindings[u])===null||o===void 0||o.filter(b=>{var S,w,T,x,I,D;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const q=b.id,ee=(S=b.filter)===null||S===void 0?void 0:S.event;return q&&((w=n.ids)===null||w===void 0?void 0:w.includes(q))&&(ee==="*"||(ee==null?void 0:ee.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const q=(I=(x=b==null?void 0:b.filter)===null||x===void 0?void 0:x.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return q==="*"||q===((D=n==null?void 0:n.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof _=="object"&&"ids"in _){const S=_.data,{schema:w,table:T,commit_timestamp:x,type:I,errors:D}=S;_=Object.assign(Object.assign({},{schema:w,table:T,commit_timestamp:x,eventType:I,new:{},old:{},errors:D}),this._getPayloadRecords(S))}b.callback(_,r)})}_isClosed(){return this.state===Xn.closed}_isJoined(){return this.state===Xn.joined}_isJoining(){return this.state===Xn.joining}_isLeaving(){return this.state===Xn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const a=e.toLocaleLowerCase(),o={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&w_.isEqual(a.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(kr.close,{},e)}_onError(e){this._on(kr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=WE(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=WE(e.columns,e.old_record)),n}}const wN=()=>{},TN=typeof WebSocket<"u";class xN{constructor(e,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=hN,this.params={},this.timeout=yx,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=wN,this.conn=null,this.sendBuffer=[],this.serializer=new gN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=o=>{let u;return o?u=o:typeof fetch>"u"?u=(...d)=>Qn(async()=>{const{default:f}=await Promise.resolve().then(()=>dc);return{default:f}},void 0).then(({default:f})=>f(...d)):u=fetch,(...d)=>u(...d)},this.endPoint=`${e}/${rv.websocket}`,n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;a&&(this.accessToken=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,u)=>u(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new bx(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(TN){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new RN(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Qn(async()=>{const{default:e}=await import("./browser-BD9re3dR.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ho.connecting:return la.Connecting;case Ho.open:return la.Open;case Ho.closing:return la.Closing;default:return la.Closed}}isConnected(){return this.connectionState()===la.Open}channel(e,n={config:{}}){const r=new w_(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:a,ref:o}=e,u=()=>{this.encode(e,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${n} ${r} (${o})`,a),this.isConnected()?u():this.sendBuffer.push(u)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(kr.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:pN}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:a,payload:o,ref:u}=n;(u&&u===this.pendingHeartbeatRef||a===(o==null?void 0:o.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${a} ${u&&"("+u+")"||""}`,o),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(a,o,u)),this.stateChangeCallbacks.message.forEach(d=>d(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(kr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${r}${a}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(mN,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class RN{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ho.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class T_ extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function un(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class AN extends T_{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ew extends T_{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var CN=function(t,e,n,r){function a(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function d(g){try{h(r.next(g))}catch(v){u(v)}}function f(g){try{h(r.throw(g))}catch(v){u(v)}}function h(g){g.done?o(g.value):a(g.value).then(d,f)}h((r=r.apply(t,e||[])).next())})};const Ex=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Qn(async()=>{const{default:r}=await Promise.resolve().then(()=>dc);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},kN=()=>CN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qn(()=>Promise.resolve().then(()=>dc),void 0)).Response:Response});var ul=function(t,e,n,r){function a(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function d(g){try{h(r.next(g))}catch(v){u(v)}}function f(g){try{h(r.throw(g))}catch(v){u(v)}}function h(g){g.done?o(g.value):a(g.value).then(d,f)}h((r=r.apply(t,e||[])).next())})};const og=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ON=(t,e)=>ul(void 0,void 0,void 0,function*(){const n=yield kN();t instanceof n?t.json().then(r=>{e(new AN(og(r),t.status||500))}).catch(r=>{e(new ew(og(r),r))}):e(new ew(og(t),t))}),MN=(t,e,n,r)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};function hh(t,e,n,r,a,o){return ul(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(n,MN(e,r,a,o)).then(f=>{if(!f.ok)throw f;return r!=null&&r.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>ON(f,d))})})}function sv(t,e,n,r){return ul(this,void 0,void 0,function*(){return hh(t,"GET",e,n,r)})}function _s(t,e,n,r,a){return ul(this,void 0,void 0,function*(){return hh(t,"POST",e,r,a,n)})}function IN(t,e,n,r,a){return ul(this,void 0,void 0,function*(){return hh(t,"PUT",e,r,a,n)})}function wx(t,e,n,r,a){return ul(this,void 0,void 0,function*(){return hh(t,"DELETE",e,r,a,n)})}var cr=function(t,e,n,r){function a(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function d(g){try{h(r.next(g))}catch(v){u(v)}}function f(g){try{h(r.throw(g))}catch(v){u(v)}}function h(g){g.done?o(g.value):a(g.value).then(d,f)}h((r=r.apply(t,e||[])).next())})};const DN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},tw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class NN{constructor(e,n={},r,a){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Ex(a)}uploadOrUpdate(e,n,r,a){return cr(this,void 0,void 0,function*(){try{let o;const u=Object.assign(Object.assign({},tw),a),d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",u.cacheControl)):(o=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=this._removeEmptyFolders(n),h=this._getFinalPath(f),g=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:e,body:o,headers:d},u!=null&&u.duplex?{duplex:u.duplex}:{})),v=yield g.json();return g.ok?{data:{path:f,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(o){if(un(o))return{data:null,error:o};throw o}})}upload(e,n,r){return cr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,a){return cr(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),u=this._getFinalPath(o),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",n);try{let f;const h=Object.assign({upsert:tw.upsert},a),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType);const v=yield this.fetch(d.toString(),{method:"PUT",body:f,headers:g}),_=yield v.json();return v.ok?{data:{path:o,fullPath:_.Key},error:null}:{data:null,error:_}}catch(f){if(un(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e){return cr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=yield _s(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:this.headers}),a=new URL(this.url+r.url),o=a.searchParams.get("token");if(!o)throw new T_("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(un(n))return{data:null,error:n};throw n}})}update(e,n,r){return cr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n){return cr(this,void 0,void 0,function*(){try{return{data:yield _s(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n},{headers:this.headers}),error:null}}catch(r){if(un(r))return{data:null,error:r};throw r}})}copy(e,n){return cr(this,void 0,void 0,function*(){try{return{data:{path:(yield _s(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n},{headers:this.headers})).Key},error:null}}catch(r){if(un(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,r){return cr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),o=yield _s(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${u}`)},{data:o,error:null}}catch(a){if(un(a))return{data:null,error:a};throw a}})}createSignedUrls(e,n,r){return cr(this,void 0,void 0,function*(){try{const a=yield _s(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${o}`):null})),error:null}}catch(a){if(un(a))return{data:null,error:a};throw a}})}download(e,n){return cr(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=o?`?${o}`:"";try{const d=this._getFinalPath(e);return{data:yield(yield sv(this.fetch,`${this.url}/${a}/${d}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(un(d))return{data:null,error:d};throw d}})}getPublicUrl(e,n){const r=this._getFinalPath(e),a=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&a.push(o);const d=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&a.push(f);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${h}`)}}}remove(e){return cr(this,void 0,void 0,function*(){try{return{data:yield wx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(un(n))return{data:null,error:n};throw n}})}list(e,n,r){return cr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},DN),n),{prefix:e||""});return{data:yield _s(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(un(a))return{data:null,error:a};throw a}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const LN="2.5.5",PN={"X-Client-Info":`storage-js/${LN}`};var _o=function(t,e,n,r){function a(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function d(g){try{h(r.next(g))}catch(v){u(v)}}function f(g){try{h(r.throw(g))}catch(v){u(v)}}function h(g){g.done?o(g.value):a(g.value).then(d,f)}h((r=r.apply(t,e||[])).next())})};class UN{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},PN),n),this.fetch=Ex(r)}listBuckets(){return _o(this,void 0,void 0,function*(){try{return{data:yield sv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(un(e))return{data:null,error:e};throw e}})}getBucket(e){return _o(this,void 0,void 0,function*(){try{return{data:yield sv(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(un(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return _o(this,void 0,void 0,function*(){try{return{data:yield _s(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(un(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return _o(this,void 0,void 0,function*(){try{return{data:yield IN(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(un(r))return{data:null,error:r};throw r}})}emptyBucket(e){return _o(this,void 0,void 0,function*(){try{return{data:yield _s(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(un(n))return{data:null,error:n};throw n}})}deleteBucket(e){return _o(this,void 0,void 0,function*(){try{return{data:yield wx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(un(n))return{data:null,error:n};throw n}})}}class $N extends UN{constructor(e,n={},r){super(e,n,r)}from(e){return new NN(this.url,this.headers,e,this.fetch)}}const zN="2.39.7";let Mu="";typeof Deno<"u"?Mu="deno":typeof document<"u"?Mu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mu="react-native":Mu="node";const jN={"X-Client-Info":`supabase-js-${Mu}/${zN}`},HN={headers:jN},BN={schema:"public"},FN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qN={};var GN=function(t,e,n,r){function a(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function d(g){try{h(r.next(g))}catch(v){u(v)}}function f(g){try{h(r.throw(g))}catch(v){u(v)}}function h(g){g.done?o(g.value):a(g.value).then(d,f)}h((r=r.apply(t,e||[])).next())})};const YN=t=>{let e;return t?e=t:typeof fetch>"u"?e=S_:e=fetch,(...n)=>e(...n)},VN=()=>typeof Headers>"u"?_x:Headers,XN=(t,e,n)=>{const r=YN(n),a=VN();return(o,u)=>GN(void 0,void 0,void 0,function*(){var d;const f=(d=yield e())!==null&&d!==void 0?d:t;let h=new a(u==null?void 0:u.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),r(o,Object.assign(Object.assign({},u),{headers:h}))})};function KN(t){return t.replace(/\/$/,"")}function WN(t,e){const{db:n,auth:r,realtime:a,global:o}=t,{db:u,auth:d,realtime:f,global:h}=e;return{db:Object.assign(Object.assign({},u),n),auth:Object.assign(Object.assign({},d),r),realtime:Object.assign(Object.assign({},f),a),global:Object.assign(Object.assign({},h),o)}}function JN(t){return Math.round(Date.now()/1e3)+t}function QN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const xr=()=>typeof document<"u",ta={tested:!1,writable:!1},ju=()=>{if(!xr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ta.tested)return ta.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ta.tested=!0,ta.writable=!0}catch{ta.tested=!0,ta.writable=!1}return ta.writable};function lg(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,o)=>{e[o]=a})}catch{}return n.searchParams.forEach((r,a)=>{e[a]=r}),e}const Tx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Qn(async()=>{const{default:r}=await Promise.resolve().then(()=>dc);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},ZN=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",na=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Fd=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ug=async(t,e)=>{await t.removeItem(e)};function eL(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,a,o,u,d,f,h,g=0;for(t=t.replace("-","+").replace("_","/");g<t.length;)u=e.indexOf(t.charAt(g++)),d=e.indexOf(t.charAt(g++)),f=e.indexOf(t.charAt(g++)),h=e.indexOf(t.charAt(g++)),r=u<<2|d>>4,a=(d&15)<<4|f>>2,o=(f&3)<<6|h,n=n+String.fromCharCode(r),f!=64&&a!=0&&(n=n+String.fromCharCode(a)),h!=64&&o!=0&&(n=n+String.fromCharCode(o));return n}class ph{constructor(){this.promise=new ph.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ph.promiseConstructor=Promise;function nw(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(eL(r))}async function tL(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function nL(t,e){return new Promise((r,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await t(o);if(!e(o,null,u)){r(u);return}}catch(u){if(!e(o,u)){a(u);return}}})()})}function rL(t){return("0"+t.toString(16)).substr(-2)}function yo(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let o=0;o<56;o++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(e),Array.from(e,rL).join("")}async function iL(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}function sL(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bo(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await iL(t);return sL(n)}class x_ extends Error{constructor(e,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n}}function je(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class aL extends x_{constructor(e,n){super(e,n),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function oL(t){return je(t)&&t.name==="AuthApiError"}class xx extends x_{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class xa extends x_{constructor(e,n,r){super(e),this.name=n,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class So extends xa{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class cg extends xa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class qd extends xa{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class Gd extends xa{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rw extends xa{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class av extends xa{constructor(e,n){super(e,"AuthRetryableFetchError",n)}}function dg(t){return je(t)&&t.name==="AuthRetryableFetchError"}class lL extends xa{constructor(e,n,r){super(e,"AuthWeakPasswordError",n),this.reasons=r}}var uL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const Co=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cL=[502,503,504];async function iw(t){if(!ZN(t))throw new av(Co(t),0);if(cL.includes(t.status))throw new av(Co(t),t.status);let e;try{e=await t.json()}catch(n){throw new xx(Co(n),n)}throw typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)?new lL(Co(e),t.status,e.weak_password.reasons):new aL(Co(e),t.status||500)}const dL=(t,e,n,r)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function qe(t,e,n,r){var a;const o=Object.assign({},r==null?void 0:r.headers);r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const u=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(u.redirect_to=r.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await fL(t,e,n+d,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}}async function fL(t,e,n,r,a,o){const u=dL(e,r,a,o);let d;try{d=await t(n,u)}catch(f){throw console.error(f),new av(Co(f),0)}if(d.ok||await iw(d),r!=null&&r.noResolveJson)return d;try{return await d.json()}catch(f){await iw(f)}}function aa(t){var e;let n=null;gL(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=JN(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function sw(t){const e=aa(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ss(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function hL(t){return{data:t,error:null}}function pL(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:a,verification_type:o}=t,u=uL(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:r,redirect_to:a,verification_type:o},f=Object.assign({},u);return{data:{properties:d,user:f},error:null}}function mL(t){return t}function gL(t){return t.access_token&&t.refresh_token&&t.expires_in}var vL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};class _L{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Tx(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await qe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ss})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=vL(e,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:pL,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(je(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await qe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ss})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,a,o,u,d,f;try{const h={nextPage:null,lastPage:0,total:0},g=await qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:mL});if(g.error)throw g.error;const v=await g.json(),_=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(f=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);h[`${T}Page`]=w}),h.total=parseInt(_)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(je(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){try{return await qe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ss})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await qe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ss})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await qe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ss})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await qe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(je(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await qe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}}const Rx="0.0.0",yL="http://localhost:9999",bL="supabase.auth.token",SL={"X-Client-Info":`gotrue-js/${Rx}`},aw=10,EL={getItem:t=>ju()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ju()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ju()&&globalThis.localStorage.removeItem(t)}};function ow(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function wL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Eo={debug:!!(globalThis&&ju()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ax extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class TL extends Ax{}async function xL(t,e,n){Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new TL(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Eo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}wL();const RL={url:yL,storageKey:bL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:SL,flowType:"implicit",debug:!1},_u=30*1e3,lw=3;async function uw(t,e,n){return await n()}class Xu{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xu.nextInstanceID,Xu.nextInstanceID+=1,this.instanceID>0&&xr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},RL),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new _L({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Tx(a.fetch),this.lock=a.lock||uw,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,a.lock?this.lock=a.lock:xr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=xL:this.lock=uw,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:ju()?this.storage=EL:(this.memoryStorage={},this.storage=ow(this.memoryStorage)):(this.memoryStorage={},this.storage=ow(this.memoryStorage)),xr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Rx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=xr()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.message)==="Identity is already linked"||(r==null?void 0:r.message)==="Identity is already linked to another user"?{error:r}:(await this._removeSession(),{error:r});const{session:a,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return je(e)?{error:e}:{error:new xx("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(e){var n,r,a;try{await this._removeSession();let o;if("email"in e){const{email:g,password:v,options:_}=e;let b=null,S=null;if(this.flowType==="pkce"){const w=yo();await na(this.storage,`${this.storageKey}-code-verifier`,w),b=await bo(w),S=w===b?"plain":"s256"}o=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:g,password:v,data:(n=_==null?void 0:_.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:b,code_challenge_method:S},xform:aa})}else if("phone"in e){const{phone:g,password:v,options:_}=e;o=await qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(r=_==null?void 0:_.data)!==null&&r!==void 0?r:{},channel:(a=_==null?void 0:_.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:aa})}else throw new qd("You must provide either an email or phone number and a password");const{data:u,error:d}=o;if(d||!u)return{data:{user:null,session:null},error:d};const f=u.session,h=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(o){if(je(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{await this._removeSession();let n;if("email"in e){const{email:o,password:u,options:d}=e;n=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:sw})}else if("phone"in e){const{phone:o,password:u,options:d}=e;n=await qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:sw})}else throw new qd("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new cg}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(je(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,a,o;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Fd(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/"),{data:o,error:u}=await qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:aa});return await ug(this.storage,`${this.storageKey}-code-verifier`),u?{data:{user:null,session:null,redirectType:null},error:u}:!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new cg}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:u})}async signInWithIdToken(e){await this._removeSession();try{const{options:n,provider:r,token:a,access_token:o,nonce:u}=e,d=await qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:aa}),{data:f,error:h}=d;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new cg}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:h})}catch(n){if(je(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,a,o,u;try{if(await this._removeSession(),"email"in e){const{email:d,options:f}=e;let h=null,g=null;if(this.flowType==="pkce"){const _=yo();await na(this.storage,`${this.storageKey}-code-verifier`,_),h=await bo(_),g=_===h?"plain":"s256"}const{error:v}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:g},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:d,options:f}=e,{data:h,error:g}=await qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},create_user:(o=f==null?void 0:f.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(u=f==null?void 0:f.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:g}}throw new qd("You must provide either an email or phone number.")}catch(d){if(je(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var n,r;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let a,o;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:d}=await qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:aa});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,h=u.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(a){if(je(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var n,r,a;try{await this._removeSession();let o=null,u=null;if(this.flowType==="pkce"){const d=yo();await na(this.storage,`${this.storageKey}-code-verifier`,d),o=await bo(d),u=d===o?"plain":"s256"}return await qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:u}),headers:this.headers,xform:hL})}catch(o){if(je(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new So;const{error:a}=await qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(je(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();const n=`${this.url}/resend`;if("email"in e){const{email:r,type:a,options:o}=e,{error:u}=await qe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:r,type:a,options:o}=e,{data:u,error:d}=await qe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new qd("You must provide either an email or phone number and a type")}catch(n){if(je(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Fd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r)return{data:{session:e},error:null};const{session:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ss}):await this._useSession(async n=>{var r,a;const{data:o,error:u}=n;if(u)throw u;return await qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0,xform:Ss})})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:a,error:o}=r;if(o)throw o;if(!a.session)throw new So;const u=a.session;let d=null,f=null;if(this.flowType==="pkce"&&e.email!=null){const v=yo();await na(this.storage,`${this.storageKey}-code-verifier`,v),d=await bo(v),f=v===d?"plain":"s256"}const{data:h,error:g}=await qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:f}),jwt:u.access_token,xform:Ss});if(g)throw g;return u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return nw(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new So;const n=Date.now()/1e3;let r=n,a=!0,o=null;const u=nw(e.access_token);if(u.exp&&(r=u.exp,a=r<=n),a){const{session:d,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:f}=await this._getUser(e.access_token);if(f)throw f;o={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(je(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:u,error:d}=n;if(d)throw d;e=(r=u.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new So;const{session:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(je(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e){try{if(!xr())throw new Gd("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Gd("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new rw("Not a valid PKCE flow url.");const n=lg(window.location.href);if(e){if(!n.code)throw new rw("No code detected.");const{data:I,error:D}=await this._exchangeCodeForSession(n.code);if(D)throw D;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:I.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new Gd(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:a,access_token:o,refresh_token:u,expires_in:d,expires_at:f,token_type:h}=n;if(!o||!d||!u||!h)throw new Gd("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(d);let _=g+v;f&&(_=parseInt(f));const b=_-g;b*1e3<=_u&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${v}s`);const S=_-v;g-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,_,g):g-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",S,_,g);const{data:w,error:T}=await this._getUser(o);if(T)throw T;const x={provider_token:r,provider_refresh_token:a,access_token:o,expires_in:v,expires_at:_,refresh_token:u,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:n.type},error:null}}catch(n){if(je(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const e=lg(window.location.href);return!!(xr()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=lg(window.location.href),n=await Fd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:o}=n;if(o)return{error:o};const u=(r=a.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(oL(d)&&(d.status===404||d.status===401)))return{error:d}}return e!=="others"&&(await this._removeSession(),await ug(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const n=QN(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,a;try{const{data:{session:o},error:u}=n;if(u)throw u;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,a=null;if(this.flowType==="pkce"){const o=yo();await na(this.storage,`${this.storageKey}-code-verifier`,`${o}/PASSWORD_RECOVERY`),r=await bo(o),a=o===r?"plain":"s256"}try{return await qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(je(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:a}=await this._useSession(async o=>{var u,d,f,h,g;const{data:v,error:_}=o;if(_)throw _;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await qe(this.fetch,"GET",b,{headers:this.headers,jwt:(g=(h=v.session)===null||h===void 0?void 0:h.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return xr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(je(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,a;const{data:o,error:u}=n;if(u)throw u;return await qe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await nL(async a=>(await tL(a*200),this._debug(n,"refreshing attempt",a),await qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:aa})),(a,o,u)=>u&&u.error&&dg(u.error)&&Date.now()+(a+1)*200-r<_u)}catch(r){if(this._debug(n,"error",r),je(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),xr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Fd(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),o=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<a+aw;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${aw}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:u}=await this._callRefreshToken(r.refresh_token);u&&(console.error(u),dg(u)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new So;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new ph;const{data:o,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!o.session)throw new So;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={session:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(a,"error",o),je(o)){const u={session:null,error:o};return dg(o)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,r=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(f){o.push(f)}});if(await Promise.all(u),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await na(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ug(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_u);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-e)/_u);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${_u}ms, refresh threshold is ${lw} ticks`),a<=lw&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ax)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const o=yo();await na(this.storage,`${this.storageKey}-code-verifier`,o);const u=await bo(o),d=o===u?"plain":"s256";this._debug("PKCE","code verifier",`${o.substring(0,5)}...`,"code challenge",u,"method",d);const f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});a.push(f.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);a.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:a,error:o}=n;return o?{data:null,error:o}:await qe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,a;const{data:o,error:u}=n;if(u)return{data:null,error:u};const{data:d,error:f}=await qe(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(!((a=d==null?void 0:d.totp)===null||a===void 0)&&a.qr_code&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:o}=n;if(o)return{data:null,error:o};const{data:u,error:d}=await qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(n){if(je(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:o}=n;return o?{data:null,error:o}:await qe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(je(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],a=r.filter(o=>o.factor_type==="totp"&&o.status==="verified");return{data:{all:r,totp:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:a},error:o}=e;if(o)return{data:null,error:o};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const u=this._decodeJWT(a.access_token);let d=null;u.aal&&(d=u.aal);let f=d;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const g=u.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:g},error:null}}))}}Xu.nextInstanceID=0;class AL extends Xu{constructor(e){super(e)}}var CL=function(t,e,n,r){function a(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function d(g){try{h(r.next(g))}catch(v){u(v)}}function f(g){try{h(r.throw(g))}catch(v){u(v)}}function h(g){g.done?o(g.value):a(g.value).then(d,f)}h((r=r.apply(t,e||[])).next())})};class kL{constructor(e,n,r){var a,o,u,d,f,h,g,v;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const _=KN(e);this.realtimeUrl=`${_}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${_}/auth/v1`,this.storageUrl=`${_}/storage/v1`,this.functionsUrl=`${_}/functions/v1`;const b=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,S={db:BN,realtime:qN,auth:Object.assign(Object.assign({},FN),{storageKey:b}),global:HN},w=WN(r??{},S);this.storageKey=(o=(a=w.auth)===null||a===void 0?void 0:a.storageKey)!==null&&o!==void 0?o:"",this.headers=(d=(u=w.global)===null||u===void 0?void 0:u.headers)!==null&&d!==void 0?d:{},this.auth=this._initSupabaseAuthClient((f=w.auth)!==null&&f!==void 0?f:{},this.headers,(h=w.global)===null||h===void 0?void 0:h.fetch),this.fetch=XN(n,this._getAccessToken.bind(this),(g=w.global)===null||g===void 0?void 0:g.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},w.realtime)),this.rest=new E_(`${_}/rest/v1`,{headers:this.headers,schema:(v=w.db)===null||v===void 0?void 0:v.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new tN(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new $N(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return CL(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:a,storageKey:o,flowType:u,debug:d},f,h){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new AL({url:this.authUrl,headers:Object.assign(Object.assign({},g),f),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:a,flowType:u,debug:d,fetch:h})}_initRealtimeClient(e){return new xN(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const OL=(t,e,n)=>new kL(t,e,n),ML="https://enqcokspbxiopijjzfes.supabase.co",IL="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVucWNva3NwYnhpb3Bpamp6ZmVzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQzODQ2MjMsImV4cCI6MjA3OTk2MDYyM30.XJ3e3twD9kup4yv7KxWn1L038wid2W3qFXClo9LcAis",_n=OL(ML,IL),cw=async t=>{try{console.log(`Fetching profile for ${t}...`);const e=_n.from("profiles").select("*").eq("id",t).single(),n=new Promise((o,u)=>setTimeout(()=>u(new Error("Profile fetch timeout")),5e3)),{data:r,error:a}=await Promise.race([e,n]);return a?(console.error("Error fetching profile:",a),null):{...r,name:r.full_name||r.name||"User",avatarUrl:r.avatar_url,credits:r.credits!==void 0?r.credits:0,headline:r.headline,industry:r.industry,position:r.position,brandVoice:r.brand_voice,companyName:r.company_name,planTier:r.plan_tier,cancelAtPeriodEnd:r.cancel_at_period_end,twoFactorEnabled:r.two_factor_enabled,securityNotifications:r.security_notifications,hasOnboarded:r.has_onboarded,xp:r.xp||0,level:r.level||1,currentStreak:r.current_streak||0,lastPostDate:r.last_post_date?new Date(r.last_post_date).getTime():void 0,unlockedAchievements:r.unlocked_achievements||[],autoPilot:r.auto_pilot||{enabled:!1,topics:[],frequency:"daily"},isPremium:r.plan_tier==="pro"||r.plan_tier==="viral"}}catch(e){return console.error("Exception in fetchUserProfile:",e),null}},EF=async(t,e)=>{const n={...e};e.name!==void 0&&(n.full_name=e.name,delete n.name),e.brandVoice!==void 0&&(n.brand_voice=e.brandVoice,delete n.brandVoice),e.companyName!==void 0&&(n.company_name=e.companyName,delete n.companyName),e.planTier!==void 0&&(n.plan_tier=e.planTier,delete n.planTier),e.cancelAtPeriodEnd!==void 0&&(n.cancel_at_period_end=e.cancelAtPeriodEnd,delete n.cancelAtPeriodEnd),e.twoFactorEnabled!==void 0&&(n.two_factor_enabled=e.twoFactorEnabled,delete n.twoFactorEnabled),e.securityNotifications!==void 0&&(n.security_notifications=e.securityNotifications,delete n.securityNotifications),e.hasOnboarded!==void 0&&(n.has_onboarded=e.hasOnboarded,delete n.hasOnboarded),e.currentStreak!==void 0&&(n.current_streak=e.currentStreak,delete n.currentStreak),e.lastPostDate!==void 0&&(n.last_post_date=new Date(e.lastPostDate).toISOString(),delete n.lastPostDate),e.unlockedAchievements!==void 0&&(n.unlocked_achievements=e.unlockedAchievements,delete n.unlockedAchievements);const{data:r,error:a}=await _n.from("profiles").update(n).eq("id",t).select();if(a)throw console.error("Error updating profile:",a),a;console.log("Profile update success:",r)},DL=async t=>{if(!t||!t.id)return;const e=t.user_metadata||{},n={id:t.id,email:t.email,updated_at:new Date().toISOString()};(e.full_name||e.name)&&(n.full_name=e.full_name||e.name),(e.avatar_url||e.picture)&&(n.avatar_url=e.avatar_url||e.picture),e.headline&&(n.headline=e.headline),e.industry&&(n.industry=e.industry),e.company&&(n.company_name=e.company),e.position&&(n.position=e.position),console.log("Syncing user profile from auth provider:",n);const{error:r}=await _n.from("profiles").upsert(n,{onConflict:"id"});r&&console.error("Error syncing user profile:",r)},wF=async t=>{const{data:e,error:n}=await _n.from("brand_voices").select("*").eq("user_id",t).order("created_at",{ascending:!1});return n?(console.error("Error fetching brand voices:",n),[]):(e||[]).map(r=>({...r,isActive:r.is_active}))},TF=async(t,e)=>{await _n.from("brand_voices").update({is_active:!1}).eq("user_id",t);const{error:n}=await _n.from("brand_voices").update({is_active:!0}).eq("id",e);if(n)throw n},xF=async(t,e,n)=>{const{data:r,error:a}=await _n.from("brand_voices").insert([{user_id:t,name:e,description:n}]).select().single();if(a)throw a;return r},RF=async(t,e)=>{const{data:n,error:r}=await _n.from("brand_voices").update(e).eq("id",t).select().single();if(r)throw r;return n},AF=async t=>{const{error:e}=await _n.from("brand_voices").delete().eq("id",t);if(e)throw e},Cx=$.createContext(void 0),NL=({children:t})=>{const[e,n]=$.useState(null),[r,a]=$.useState(null),[o,u]=$.useState(!0),[d,f]=$.useState({...sg}),[h,g]=$.useState(!0),v=p_(),_=Zr(),S=window.location.hostname.includes(VD);$.useEffect(()=>{(async()=>{try{const{data:{session:z}}=await _n.auth.getSession();n(z),a((z==null?void 0:z.user)??null),u(!1)}catch(z){console.error("Error initializing auth:",z),u(!1)}})();const{data:{subscription:O}}=_n.auth.onAuthStateChange(async(z,ne)=>{console.log("Auth state change:",z),n(ne),a((ne==null?void 0:ne.user)??null),u(!1),z==="SIGNED_IN"?!S&&(_.pathname==="/login"||_.pathname==="/")&&v("/dashboard"):z==="SIGNED_OUT"&&(v("/login"),f({...sg}))});return()=>O.unsubscribe()},[v,S]);const w=$.useCallback(async Q=>{try{console.log("UserProvider: Fetching profile for",Q),g(!0);let O=await cw(Q);O||(await new Promise(z=>{const ne=_n.channel("public:profiles:id=eq.${userId}").on("postgres_changes",{event:"INSERT",schema:"public",table:"profiles",filter:"id=eq.${userId}"},async K=>{O=K.new,_n.removeChannel(ne),z()}).subscribe();setTimeout(()=>{_n.removeChannel(ne),z()},5e3)}),O||(O=await cw(Q))),O&&(f(z=>({...z,...O})),r&&DL(r).catch(console.error))}catch(O){console.error("UserProvider: Error fetching profile:",O)}finally{g(!1)}},[r]);$.useEffect(()=>{o||(r!=null&&r.id&&!r.id.startsWith("mock-")?w(r.id):(f({...sg}),g(!1)))},[r==null?void 0:r.id,o,w]);const T=async()=>{await _n.auth.signOut(),n(null),a(null),v("/login")},x=Q=>{f(O=>({...O,...Q}))},I=Q=>{typeof Q=="function"?f(O=>({...O,...Q(O)})):x(Q)},D=async()=>{r!=null&&r.id&&await w(r.id)},q=Q=>{f(O=>({...O,language:Q}))},ee={...d,id:(r==null?void 0:r.id)||d.id,email:(r==null?void 0:r.email)||d.email};return Oe.jsx(Cx.Provider,{value:{user:ee,authUser:r,session:e,loading:o||h,logout:T,setUser:I,updateProfile:x,refreshUser:D,setLanguage:q,language:d.language},children:t})},R_=()=>{const t=$.useContext(Cx);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t};function LL(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const PL=t=>{switch(t){case"success":return zL;case"info":return HL;case"warning":return jL;case"error":return BL;default:return null}},UL=Array(12).fill(0),$L=({visible:t,className:e})=>Z.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Z.createElement("div",{className:"sonner-spinner"},UL.map((n,r)=>Z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),zL=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),jL=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),HL=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),BL=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),FL=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),qL=()=>{const[t,e]=Z.useState(document.hidden);return Z.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let ov=1;class GL{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...a}=e,o=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:ov++,u=this.toasts.find(f=>f.id===o),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),u?this.toasts=this.toasts.map(f=>f.id===o?(this.publish({...f,...e,id:o,title:r}),{...f,...e,id:o,dismissible:d,title:r}):f):this.addToast({title:r,...a,dismissible:d,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let o=r!==void 0,u;const d=a.then(async h=>{if(u=["resolve",h],Z.isValidElement(h))o=!1,this.create({id:r,type:"default",message:h});else if(VL(h)&&!h.ok){o=!1;const v=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,_=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description,S=typeof v=="object"&&!Z.isValidElement(v)?v:{message:v};this.create({id:r,type:"error",description:_,...S})}else if(h instanceof Error){o=!1;const v=typeof n.error=="function"?await n.error(h):n.error,_=typeof n.description=="function"?await n.description(h):n.description,S=typeof v=="object"&&!Z.isValidElement(v)?v:{message:v};this.create({id:r,type:"error",description:_,...S})}else if(n.success!==void 0){o=!1;const v=typeof n.success=="function"?await n.success(h):n.success,_=typeof n.description=="function"?await n.description(h):n.description,S=typeof v=="object"&&!Z.isValidElement(v)?v:{message:v};this.create({id:r,type:"success",description:_,...S})}}).catch(async h=>{if(u=["reject",h],n.error!==void 0){o=!1;const g=typeof n.error=="function"?await n.error(h):n.error,v=typeof n.description=="function"?await n.description(h):n.description,b=typeof g=="object"&&!Z.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:v,...b})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((h,g)=>d.then(()=>u[0]==="reject"?g(u[1]):h(u[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:f}:Object.assign(r,{unwrap:f})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||ov++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Dn=new GL,YL=(t,e)=>{const n=(e==null?void 0:e.id)||ov++;return Dn.addToast({title:t,...e,id:n}),n},VL=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",XL=YL,KL=()=>Dn.toasts,WL=()=>Dn.getActiveToasts(),JL=Object.assign(XL,{success:Dn.success,info:Dn.info,warning:Dn.warning,error:Dn.error,custom:Dn.custom,message:Dn.message,promise:Dn.promise,dismiss:Dn.dismiss,loading:Dn.loading},{getHistory:KL,getToasts:WL});LL("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Yd(t){return t.label!==void 0}const QL=3,ZL="24px",e3="16px",dw=4e3,t3=356,n3=14,r3=45,i3=200;function qr(...t){return t.filter(Boolean).join(" ")}function s3(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const a3=t=>{var e,n,r,a,o,u,d,f,h;const{invert:g,toast:v,unstyled:_,interacting:b,setHeights:S,visibleToasts:w,heights:T,index:x,toasts:I,expanded:D,removeToast:q,defaultRichColors:ee,closeButton:Q,style:O,cancelButtonStyle:z,actionButtonStyle:ne,className:K="",descriptionClassName:te="",duration:se,position:ce,gap:le,expandByDefault:_e,classNames:k,icons:G,closeButtonAriaLabel:F="Close toast"}=t,[ae,J]=Z.useState(null),[R,N]=Z.useState(null),[j,W]=Z.useState(!1),[re,fe]=Z.useState(!1),[Ee,we]=Z.useState(!1),[He,pt]=Z.useState(!1),[Sn,dn]=Z.useState(!1),[Pr,Tt]=Z.useState(0),[rn,jn]=Z.useState(0),fn=Z.useRef(v.duration||se||dw),Ur=Z.useRef(null),Xt=Z.useRef(null),Ne=x===0,Kt=x+1<=w,ye=v.type,St=v.dismissible!==!1,st=v.className||"",Ve=v.descriptionClassName||"",yr=Z.useMemo(()=>T.findIndex(Ae=>Ae.toastId===v.id)||0,[T,v.id]),Ac=Z.useMemo(()=>{var Ae;return(Ae=v.closeButton)!=null?Ae:Q},[v.closeButton,Q]),Ns=Z.useMemo(()=>v.duration||se||dw,[v.duration,se]),El=Z.useRef(0),ni=Z.useRef(0),Cc=Z.useRef(0),Hi=Z.useRef(null),[Ls,hn]=ce.split("-"),br=Z.useMemo(()=>T.reduce((Ae,_t,Ft)=>Ft>=yr?Ae:Ae+_t.height,0),[T,yr]),sn=qL(),Nh=v.invert||g,wl=ye==="loading";ni.current=Z.useMemo(()=>yr*le+br,[yr,br]),Z.useEffect(()=>{fn.current=Ns},[Ns]),Z.useEffect(()=>{W(!0)},[]),Z.useEffect(()=>{const Ae=Xt.current;if(Ae){const _t=Ae.getBoundingClientRect().height;return jn(_t),S(Ft=>[{toastId:v.id,height:_t,position:v.position},...Ft]),()=>S(Ft=>Ft.filter(an=>an.toastId!==v.id))}},[S,v.id]),Z.useLayoutEffect(()=>{if(!j)return;const Ae=Xt.current,_t=Ae.style.height;Ae.style.height="auto";const Ft=Ae.getBoundingClientRect().height;Ae.style.height=_t,jn(Ft),S(an=>an.find(Et=>Et.toastId===v.id)?an.map(Et=>Et.toastId===v.id?{...Et,height:Ft}:Et):[{toastId:v.id,height:Ft,position:v.position},...an])},[j,v.title,v.description,S,v.id,v.jsx,v.action,v.cancel]);const $r=Z.useCallback(()=>{fe(!0),Tt(ni.current),S(Ae=>Ae.filter(_t=>_t.toastId!==v.id)),setTimeout(()=>{q(v)},i3)},[v,q,S,ni]);Z.useEffect(()=>{if(v.promise&&ye==="loading"||v.duration===1/0||v.type==="loading")return;let Ae;return D||b||sn?(()=>{if(Cc.current<El.current){const an=new Date().getTime()-El.current;fn.current=fn.current-an}Cc.current=new Date().getTime()})():(()=>{fn.current!==1/0&&(El.current=new Date().getTime(),Ae=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),$r()},fn.current))})(),()=>clearTimeout(Ae)},[D,b,v,ye,sn,$r]),Z.useEffect(()=>{v.delete&&($r(),v.onDismiss==null||v.onDismiss.call(v,v))},[$r,v.delete]);function ka(){var Ae;if(G!=null&&G.loading){var _t;return Z.createElement("div",{className:qr(k==null?void 0:k.loader,v==null||(_t=v.classNames)==null?void 0:_t.loader,"sonner-loader"),"data-visible":ye==="loading"},G.loading)}return Z.createElement($L,{className:qr(k==null?void 0:k.loader,v==null||(Ae=v.classNames)==null?void 0:Ae.loader),visible:ye==="loading"})}const Oa=v.icon||(G==null?void 0:G[ye])||PL(ye);var Ps,zr;return Z.createElement("li",{tabIndex:0,ref:Xt,className:qr(K,st,k==null?void 0:k.toast,v==null||(e=v.classNames)==null?void 0:e.toast,k==null?void 0:k.default,k==null?void 0:k[ye],v==null||(n=v.classNames)==null?void 0:n[ye]),"data-sonner-toast":"","data-rich-colors":(Ps=v.richColors)!=null?Ps:ee,"data-styled":!(v.jsx||v.unstyled||_),"data-mounted":j,"data-promise":!!v.promise,"data-swiped":Sn,"data-removed":re,"data-visible":Kt,"data-y-position":Ls,"data-x-position":hn,"data-index":x,"data-front":Ne,"data-swiping":Ee,"data-dismissible":St,"data-type":ye,"data-invert":Nh,"data-swipe-out":He,"data-swipe-direction":R,"data-expanded":!!(D||_e&&j),"data-testid":v.testId,style:{"--index":x,"--toasts-before":x,"--z-index":I.length-x,"--offset":`${re?Pr:ni.current}px`,"--initial-height":_e?"auto":`${rn}px`,...O,...v.style},onDragEnd:()=>{we(!1),J(null),Hi.current=null},onPointerDown:Ae=>{Ae.button!==2&&(wl||!St||(Ur.current=new Date,Tt(ni.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(we(!0),Hi.current={x:Ae.clientX,y:Ae.clientY})))},onPointerUp:()=>{var Ae,_t,Ft;if(He||!St)return;Hi.current=null;const an=Number(((Ae=Xt.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Bi=Number(((_t=Xt.current)==null?void 0:_t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Et=new Date().getTime()-((Ft=Ur.current)==null?void 0:Ft.getTime()),En=ae==="x"?an:Bi,Us=Math.abs(En)/Et;if(Math.abs(En)>=r3||Us>.11){Tt(ni.current),v.onDismiss==null||v.onDismiss.call(v,v),N(ae==="x"?an>0?"right":"left":Bi>0?"down":"up"),$r(),pt(!0);return}else{var wn,Tn;(wn=Xt.current)==null||wn.style.setProperty("--swipe-amount-x","0px"),(Tn=Xt.current)==null||Tn.style.setProperty("--swipe-amount-y","0px")}dn(!1),we(!1),J(null)},onPointerMove:Ae=>{var _t,Ft,an;if(!Hi.current||!St||((_t=window.getSelection())==null?void 0:_t.toString().length)>0)return;const Et=Ae.clientY-Hi.current.y,En=Ae.clientX-Hi.current.x;var Us;const wn=(Us=t.swipeDirections)!=null?Us:s3(ce);!ae&&(Math.abs(En)>1||Math.abs(Et)>1)&&J(Math.abs(En)>Math.abs(Et)?"x":"y");let Tn={x:0,y:0};const Ma=Sr=>1/(1.5+Math.abs(Sr)/20);if(ae==="y"){if(wn.includes("top")||wn.includes("bottom"))if(wn.includes("top")&&Et<0||wn.includes("bottom")&&Et>0)Tn.y=Et;else{const Sr=Et*Ma(Et);Tn.y=Math.abs(Sr)<Math.abs(Et)?Sr:Et}}else if(ae==="x"&&(wn.includes("left")||wn.includes("right")))if(wn.includes("left")&&En<0||wn.includes("right")&&En>0)Tn.x=En;else{const Sr=En*Ma(En);Tn.x=Math.abs(Sr)<Math.abs(En)?Sr:En}(Math.abs(Tn.x)>0||Math.abs(Tn.y)>0)&&dn(!0),(Ft=Xt.current)==null||Ft.style.setProperty("--swipe-amount-x",`${Tn.x}px`),(an=Xt.current)==null||an.style.setProperty("--swipe-amount-y",`${Tn.y}px`)}},Ac&&!v.jsx&&ye!=="loading"?Z.createElement("button",{"aria-label":F,"data-disabled":wl,"data-close-button":!0,onClick:wl||!St?()=>{}:()=>{$r(),v.onDismiss==null||v.onDismiss.call(v,v)},className:qr(k==null?void 0:k.closeButton,v==null||(r=v.classNames)==null?void 0:r.closeButton)},(zr=G==null?void 0:G.close)!=null?zr:FL):null,(ye||v.icon||v.promise)&&v.icon!==null&&((G==null?void 0:G[ye])!==null||v.icon)?Z.createElement("div",{"data-icon":"",className:qr(k==null?void 0:k.icon,v==null||(a=v.classNames)==null?void 0:a.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||ka():null,v.type!=="loading"?Oa:null):null,Z.createElement("div",{"data-content":"",className:qr(k==null?void 0:k.content,v==null||(o=v.classNames)==null?void 0:o.content)},Z.createElement("div",{"data-title":"",className:qr(k==null?void 0:k.title,v==null||(u=v.classNames)==null?void 0:u.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?Z.createElement("div",{"data-description":"",className:qr(te,Ve,k==null?void 0:k.description,v==null||(d=v.classNames)==null?void 0:d.description)},typeof v.description=="function"?v.description():v.description):null),Z.isValidElement(v.cancel)?v.cancel:v.cancel&&Yd(v.cancel)?Z.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||z,onClick:Ae=>{Yd(v.cancel)&&St&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,Ae),$r())},className:qr(k==null?void 0:k.cancelButton,v==null||(f=v.classNames)==null?void 0:f.cancelButton)},v.cancel.label):null,Z.isValidElement(v.action)?v.action:v.action&&Yd(v.action)?Z.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||ne,onClick:Ae=>{Yd(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,Ae),!Ae.defaultPrevented&&$r())},className:qr(k==null?void 0:k.actionButton,v==null||(h=v.classNames)==null?void 0:h.actionButton)},v.action.label):null)};function fw(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function o3(t,e){const n={};return[t,e].forEach((r,a)=>{const o=a===1,u=o?"--mobile-offset":"--offset",d=o?e3:ZL;function f(h){["top","right","bottom","left"].forEach(g=>{n[`${u}-${g}`]=typeof h=="number"?`${h}px`:h})}typeof r=="number"||typeof r=="string"?f(r):typeof r=="object"?["top","right","bottom","left"].forEach(h=>{r[h]===void 0?n[`${u}-${h}`]=d:n[`${u}-${h}`]=typeof r[h]=="number"?`${r[h]}px`:r[h]}):f(d)}),n}const l3=Z.forwardRef(function(e,n){const{id:r,invert:a,position:o="bottom-right",hotkey:u=["altKey","KeyT"],expand:d,closeButton:f,className:h,offset:g,mobileOffset:v,theme:_="light",richColors:b,duration:S,style:w,visibleToasts:T=QL,toastOptions:x,dir:I=fw(),gap:D=n3,icons:q,containerAriaLabel:ee="Notifications"}=e,[Q,O]=Z.useState([]),z=Z.useMemo(()=>r?Q.filter(j=>j.toasterId===r):Q.filter(j=>!j.toasterId),[Q,r]),ne=Z.useMemo(()=>Array.from(new Set([o].concat(z.filter(j=>j.position).map(j=>j.position)))),[z,o]),[K,te]=Z.useState([]),[se,ce]=Z.useState(!1),[le,_e]=Z.useState(!1),[k,G]=Z.useState(_!=="system"?_:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=Z.useRef(null),ae=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),J=Z.useRef(null),R=Z.useRef(!1),N=Z.useCallback(j=>{O(W=>{var re;return(re=W.find(fe=>fe.id===j.id))!=null&&re.delete||Dn.dismiss(j.id),W.filter(({id:fe})=>fe!==j.id)})},[]);return Z.useEffect(()=>Dn.subscribe(j=>{if(j.dismiss){requestAnimationFrame(()=>{O(W=>W.map(re=>re.id===j.id?{...re,delete:!0}:re))});return}setTimeout(()=>{cD.flushSync(()=>{O(W=>{const re=W.findIndex(fe=>fe.id===j.id);return re!==-1?[...W.slice(0,re),{...W[re],...j},...W.slice(re+1)]:[j,...W]})})})}),[Q]),Z.useEffect(()=>{if(_!=="system"){G(_);return}if(_==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;const j=window.matchMedia("(prefers-color-scheme: dark)");try{j.addEventListener("change",({matches:W})=>{G(W?"dark":"light")})}catch{j.addListener(({matches:re})=>{try{G(re?"dark":"light")}catch(fe){console.error(fe)}})}},[_]),Z.useEffect(()=>{Q.length<=1&&ce(!1)},[Q]),Z.useEffect(()=>{const j=W=>{var re;if(u.every(we=>W[we]||W.code===we)){var Ee;ce(!0),(Ee=F.current)==null||Ee.focus()}W.code==="Escape"&&(document.activeElement===F.current||(re=F.current)!=null&&re.contains(document.activeElement))&&ce(!1)};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[u]),Z.useEffect(()=>{if(F.current)return()=>{J.current&&(J.current.focus({preventScroll:!0}),J.current=null,R.current=!1)}},[F.current]),Z.createElement("section",{ref:n,"aria-label":`${ee} ${ae}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},ne.map((j,W)=>{var re;const[fe,Ee]=j.split("-");return z.length?Z.createElement("ol",{key:j,dir:I==="auto"?fw():I,tabIndex:-1,ref:F,className:h,"data-sonner-toaster":!0,"data-sonner-theme":k,"data-y-position":fe,"data-x-position":Ee,style:{"--front-toast-height":`${((re=K[0])==null?void 0:re.height)||0}px`,"--width":`${t3}px`,"--gap":`${D}px`,...w,...o3(g,v)},onBlur:we=>{R.current&&!we.currentTarget.contains(we.relatedTarget)&&(R.current=!1,J.current&&(J.current.focus({preventScroll:!0}),J.current=null))},onFocus:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||R.current||(R.current=!0,J.current=we.relatedTarget)},onMouseEnter:()=>ce(!0),onMouseMove:()=>ce(!0),onMouseLeave:()=>{le||ce(!1)},onDragEnd:()=>ce(!1),onPointerDown:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||_e(!0)},onPointerUp:()=>_e(!1)},z.filter(we=>!we.position&&W===0||we.position===j).map((we,He)=>{var pt,Sn;return Z.createElement(a3,{key:we.id,icons:q,index:He,toast:we,defaultRichColors:b,duration:(pt=x==null?void 0:x.duration)!=null?pt:S,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:a,visibleToasts:T,closeButton:(Sn=x==null?void 0:x.closeButton)!=null?Sn:f,interacting:le,position:j,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,closeButtonAriaLabel:x==null?void 0:x.closeButtonAriaLabel,removeToast:N,toasts:z.filter(dn=>dn.position==we.position),heights:K.filter(dn=>dn.position==we.position),setHeights:te,expandByDefault:d,gap:D,expanded:se,swipeDirections:e.swipeDirections})})):null}))}),u3=1800*1e3,c3=()=>{const{user:t,logout:e}=R_(),n=$.useRef(null),r=$.useRef(Date.now()),a=$.useCallback(async()=>{t.id&&(JL.info("Session expired due to inactivity",{description:"You have been logged out for security."}),await e())},[t.id,e]),o=$.useCallback(()=>{!t.id||t.id.startsWith("mock-")||(r.current=Date.now(),n.current&&clearTimeout(n.current),n.current=setTimeout(a,u3))},[t.id,a]);$.useEffect(()=>{if(!t.id||t.id.startsWith("mock-"))return;const u=["mousedown","mousemove","keydown","scroll","touchstart","click"];let d=null;const f=()=>{d||(o(),d=setTimeout(()=>{d=null},1e3))};return o(),u.forEach(h=>{window.addEventListener(h,f)}),()=>{n.current&&clearTimeout(n.current),d&&clearTimeout(d),u.forEach(h=>{window.removeEventListener(h,f)})}},[t.id,o])},d3=({children:t})=>{const{user:e,loading:n}=R_(),r=Zr();return n?null:e.id?t:Oe.jsx(Ou,{to:"/login",state:{from:r},replace:!0})},f3=$.lazy(()=>Qn(()=>import("./LoginPage-Bn0RLXIJ.js"),__vite__mapDeps([0,1,2]))),h3=$.lazy(()=>Qn(()=>import("./MobileDashboard-Bo8RxFSR.js").then(t=>t.e),__vite__mapDeps([3,4,1])));$.lazy(()=>Qn(()=>import("./OnboardingFlow-YMNdJgQg.js").then(t=>t.b),__vite__mapDeps([4,1])));const p3=$.lazy(()=>Qn(()=>import("./PrivacyPolicy-zQpqffPx.js"),__vite__mapDeps([5,2]))),m3=$.lazy(()=>Qn(()=>import("./TermsOfService-hAIbov7d.js"),__vite__mapDeps([6,2]))),g3=$.lazy(()=>Qn(()=>import("./CookiesPage-D4i_wChc.js"),__vite__mapDeps([7,2]))),v3=()=>{const{user:t,language:e,loading:n}=R_();c3();const[r,a]=$.useState(!1);return $.useEffect(()=>{const o=setTimeout(()=>{n&&(console.warn("MobileApp: Loading state timed out. Forcing render."),a(!0))},8e3);return()=>clearTimeout(o)},[n]),$.useEffect(()=>{const u=new URLSearchParams(window.location.search).get("ref");u&&localStorage.setItem("kolink_referral_code",u)},[]),n&&!r?Oe.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:Oe.jsx("div",{className:"flex flex-col items-center gap-4",children:Oe.jsx("div",{className:"w-12 h-12 border-4 border-brand-200 border-t-brand-600 rounded-full animate-spin"})})}):Oe.jsxs(Oe.Fragment,{children:[Oe.jsx(l3,{position:"top-center",richColors:!0}),Oe.jsxs(OI,{children:[Oe.jsx(gs,{path:"/",element:t.id&&!t.id.startsWith("mock-")?Oe.jsx(Ou,{to:"/dashboard",replace:!0}):Oe.jsx(Ou,{to:"/login",replace:!0})}),Oe.jsx(gs,{path:"/login",element:t.id&&!t.id.startsWith("mock-")?Oe.jsx(Ou,{to:"/dashboard",replace:!0}):Oe.jsx(f3,{})}),Oe.jsx(gs,{path:"/privacy",element:Oe.jsx(p3,{language:e})}),Oe.jsx(gs,{path:"/terms",element:Oe.jsx(m3,{language:e})}),Oe.jsx(gs,{path:"/cookies",element:Oe.jsx(g3,{language:e})}),Oe.jsx(gs,{path:"/dashboard",element:Oe.jsx(d3,{children:Oe.jsx(h3,{})})}),Oe.jsx(gs,{path:"*",element:Oe.jsx(Ou,{to:"/",replace:!0})})]})]})},ge=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ye=globalThis,pa="10.31.0";function Ra(){return mh(Ye),Ye}function mh(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||pa,e[pa]=e[pa]||{}}function cl(t,e,n=Ye){const r=n.__SENTRY__=n.__SENTRY__||{},a=r[pa]=r[pa]||{};return a[t]||(a[t]=e())}const _3=["debug","info","warn","error","log","assert","trace"],y3="Sentry Logger ",If={};function Aa(t){if(!("console"in Ye))return t();const e=Ye.console,n={},r=Object.keys(If);r.forEach(a=>{const o=If[a];n[a]=e[a],e[a]=o});try{return t()}finally{r.forEach(a=>{e[a]=n[a]})}}function b3(){C_().enabled=!0}function S3(){C_().enabled=!1}function kx(){return C_().enabled}function E3(...t){A_("log",...t)}function w3(...t){A_("warn",...t)}function T3(...t){A_("error",...t)}function A_(t,...e){ge&&kx()&&Aa(()=>{Ye.console[t](`${y3}[${t}]:`,...e)})}function C_(){return ge?cl("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const ie={enable:b3,disable:S3,isEnabled:kx,log:E3,warn:w3,error:T3},Ox=50,ya="?",hw=/\(error: (.*)\)/,pw=/captureMessage|captureException/;function Mx(...t){const e=t.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,a=0)=>{const o=[],u=n.split(`
`);for(let d=r;d<u.length;d++){let f=u[d];f.length>1024&&(f=f.slice(0,1024));const h=hw.test(f)?f.replace(hw,"$1"):f;if(!h.match(/\S*Error: /)){for(const g of e){const v=g(h);if(v){o.push(v);break}}if(o.length>=Ox+a)break}}return R3(o.slice(a))}}function x3(t){return Array.isArray(t)?Mx(...t):t}function R3(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(Vd(e).function||"")&&e.pop(),e.reverse(),pw.test(Vd(e).function||"")&&(e.pop(),pw.test(Vd(e).function||"")&&e.pop()),e.slice(0,Ox).map(n=>({...n,filename:n.filename||Vd(e).filename,function:n.function||ya}))}function Vd(t){return t[t.length-1]||{}}const fg="<anonymous>";function Pi(t){try{return!t||typeof t!="function"?fg:t.name||fg}catch{return fg}}function mw(t){const e=t.exception;if(e){const n=[];try{return e.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}function Ix(t){return"__v_isVNode"in t&&t.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const vf={},gw={};function Os(t,e){vf[t]=vf[t]||[],vf[t].push(e)}function Ms(t,e){if(!gw[t]){gw[t]=!0;try{e()}catch(n){ge&&ie.error(`Error while instrumenting ${t}`,n)}}}function pr(t,e){const n=t&&vf[t];if(n)for(const r of n)try{r(e)}catch(a){ge&&ie.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Pi(r)}
Error:`,a)}}let hg=null;function Dx(t){const e="error";Os(e,t),Ms(e,A3)}function A3(){hg=Ye.onerror,Ye.onerror=function(t,e,n,r,a){return pr("error",{column:r,error:a,line:n,msg:t,url:e}),hg?hg.apply(this,arguments):!1},Ye.onerror.__SENTRY_INSTRUMENTED__=!0}let pg=null;function Nx(t){const e="unhandledrejection";Os(e,t),Ms(e,C3)}function C3(){pg=Ye.onunhandledrejection,Ye.onunhandledrejection=function(t){return pr("unhandledrejection",t),pg?pg.apply(this,arguments):!0},Ye.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Lx=Object.prototype.toString;function k_(t){switch(Lx.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Ui(t,Error)}}function dl(t,e){return Lx.call(t)===`[object ${e}]`}function Px(t){return dl(t,"ErrorEvent")}function vw(t){return dl(t,"DOMError")}function k3(t){return dl(t,"DOMException")}function Oi(t){return dl(t,"String")}function O_(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function Yo(t){return t===null||O_(t)||typeof t!="object"&&typeof t!="function"}function Ku(t){return dl(t,"Object")}function gh(t){return typeof Event<"u"&&Ui(t,Event)}function O3(t){return typeof Element<"u"&&Ui(t,Element)}function M3(t){return dl(t,"RegExp")}function fl(t){return!!(t!=null&&t.then&&typeof t.then=="function")}function I3(t){return Ku(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function Ui(t,e){try{return t instanceof e}catch{return!1}}function Ux(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue||t.__v_isVNode))}function M_(t){return typeof Request<"u"&&Ui(t,Request)}const I_=Ye,D3=80;function $n(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,a=[];let o=0,u=0;const d=" > ",f=d.length;let h;const g=Array.isArray(e)?e:e.keyAttrs,v=!Array.isArray(e)&&e.maxStringLength||D3;for(;n&&o++<r&&(h=N3(n,g),!(h==="html"||o>1&&u+a.length*f+h.length>=v));)a.push(h),u+=h.length,n=n.parentNode;return a.reverse().join(d)}catch{return"<unknown>"}}function N3(t,e){const n=t,r=[];if(!(n!=null&&n.tagName))return"";if(I_.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const a=e!=null&&e.length?e.filter(u=>n.getAttribute(u)).map(u=>[u,n.getAttribute(u)]):null;if(a!=null&&a.length)a.forEach(u=>{r.push(`[${u[0]}="${u[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const u=n.className;if(u&&Oi(u)){const d=u.split(/\s+/);for(const f of d)r.push(`.${f}`)}}const o=["aria-label","type","name","title","alt"];for(const u of o){const d=n.getAttribute(u);d&&r.push(`[${u}="${d}"]`)}return r.join("")}function hl(){try{return I_.document.location.href}catch{return""}}function $x(t){if(!I_.HTMLElement)return null;let e=t;const n=5;for(let r=0;r<n;r++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}function Pn(t,e,n){if(!(e in t))return;const r=t[e];if(typeof r!="function")return;const a=n(r);typeof a=="function"&&zx(a,r);try{t[e]=a}catch{ge&&ie.log(`Failed to replace method "${e}" in object`,t)}}function Zn(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch{ge&&ie.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function zx(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,Zn(t,"__sentry_original__",e)}catch{}}function D_(t){return t.__sentry_original__}function jx(t){if(k_(t))return{message:t.message,name:t.name,stack:t.stack,...yw(t)};if(gh(t)){const e={type:t.type,target:_w(t.target),currentTarget:_w(t.currentTarget),...yw(t)};return typeof CustomEvent<"u"&&Ui(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function _w(t){try{return O3(t)?$n(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function yw(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}else return{}}function L3(t){const e=Object.keys(jx(t));return e.sort(),e[0]?e.join(", "):"[object has no keys]"}function lv(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function bw(t,e){if(!Array.isArray(t))return"";const n=[];for(let r=0;r<t.length;r++){const a=t[r];try{Ux(a)?n.push(Ix(a)):n.push(String(a))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function _f(t,e,n=!1){return Oi(t)?M3(e)?e.test(t):Oi(e)?n?t===e:t.includes(e):!1:!1}function Mi(t,e=[],n=!1){return e.some(r=>_f(t,r,n))}function P3(){const t=Ye;return t.crypto||t.msCrypto}let mg;function U3(){return Math.random()*16}function Jn(t=P3()){try{if(t!=null&&t.randomUUID)return t.randomUUID().replace(/-/g,"")}catch{}return mg||(mg="10000000100040008000"+1e11),mg.replace(/[018]/g,e=>(e^(U3()&15)>>e/4).toString(16))}function Hx(t){var e,n;return(n=(e=t.exception)==null?void 0:e.values)==null?void 0:n[0]}function ua(t){const{message:e,event_id:n}=t;if(e)return e;const r=Hx(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function uv(t,e,n){const r=t.exception=t.exception||{},a=r.values=r.values||[],o=a[0]=a[0]||{};o.value||(o.value=e||""),o.type||(o.type="Error")}function Vo(t,e){const n=Hx(t);if(!n)return;const r={type:"generic",handled:!0},a=n.mechanism;if(n.mechanism={...r,...a,...e},e&&"data"in e){const o={...a==null?void 0:a.data,...e.data};n.mechanism.data=o}}function Sw(t){if($3(t))return!0;try{Zn(t,"__sentry_captured__",!0)}catch{}return!1}function $3(t){try{return t.__sentry_captured__}catch{}}const Bx=1e3;function Ca(){return Date.now()/Bx}function z3(){const{performance:t}=Ye;if(!(t!=null&&t.now)||!t.timeOrigin)return Ca;const e=t.timeOrigin;return()=>(e+t.now())/Bx}let Ew;function Vt(){return(Ew??(Ew=z3()))()}let gg;function j3(){var g;const{performance:t}=Ye;if(!(t!=null&&t.now))return[void 0,"none"];const e=3600*1e3,n=t.now(),r=Date.now(),a=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,o=a<e,u=(g=t.timing)==null?void 0:g.navigationStart,f=typeof u=="number"?Math.abs(u+n-r):e,h=f<e;return o||h?a<=f?[t.timeOrigin,"timeOrigin"]:[u,"navigationStart"]:[r,"dateNow"]}function zn(){return gg||(gg=j3()),gg[0]}function H3(t){const e=Vt(),n={sid:Jn(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>F3(n)};return t&&Xo(n,t),n}function Xo(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Vt(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Jn()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function B3(t,e){let n={};t.status==="ok"&&(n={status:"exited"}),Xo(t,n)}function F3(t){return{sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}}}function fc(t,e,n=2){if(!e||typeof e!="object"||n<=0)return e;if(t&&Object.keys(e).length===0)return t;const r={...t};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=fc(r[a],e[a],n-1));return r}function $i(){return Jn()}function Ii(){return Jn().substring(16)}const cv="_sentrySpan";function Ko(t,e){e?Zn(t,cv,e):delete t[cv]}function Df(t){return t[cv]}const q3=100;class Wr{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:$i(),sampleRand:Math.random()}}clone(){const e=new Wr;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._attributes={...this._attributes},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,Ko(e,Df(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Xo(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this.setTags({[e]:n})}setAttributes(e){return this._attributes={...this._attributes,...e},this._notifyScopeListeners(),this}setAttribute(e,n){return this.setAttributes({[e]:n})}removeAttribute(e){return e in this._attributes&&(delete this._attributes[e],this._notifyScopeListeners()),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e,r=n instanceof Wr?n.getScopeData():Ku(n)?e:void 0,{tags:a,attributes:o,extra:u,user:d,contexts:f,level:h,fingerprint:g=[],propagationContext:v}=r||{};return this._tags={...this._tags,...a},this._attributes={...this._attributes,...o},this._extra={...this._extra,...u},this._contexts={...this._contexts,...f},d&&Object.keys(d).length&&(this._user=d),h&&(this._level=h),g.length&&(this._fingerprint=g),v&&(this._propagationContext=v),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Ko(this,void 0),this._attachments=[],this.setPropagationContext({traceId:$i(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,n){var o;const r=typeof n=="number"?n:q3;if(r<=0)return this;const a={timestamp:Ca(),...e,message:e.message?lv(e.message,2048):e.message};return this._breadcrumbs.push(a),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),(o=this._client)==null||o.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Df(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=fc(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,n){const r=(n==null?void 0:n.event_id)||Jn();if(!this._client)return ge&&ie.warn("No client configured on scope - will not capture exception!"),r;const a=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:a,...n,event_id:r},this),r}captureMessage(e,n,r){const a=(r==null?void 0:r.event_id)||Jn();if(!this._client)return ge&&ie.warn("No client configured on scope - will not capture message!"),a;const o=(r==null?void 0:r.syntheticException)??new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:o,...r,event_id:a},this),a}captureEvent(e,n){const r=(n==null?void 0:n.event_id)||Jn();return this._client?(this._client.captureEvent(e,{...n,event_id:r},this),r):(ge&&ie.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function G3(){return cl("defaultCurrentScope",()=>new Wr)}function Y3(){return cl("defaultIsolationScope",()=>new Wr)}class V3{constructor(e,n){let r;e?r=e:r=new Wr;let a;n?a=n:a=new Wr,this._stack=[{scope:r}],this._isolationScope=a}withScope(e){const n=this._pushScope();let r;try{r=e(n)}catch(a){throw this._popScope(),a}return fl(r)?r.then(a=>(this._popScope(),a),a=>{throw this._popScope(),a}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Wo(){const t=Ra(),e=mh(t);return e.stack=e.stack||new V3(G3(),Y3())}function X3(t){return Wo().withScope(t)}function K3(t,e){const n=Wo();return n.withScope(()=>(n.getStackTop().scope=t,e(t)))}function ww(t){return Wo().withScope(()=>t(Wo().getIsolationScope()))}function W3(){return{withIsolationScope:ww,withScope:X3,withSetScope:K3,withSetIsolationScope:(t,e)=>ww(e),getCurrentScope:()=>Wo().getScope(),getIsolationScope:()=>Wo().getIsolationScope()}}function pl(t){const e=mh(t);return e.acs?e.acs:W3()}function it(){const t=Ra();return pl(t).getCurrentScope()}function ei(){const t=Ra();return pl(t).getIsolationScope()}function J3(){return cl("globalScope",()=>new Wr)}function vh(...t){const e=Ra(),n=pl(e);if(t.length===2){const[r,a]=t;return r?n.withSetScope(r,a):n.withScope(a)}return n.withScope(t[0])}function Fe(){return it().getClient()}function Q3(t){const e=t.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:a}=e,o={trace_id:n,span_id:a||Ii()};return r&&(o.parent_span_id=r),o}const Dr="sentry.source",N_="sentry.sample_rate",Fx="sentry.previous_trace_sample_rate",zi="sentry.op",Bt="sentry.origin",Wu="sentry.idle_span_finish_reason",hc="sentry.measurement_unit",pc="sentry.measurement_value",Tw="sentry.custom_span_name",L_="sentry.profile_id",ml="sentry.exclusive_time",Z3="sentry.link.type",e2=0,P_=1,jt=2;function t2(t){if(t<400&&t>=100)return{code:P_};if(t>=400&&t<500)switch(t){case 401:return{code:jt,message:"unauthenticated"};case 403:return{code:jt,message:"permission_denied"};case 404:return{code:jt,message:"not_found"};case 409:return{code:jt,message:"already_exists"};case 413:return{code:jt,message:"failed_precondition"};case 429:return{code:jt,message:"resource_exhausted"};case 499:return{code:jt,message:"cancelled"};default:return{code:jt,message:"invalid_argument"}}if(t>=500&&t<600)switch(t){case 501:return{code:jt,message:"unimplemented"};case 503:return{code:jt,message:"unavailable"};case 504:return{code:jt,message:"deadline_exceeded"};default:return{code:jt,message:"internal_error"}}return{code:jt,message:"internal_error"}}function qx(t,e){t.setAttribute("http.response.status_code",e);const n=t2(e);n.message!=="unknown_error"&&t.setStatus(n)}const Gx="_sentryScope",Yx="_sentryIsolationScope";function n2(t){try{const e=Ye.WeakRef;if(typeof e=="function")return new e(t)}catch{}return t}function r2(t){if(t){if(typeof t=="object"&&"deref"in t&&typeof t.deref=="function")try{return t.deref()}catch{return}return t}}function i2(t,e,n){t&&(Zn(t,Yx,n2(n)),Zn(t,Gx,e))}function Nf(t){const e=t;return{scope:e[Gx],isolationScope:r2(e[Yx])}}const U_="sentry-",s2=/^sentry-/,a2=8192;function Vx(t){const e=l2(t);if(!e)return;const n=Object.entries(e).reduce((r,[a,o])=>{if(a.match(s2)){const u=a.slice(U_.length);r[u]=o}return r},{});if(Object.keys(n).length>0)return n}function o2(t){if(!t)return;const e=Object.entries(t).reduce((n,[r,a])=>(a&&(n[`${U_}${r}`]=a),n),{});return u2(e)}function l2(t){if(!(!t||!Oi(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,n)=>{const r=xw(n);return Object.entries(r).forEach(([a,o])=>{e[a]=o}),e},{}):xw(t)}function xw(t){return t.split(",").map(e=>{const n=e.indexOf("=");if(n===-1)return[];const r=e.slice(0,n),a=e.slice(n+1);return[r,a].map(o=>{try{return decodeURIComponent(o.trim())}catch{return}})}).reduce((e,[n,r])=>(n&&r&&(e[n]=r),e),{})}function u2(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[n,r],a)=>{const o=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,u=a===0?o:`${e},${o}`;return u.length>a2?(ge&&ie.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),e):u},"")}const c2=/^o(\d+)\./,d2=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function f2(t){return t==="http"||t==="https"}function gl(t,e=!1){const{host:n,path:r,pass:a,port:o,projectId:u,protocol:d,publicKey:f}=t;return`${d}://${f}${e&&a?`:${a}`:""}@${n}${o?`:${o}`:""}/${r&&`${r}/`}${u}`}function h2(t){const e=d2.exec(t);if(!e){Aa(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}const[n,r,a="",o="",u="",d=""]=e.slice(1);let f="",h=d;const g=h.split("/");if(g.length>1&&(f=g.slice(0,-1).join("/"),h=g.pop()),h){const v=h.match(/^\d+/);v&&(h=v[0])}return Xx({host:o,pass:a,path:f,projectId:h,port:u,protocol:n,publicKey:r})}function Xx(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function p2(t){if(!ge)return!0;const{port:e,projectId:n,protocol:r}=t;return["protocol","publicKey","host","projectId"].find(u=>t[u]?!1:(ie.error(`Invalid Sentry Dsn: ${u} missing`),!0))?!1:n.match(/^\d+$/)?f2(r)?e&&isNaN(parseInt(e,10))?(ie.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(ie.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(ie.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function m2(t){const e=t.match(c2);return e==null?void 0:e[1]}function g2(t){const e=t.getOptions(),{host:n}=t.getDsn()||{};let r;return e.orgId?r=String(e.orgId):n&&(r=m2(n)),r}function v2(t){const e=typeof t=="string"?h2(t):Xx(t);if(!(!e||!p2(e)))return e}function ba(t){if(typeof t=="boolean")return Number(t);const e=typeof t=="string"?parseFloat(t):t;if(!(typeof e!="number"||isNaN(e)||e<0||e>1))return e}const Kx=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function _2(t){if(!t)return;const e=t.match(Kx);if(!e)return;let n;return e[3]==="1"?n=!0:e[3]==="0"&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}function y2(t,e){const n=_2(t),r=Vx(e);if(!(n!=null&&n.traceId))return{traceId:$i(),sampleRand:Math.random()};const a=b2(n,r);r&&(r.sample_rand=a.toString());const{traceId:o,parentSpanId:u,parentSampled:d}=n;return{traceId:o,parentSpanId:u,sampled:d,dsc:r||{},sampleRand:a}}function Wx(t=$i(),e=Ii(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${t}-${e}${r}`}function Jx(t=$i(),e=Ii(),n){return`00-${t}-${e}-${n?"01":"00"}`}function b2(t,e){const n=ba(e==null?void 0:e.sample_rand);if(n!==void 0)return n;const r=ba(e==null?void 0:e.sample_rate);return r&&(t==null?void 0:t.parentSampled)!==void 0?t.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}const Qx=0,$_=1;let Rw=!1;function S2(t){const{spanId:e,traceId:n}=t.spanContext(),{data:r,op:a,parent_span_id:o,status:u,origin:d,links:f}=Xe(t);return{parent_span_id:o,span_id:e,trace_id:n,data:r,op:a,status:u,origin:d,links:f}}function E2(t){const{spanId:e,traceId:n,isRemote:r}=t.spanContext(),a=r?e:Xe(t).parent_span_id,o=Nf(t).scope,u=r?(o==null?void 0:o.getPropagationContext().propagationSpanId)||Ii():e;return{parent_span_id:a,span_id:u,trace_id:n}}function w2(t){const{traceId:e,spanId:n}=t.spanContext(),r=Is(t);return Wx(e,n,r)}function T2(t){const{traceId:e,spanId:n}=t.spanContext(),r=Is(t);return Jx(e,n,r)}function Zx(t){if(t&&t.length>0)return t.map(({context:{spanId:e,traceId:n,traceFlags:r,...a},attributes:o})=>({span_id:e,trace_id:n,sampled:r===$_,attributes:o,...a}))}function ma(t){return typeof t=="number"?Aw(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?Aw(t.getTime()):Vt()}function Aw(t){return t>9999999999?t/1e3:t}function Xe(t){var r;if(R2(t))return t.getSpanJSON();const{spanId:e,traceId:n}=t.spanContext();if(x2(t)){const{attributes:a,startTime:o,name:u,endTime:d,status:f,links:h}=t,g="parentSpanId"in t?t.parentSpanId:"parentSpanContext"in t?(r=t.parentSpanContext)==null?void 0:r.spanId:void 0;return{span_id:e,trace_id:n,data:a,description:u,parent_span_id:g,start_timestamp:ma(o),timestamp:ma(d)||void 0,status:eR(f),op:a[zi],origin:a[Bt],links:Zx(h)}}return{span_id:e,trace_id:n,start_timestamp:0,data:{}}}function x2(t){const e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}function R2(t){return typeof t.getSpanJSON=="function"}function Is(t){const{traceFlags:e}=t.spanContext();return e===$_}function eR(t){if(!(!t||t.code===e2))return t.code===P_?"ok":t.message||"internal_error"}const ga="_sentryChildSpans",dv="_sentryRootSpan";function tR(t,e){const n=t[dv]||t;Zn(e,dv,n),t[ga]?t[ga].add(e):Zn(t,ga,new Set([e]))}function A2(t,e){t[ga]&&t[ga].delete(e)}function yf(t){const e=new Set;function n(r){if(!e.has(r)&&Is(r)){e.add(r);const a=r[ga]?Array.from(r[ga]):[];for(const o of a)n(o)}}return n(t),Array.from(e)}function cn(t){return t[dv]||t}function bn(){const t=Ra(),e=pl(t);return e.getActiveSpan?e.getActiveSpan():Df(it())}function fv(){Rw||(Aa(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),Rw=!0)}let Cw=!1;function C2(){if(Cw)return;function t(){const e=bn(),n=e&&cn(e);if(n){const r="internal_error";ge&&ie.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:jt,message:r})}}t.tag="sentry_tracingErrorCallback",Cw=!0,Dx(t),Nx(t)}function Nr(t){var n;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=t||((n=Fe())==null?void 0:n.getOptions());return!!e&&(e.tracesSampleRate!=null||!!e.tracesSampler)}function kw(t){ie.log(`Ignoring span ${t.op} - ${t.description} because it matches \`ignoreSpans\`.`)}function Lf(t,e){if(!(e!=null&&e.length)||!t.description)return!1;for(const n of e){if(O2(n)){if(_f(t.description,n))return ge&&kw(t),!0;continue}if(!n.name&&!n.op)continue;const r=n.name?_f(t.description,n.name):!0,a=n.op?t.op&&_f(t.op,n.op):!0;if(r&&a)return ge&&kw(t),!0}return!1}function k2(t,e){const n=e.parent_span_id,r=e.span_id;if(n)for(const a of t)a.parent_span_id===r&&(a.parent_span_id=n)}function O2(t){return typeof t=="string"||t instanceof RegExp}const z_="production",nR="_frozenDsc";function bf(t,e){Zn(t,nR,e)}function rR(t,e){const n=e.getOptions(),{publicKey:r}=e.getDsn()||{},a={environment:n.environment||z_,release:n.release,public_key:r,trace_id:t,org_id:g2(e)};return e.emit("createDsc",a),a}function iR(t,e){const n=e.getPropagationContext();return n.dsc||rR(n.traceId,t)}function ji(t){var S;const e=Fe();if(!e)return{};const n=cn(t),r=Xe(n),a=r.data,o=n.spanContext().traceState,u=(o==null?void 0:o.get("sentry.sample_rate"))??a[N_]??a[Fx];function d(w){return(typeof u=="number"||typeof u=="string")&&(w.sample_rate=`${u}`),w}const f=n[nR];if(f)return d(f);const h=o==null?void 0:o.get("sentry.dsc"),g=h&&Vx(h);if(g)return d(g);const v=rR(t.spanContext().traceId,e),_=a[Dr],b=r.description;return _!=="url"&&b&&(v.transaction=b),Nr()&&(v.sampled=String(Is(n)),v.sample_rand=(o==null?void 0:o.get("sentry.sample_rand"))??((S=Nf(n).scope)==null?void 0:S.getPropagationContext().sampleRand.toString())),d(v),e.emit("createDsc",v,n),v}class As{constructor(e={}){this._traceId=e.traceId||$i(),this._spanId=e.spanId||Ii()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Qx}}end(e){}setAttribute(e,n){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,n,r){return this}addLink(e){return this}addLinks(e){return this}recordException(e,n){}}function Or(t,e=100,n=1/0){try{return hv("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function sR(t,e=3,n=100*1024){const r=Or(t,e);return N2(r)>n?sR(t,e-1,n):r}function hv(t,e,n=1/0,r=1/0,a=L2()){const[o,u]=a;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const d=M2(t,e);if(!d.startsWith("[object "))return d;if(e.__sentry_skip_normalization__)return e;const f=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(f===0)return d.replace("object ","");if(o(e))return"[Circular ~]";const h=e;if(h&&typeof h.toJSON=="function")try{const b=h.toJSON();return hv("",b,f-1,r,a)}catch{}const g=Array.isArray(e)?[]:{};let v=0;const _=jx(e);for(const b in _){if(!Object.prototype.hasOwnProperty.call(_,b))continue;if(v>=r){g[b]="[MaxProperties ~]";break}const S=_[b];g[b]=hv(b,S,f-1,r,a),v++}return u(e),g}function M2(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(Ux(e))return Ix(e);if(I3(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${Pi(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const n=I2(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function I2(t){const e=Object.getPrototypeOf(t);return e!=null&&e.constructor?e.constructor.name:"null prototype"}function D2(t){return~-encodeURI(t).split(/%..|./).length}function N2(t){return D2(JSON.stringify(t))}function L2(){const t=new WeakSet;function e(r){return t.has(r)?!0:(t.add(r),!1)}function n(r){t.delete(r)}return[e,n]}function Ds(t,e=[]){return[t,e]}function P2(t,e){const[n,r]=t;return[n,[...r,e]]}function Ow(t,e){const n=t[1];for(const r of n){const a=r[0].type;if(e(r,a))return!0}return!1}function pv(t){const e=mh(Ye);return e.encodePolyfill?e.encodePolyfill(t):new TextEncoder().encode(t)}function U2(t){const[e,n]=t;let r=JSON.stringify(e);function a(o){typeof r=="string"?r=typeof o=="string"?r+o:[pv(r),o]:r.push(typeof o=="string"?pv(o):o)}for(const o of n){const[u,d]=o;if(a(`
${JSON.stringify(u)}
`),typeof d=="string"||d instanceof Uint8Array)a(d);else{let f;try{f=JSON.stringify(d)}catch{f=JSON.stringify(Or(d))}a(f)}}return typeof r=="string"?r:$2(r)}function $2(t){const e=t.reduce((a,o)=>a+o.length,0),n=new Uint8Array(e);let r=0;for(const a of t)n.set(a,r),r+=a.length;return n}function z2(t){return[{type:"span"},t]}function j2(t){const e=typeof t.data=="string"?pv(t.data):t.data;return[{type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType},e]}const H2={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function Mw(t){return H2[t]}function j_(t){if(!(t!=null&&t.sdk))return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function aR(t,e,n,r){var o;const a=(o=t.sdkProcessingMetadata)==null?void 0:o.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!n&&r&&{dsn:gl(r)},...a&&{trace:a}}}function B2(t,e){var r,a,o,u;if(!e)return t;const n=t.sdk||{};return t.sdk={...n,name:n.name||e.name,version:n.version||e.version,integrations:[...((r=t.sdk)==null?void 0:r.integrations)||[],...e.integrations||[]],packages:[...((a=t.sdk)==null?void 0:a.packages)||[],...e.packages||[]],settings:(o=t.sdk)!=null&&o.settings||e.settings?{...(u=t.sdk)==null?void 0:u.settings,...e.settings}:void 0},t}function F2(t,e,n,r){const a=j_(n),o={sent_at:new Date().toISOString(),...a&&{sdk:a},...!!r&&e&&{dsn:gl(e)}},u="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return Ds(o,[u])}function q2(t,e,n,r){const a=j_(n),o=t.type&&t.type!=="replay_event"?t.type:"event";B2(t,n==null?void 0:n.sdk);const u=aR(t,a,r,e);return delete t.sdkProcessingMetadata,Ds(u,[[{type:o},t]])}function G2(t,e){function n(b){return!!b.trace_id&&!!b.public_key}const r=ji(t[0]),a=e==null?void 0:e.getDsn(),o=e==null?void 0:e.getOptions().tunnel,u={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!o&&a&&{dsn:gl(a)}},{beforeSendSpan:d,ignoreSpans:f}=(e==null?void 0:e.getOptions())||{},h=f!=null&&f.length?t.filter(b=>!Lf(Xe(b),f)):t,g=t.length-h.length;g&&(e==null||e.recordDroppedEvent("before_send","span",g));const v=d?b=>{const S=Xe(b),w=d(S);return w||(fv(),S)}:Xe,_=[];for(const b of h){const S=v(b);S&&_.push(z2(S))}return Ds(u,_)}function Y2(t){if(!ge)return;const{description:e="< unknown name >",op:n="< unknown op >",parent_span_id:r}=Xe(t),{spanId:a}=t.spanContext(),o=Is(t),u=cn(t),d=u===t,f=`[Tracing] Starting ${o?"sampled":"unsampled"} ${d?"root ":""}span`,h=[`op: ${n}`,`name: ${e}`,`ID: ${a}`];if(r&&h.push(`parent ID: ${r}`),!d){const{op:g,description:v}=Xe(u);h.push(`root ID: ${u.spanContext().spanId}`),g&&h.push(`root op: ${g}`),v&&h.push(`root description: ${v}`)}ie.log(`${f}
  ${h.join(`
  `)}`)}function V2(t){if(!ge)return;const{description:e="< unknown name >",op:n="< unknown op >"}=Xe(t),{spanId:r}=t.spanContext(),o=cn(t)===t,u=`[Tracing] Finishing "${n}" ${o?"root ":""}span "${e}" with ID ${r}`;ie.log(u)}function X2(t,e,n,r=bn()){const a=r&&cn(r);a&&(ge&&ie.log(`[Measurement] Setting measurement on root span: ${t} = ${e} ${n}`),a.addEvent(t,{[pc]:e,[hc]:n}))}function Iw(t){if(!t||t.length===0)return;const e={};return t.forEach(n=>{const r=n.attributes||{},a=r[hc],o=r[pc];typeof a=="string"&&typeof o=="number"&&(e[n.name]={value:o,unit:a})}),e}const Dw=1e3;class _h{constructor(e={}){this._traceId=e.traceId||$i(),this._spanId=e.spanId||Ii(),this._startTime=e.startTimestamp||Vt(),this._links=e.links,this._attributes={},this.setAttributes({[Bt]:"manual",[zi]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,n){}spanContext(){const{_spanId:e,_traceId:n,_sampled:r}=this;return{spanId:e,traceId:n,traceFlags:r?$_:Qx}}setAttribute(e,n){return n===void 0?delete this._attributes[e]:this._attributes[e]=n,this}setAttributes(e){return Object.keys(e).forEach(n=>this.setAttribute(n,e[n])),this}updateStartTime(e){this._startTime=ma(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(Dr,"custom"),this}end(e){this._endTime||(this._endTime=ma(e),V2(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[zi],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:eR(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Bt],profile_id:this._attributes[L_],exclusive_time:this._attributes[ml],measurements:Iw(this._events),is_segment:this._isStandaloneSpan&&cn(this)===this||void 0,segment_id:this._isStandaloneSpan?cn(this).spanContext().spanId:void 0,links:Zx(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,n,r){ge&&ie.log("[Tracing] Adding an event to span:",e);const a=Nw(n)?n:r||Vt(),o=Nw(n)?{}:n||{},u={name:e,time:ma(a),attributes:o};return this._events.push(u),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=Fe();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===cn(this)))return;if(this._isStandaloneSpan){this._sampled?W2(G2([this],e)):(ge&&ie.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(Nf(this).scope||it()).captureEvent(r)}_convertSpanToTransaction(){var g;if(!Lw(Xe(this)))return;this._name||(ge&&ie.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:n}=Nf(this),r=(g=e==null?void 0:e.getScopeData().sdkProcessingMetadata)==null?void 0:g.normalizedRequest;if(this._sampled!==!0)return;const o=yf(this).filter(v=>v!==this&&!K2(v)).map(v=>Xe(v)).filter(Lw),u=this._attributes[Dr];delete this._attributes[Tw],o.forEach(v=>{delete v.data[Tw]});const d={contexts:{trace:S2(this)},spans:o.length>Dw?o.sort((v,_)=>v.start_timestamp-_.start_timestamp).slice(0,Dw):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:n,dynamicSamplingContext:ji(this)},request:r,...u&&{transaction_info:{source:u}}},f=Iw(this._events);return f&&Object.keys(f).length&&(ge&&ie.log("[Measurements] Adding measurements to transaction event",JSON.stringify(f,void 0,2)),d.measurements=f),d}}function Nw(t){return t&&typeof t=="number"||t instanceof Date||Array.isArray(t)}function Lw(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}function K2(t){return t instanceof _h&&t.isStandaloneSpan()}function W2(t){const e=Fe();if(!e)return;const n=t[1];if(!n||n.length===0){e.recordDroppedEvent("before_send","span");return}e.sendEnvelope(t)}function J2(t,e,n=()=>{},r=()=>{}){let a;try{a=t()}catch(o){throw e(o),n(),o}return Q2(a,e,n,r)}function Q2(t,e,n,r){return fl(t)?t.then(a=>(n(),r(a),a),a=>{throw e(a),n(),a}):(n(),r(t),t)}function Z2(t,e,n){if(!Nr(t))return[!1];let r,a;typeof t.tracesSampler=="function"?(a=t.tracesSampler({...e,inheritOrSampleWith:d=>typeof e.parentSampleRate=="number"?e.parentSampleRate:typeof e.parentSampled=="boolean"?Number(e.parentSampled):d}),r=!0):e.parentSampled!==void 0?a=e.parentSampled:typeof t.tracesSampleRate<"u"&&(a=t.tracesSampleRate,r=!0);const o=ba(a);if(o===void 0)return ge&&ie.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(a)} of type ${JSON.stringify(typeof a)}.`),[!1];if(!o)return ge&&ie.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,o,r];const u=n<o;return u||ge&&ie.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(a)})`),[u,o,r]}const oR="__SENTRY_SUPPRESS_TRACING__";function eP(t,e){const n=B_();if(n.startSpan)return n.startSpan(t,e);const r=uR(t),{forceTransaction:a,parentSpan:o,scope:u}=t,d=u==null?void 0:u.clone();return vh(d,()=>nP(o)(()=>{const h=it(),g=cR(h,o),_=t.onlyIfParent&&!g?new As:lR({parentSpan:g,spanArguments:r,forceTransaction:a,scope:h});return Ko(h,_),J2(()=>e(_),()=>{const{status:b}=Xe(_);_.isRecording()&&(!b||b==="ok")&&_.setStatus({code:jt,message:"internal_error"})},()=>{_.end()})}))}function vl(t){const e=B_();if(e.startInactiveSpan)return e.startInactiveSpan(t);const n=uR(t),{forceTransaction:r,parentSpan:a}=t;return(t.scope?u=>vh(t.scope,u):a!==void 0?u=>H_(a,u):u=>u())(()=>{const u=it(),d=cR(u,a);return t.onlyIfParent&&!d?new As:lR({parentSpan:d,spanArguments:n,forceTransaction:r,scope:u})})}function H_(t,e){const n=B_();return n.withActiveSpan?n.withActiveSpan(t,e):vh(r=>(Ko(r,t||void 0),e(r)))}function lR({parentSpan:t,spanArguments:e,forceTransaction:n,scope:r}){if(!Nr()){const u=new As;if(n||!t){const d={sampled:"false",sample_rate:"0",transaction:e.name,...ji(u)};bf(u,d)}return u}const a=ei();let o;if(t&&!n)o=tP(t,r,e),tR(t,o);else if(t){const u=ji(t),{traceId:d,spanId:f}=t.spanContext(),h=Is(t);o=Pw({traceId:d,parentSpanId:f,...e},r,h),bf(o,u)}else{const{traceId:u,dsc:d,parentSpanId:f,sampled:h}={...a.getPropagationContext(),...r.getPropagationContext()};o=Pw({traceId:u,parentSpanId:f,...e},r,h),d&&bf(o,d)}return Y2(o),i2(o,r,a),o}function uR(t){const n={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){const r={...n};return r.startTimestamp=ma(t.startTime),delete r.startTime,r}return n}function B_(){const t=Ra();return pl(t)}function Pw(t,e,n){var S;const r=Fe(),a=(r==null?void 0:r.getOptions())||{},{name:o=""}=t,u={spanAttributes:{...t.attributes},spanName:o,parentSampled:n};r==null||r.emit("beforeSampling",u,{decision:!1});const d=u.parentSampled??n,f=u.spanAttributes,h=e.getPropagationContext(),[g,v,_]=e.getScopeData().sdkProcessingMetadata[oR]?[!1]:Z2(a,{name:o,parentSampled:d,attributes:f,parentSampleRate:ba((S=h.dsc)==null?void 0:S.sample_rate)},h.sampleRand),b=new _h({...t,attributes:{[Dr]:"custom",[N_]:v!==void 0&&_?v:void 0,...f},sampled:g});return!g&&r&&(ge&&ie.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",b),b}function tP(t,e,n){const{spanId:r,traceId:a}=t.spanContext(),o=e.getScopeData().sdkProcessingMetadata[oR]?!1:Is(t),u=o?new _h({...n,parentSpanId:r,traceId:a,sampled:o}):new As({traceId:a});tR(t,u);const d=Fe();return d&&(d.emit("spanStart",u),n.endTimestamp&&d.emit("spanEnd",u)),u}function cR(t,e){if(e)return e;if(e===null)return;const n=Df(t);if(!n)return;const r=Fe();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?cn(n):n}function nP(t){return t!==void 0?e=>H_(t,e):e=>e()}const Sf={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},rP="heartbeatFailed",iP="idleTimeout",sP="finalTimeout",aP="externalFinish";function dR(t,e={}){const n=new Map;let r=!1,a,o=aP,u=!e.disableAutoFinish;const d=[],{idleTimeout:f=Sf.idleTimeout,finalTimeout:h=Sf.finalTimeout,childSpanTimeout:g=Sf.childSpanTimeout,beforeSpanEnd:v,trimIdleSpanEndTimestamp:_=!0}=e,b=Fe();if(!b||!Nr()){const O=new As,z={sample_rate:"0",sampled:"false",...ji(O)};return bf(O,z),O}const S=it(),w=bn(),T=oP(t);T.end=new Proxy(T.end,{apply(O,z,ne){if(v&&v(T),z instanceof As)return;const[K,...te]=ne,se=K||Vt(),ce=ma(se),le=yf(T).filter(J=>J!==T),_e=Xe(T);if(!le.length||!_)return Q(ce),Reflect.apply(O,z,[ce,...te]);const k=b.getOptions().ignoreSpans,G=le==null?void 0:le.reduce((J,R)=>{const N=Xe(R);return!N.timestamp||k&&Lf(N,k)?J:J?Math.max(J,N.timestamp):N.timestamp},void 0),F=_e.start_timestamp,ae=Math.min(F?F+h/1e3:1/0,Math.max(F||-1/0,Math.min(ce,G||1/0)));return Q(ae),Reflect.apply(O,z,[ae,...te])}});function x(){a&&(clearTimeout(a),a=void 0)}function I(O){x(),a=setTimeout(()=>{!r&&n.size===0&&u&&(o=iP,T.end(O))},f)}function D(O){a=setTimeout(()=>{!r&&u&&(o=rP,T.end(O))},g)}function q(O){x(),n.set(O,!0);const z=Vt();D(z+g/1e3)}function ee(O){if(n.has(O)&&n.delete(O),n.size===0){const z=Vt();I(z+f/1e3)}}function Q(O){r=!0,n.clear(),d.forEach(le=>le()),Ko(S,w);const z=Xe(T),{start_timestamp:ne}=z;if(!ne)return;z.data[Wu]||T.setAttribute(Wu,o);const te=z.status;(!te||te==="unknown")&&T.setStatus({code:P_}),ie.log(`[Tracing] Idle span "${z.op}" finished`);const se=yf(T).filter(le=>le!==T);let ce=0;se.forEach(le=>{le.isRecording()&&(le.setStatus({code:jt,message:"cancelled"}),le.end(O),ge&&ie.log("[Tracing] Cancelling span since span ended early",JSON.stringify(le,void 0,2)));const _e=Xe(le),{timestamp:k=0,start_timestamp:G=0}=_e,F=G<=O,ae=(h+f)/1e3,J=k-G<=ae;if(ge){const R=JSON.stringify(le,void 0,2);F?J||ie.log("[Tracing] Discarding span since it finished after idle span final timeout",R):ie.log("[Tracing] Discarding span since it happened after idle span was finished",R)}(!J||!F)&&(A2(T,le),ce++)}),ce>0&&T.setAttribute("sentry.idle_span_discarded_spans",ce)}return d.push(b.on("spanStart",O=>{if(r||O===T||Xe(O).timestamp||O instanceof _h&&O.isStandaloneSpan())return;yf(T).includes(O)&&q(O.spanContext().spanId)})),d.push(b.on("spanEnd",O=>{r||ee(O.spanContext().spanId)})),d.push(b.on("idleSpanEnableAutoFinish",O=>{O===T&&(u=!0,I(),n.size&&D())})),e.disableAutoFinish||I(),setTimeout(()=>{r||(T.setStatus({code:jt,message:"deadline_exceeded"}),o=sP,T.end())},h),T}function oP(t){const e=vl(t);return Ko(it(),e),ge&&ie.log("[Tracing] Started span is an idle span"),e}const vg=0,Uw=1,$w=2;function yh(t){return new Ju(e=>{e(t)})}function F_(t){return new Ju((e,n)=>{n(t)})}class Ju{constructor(e){this._state=vg,this._handlers=[],this._runExecutor(e)}then(e,n){return new Ju((r,a)=>{this._handlers.push([!1,o=>{if(!e)r(o);else try{r(e(o))}catch(u){a(u)}},o=>{if(!n)a(o);else try{r(n(o))}catch(u){a(u)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new Ju((n,r)=>{let a,o;return this.then(u=>{o=!1,a=u,e&&e()},u=>{o=!0,a=u,e&&e()}).then(()=>{if(o){r(a);return}n(a)})})}_executeHandlers(){if(this._state===vg)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===Uw&&n[1](this._value),this._state===$w&&n[2](this._value),n[0]=!0)})}_runExecutor(e){const n=(o,u)=>{if(this._state===vg){if(fl(u)){u.then(r,a);return}this._state=o,this._value=u,this._executeHandlers()}},r=o=>{n(Uw,o)},a=o=>{n($w,o)};try{e(r,a)}catch(o){a(o)}}}function lP(t,e,n,r=0){try{const a=mv(e,n,t,r);return fl(a)?a:yh(a)}catch(a){return F_(a)}}function mv(t,e,n,r){const a=n[r];if(!t||!a)return t;const o=a({...t},e);return ge&&o===null&&ie.log(`Event processor "${a.id||"?"}" dropped event`),fl(o)?o.then(u=>mv(u,e,n,r+1)):mv(o,e,n,r+1)}function uP(t,e){const{fingerprint:n,span:r,breadcrumbs:a,sdkProcessingMetadata:o}=e;cP(t,e),r&&hP(t,r),pP(t,n),dP(t,a),fP(t,o)}function zw(t,e){const{extra:n,tags:r,user:a,contexts:o,level:u,sdkProcessingMetadata:d,breadcrumbs:f,fingerprint:h,eventProcessors:g,attachments:v,propagationContext:_,transactionName:b,span:S}=e;Xd(t,"extra",n),Xd(t,"tags",r),Xd(t,"user",a),Xd(t,"contexts",o),t.sdkProcessingMetadata=fc(t.sdkProcessingMetadata,d,2),u&&(t.level=u),b&&(t.transactionName=b),S&&(t.span=S),f.length&&(t.breadcrumbs=[...t.breadcrumbs,...f]),h.length&&(t.fingerprint=[...t.fingerprint,...h]),g.length&&(t.eventProcessors=[...t.eventProcessors,...g]),v.length&&(t.attachments=[...t.attachments,...v]),t.propagationContext={...t.propagationContext,..._}}function Xd(t,e,n){t[e]=fc(t[e],n,1)}function cP(t,e){const{extra:n,tags:r,user:a,contexts:o,level:u,transactionName:d}=e;Object.keys(n).length&&(t.extra={...n,...t.extra}),Object.keys(r).length&&(t.tags={...r,...t.tags}),Object.keys(a).length&&(t.user={...a,...t.user}),Object.keys(o).length&&(t.contexts={...o,...t.contexts}),u&&(t.level=u),d&&t.type!=="transaction"&&(t.transaction=d)}function dP(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}function fP(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function hP(t,e){t.contexts={trace:E2(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:ji(e),...t.sdkProcessingMetadata};const n=cn(e),r=Xe(n).description;r&&!t.transaction&&t.type==="transaction"&&(t.transaction=r)}function pP(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint.length||delete t.fingerprint}let Ei,jw,Hw,hs;function mP(t){const e=Ye._sentryDebugIds,n=Ye._debugIds;if(!e&&!n)return{};const r=e?Object.keys(e):[],a=n?Object.keys(n):[];if(hs&&r.length===jw&&a.length===Hw)return hs;jw=r.length,Hw=a.length,hs={},Ei||(Ei={});const o=(u,d)=>{for(const f of u){const h=d[f],g=Ei==null?void 0:Ei[f];if(g&&hs&&h)hs[g[0]]=h,Ei&&(Ei[f]=[g[0],h]);else if(h){const v=t(f);for(let _=v.length-1;_>=0;_--){const b=v[_],S=b==null?void 0:b.filename;if(S&&hs&&Ei){hs[S]=h,Ei[f]=[S,h];break}}}}};return e&&o(r,e),n&&o(a,n),hs}function fR(t,e,n,r,a,o){const{normalizeDepth:u=3,normalizeMaxBreadth:d=1e3}=t,f={...e,event_id:e.event_id||n.event_id||Jn(),timestamp:e.timestamp||Ca()},h=n.integrations||t.integrations.map(T=>T.name);gP(f,t),yP(f,h),a&&a.emit("applyFrameMetadata",e),e.type===void 0&&vP(f,t.stackParser);const g=SP(r,n.captureContext);n.mechanism&&Vo(f,n.mechanism);const v=a?a.getEventProcessors():[],_=J3().getScopeData();if(o){const T=o.getScopeData();zw(_,T)}if(g){const T=g.getScopeData();zw(_,T)}const b=[...n.attachments||[],..._.attachments];b.length&&(n.attachments=b),uP(f,_);const S=[...v,..._.eventProcessors];return lP(S,f,n).then(T=>(T&&_P(T),typeof u=="number"&&u>0?bP(T,u,d):T))}function gP(t,e){var d,f;const{environment:n,release:r,dist:a,maxValueLength:o}=e;t.environment=t.environment||n||z_,!t.release&&r&&(t.release=r),!t.dist&&a&&(t.dist=a);const u=t.request;u!=null&&u.url&&o&&(u.url=lv(u.url,o)),o&&((f=(d=t.exception)==null?void 0:d.values)==null||f.forEach(h=>{h.value&&(h.value=lv(h.value,o))}))}function vP(t,e){var r,a;const n=mP(e);(a=(r=t.exception)==null?void 0:r.values)==null||a.forEach(o=>{var u,d;(d=(u=o.stacktrace)==null?void 0:u.frames)==null||d.forEach(f=>{f.filename&&(f.debug_id=n[f.filename])})})}function _P(t){var r,a;const e={};if((a=(r=t.exception)==null?void 0:r.values)==null||a.forEach(o=>{var u,d;(d=(u=o.stacktrace)==null?void 0:u.frames)==null||d.forEach(f=>{f.debug_id&&(f.abs_path?e[f.abs_path]=f.debug_id:f.filename&&(e[f.filename]=f.debug_id),delete f.debug_id)})}),Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.entries(e).forEach(([o,u])=>{n.push({type:"sourcemap",code_file:o,debug_id:u})})}function yP(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function bP(t,e,n){var a,o;if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(u=>({...u,...u.data&&{data:Or(u.data,e,n)}}))},...t.user&&{user:Or(t.user,e,n)},...t.contexts&&{contexts:Or(t.contexts,e,n)},...t.extra&&{extra:Or(t.extra,e,n)}};return(a=t.contexts)!=null&&a.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=Or(t.contexts.trace.data,e,n))),t.spans&&(r.spans=t.spans.map(u=>({...u,...u.data&&{data:Or(u.data,e,n)}}))),(o=t.contexts)!=null&&o.flags&&r.contexts&&(r.contexts.flags=Or(t.contexts.flags,3,n)),r}function SP(t,e){if(!e)return t;const n=t?t.clone():new Wr;return n.update(e),n}function EP(t){if(t)return wP(t)?{captureContext:t}:xP(t)?{captureContext:t}:t}function wP(t){return t instanceof Wr||typeof t=="function"}const TP=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function xP(t){return Object.keys(t).some(e=>TP.includes(e))}function hR(t,e){return it().captureException(t,EP(e))}function pR(t,e){return it().captureEvent(t,e)}function mR(t,e){ei().setContext(t,e)}function RP(){const t=Fe();return(t==null?void 0:t.getOptions().enabled)!==!1&&!!(t!=null&&t.getTransport())}function AP(t){ei().addEventProcessor(t)}function Bw(t){const e=ei(),n=it(),{userAgent:r}=Ye.navigator||{},a=H3({user:n.getUser()||e.getUser(),...r&&{userAgent:r},...t}),o=e.getSession();return(o==null?void 0:o.status)==="ok"&&Xo(o,{status:"exited"}),gR(),e.setSession(a),a}function gR(){const t=ei(),n=it().getSession()||t.getSession();n&&B3(n),vR(),t.setSession()}function vR(){const t=ei(),e=Fe(),n=t.getSession();n&&e&&e.captureSession(n)}function Fw(t=!1){if(t){gR();return}vR()}const CP="7";function kP(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function OP(t){return`${kP(t)}${t.projectId}/envelope/`}function MP(t,e){const n={sentry_version:CP};return t.publicKey&&(n.sentry_key=t.publicKey),e&&(n.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(n).toString()}function IP(t,e,n){return e||`${OP(t)}?${MP(t,n)}`}const qw=[];function DP(t){const e={};return t.forEach(n=>{const{name:r}=n,a=e[r];a&&!a.isDefaultInstance&&n.isDefaultInstance||(e[r]=n)}),Object.values(e)}function NP(t){const e=t.defaultIntegrations||[],n=t.integrations;e.forEach(a=>{a.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...e,...n];else if(typeof n=="function"){const a=n(e);r=Array.isArray(a)?a:[a]}else r=e;return DP(r)}function LP(t,e){const n={};return e.forEach(r=>{r&&_R(t,r,n)}),n}function Gw(t,e){for(const n of e)n!=null&&n.afterAllSetup&&n.afterAllSetup(t)}function _R(t,e,n){if(n[e.name]){ge&&ie.log(`Integration skipped because it was already installed: ${e.name}`);return}if(n[e.name]=e,!qw.includes(e.name)&&typeof e.setupOnce=="function"&&(e.setupOnce(),qw.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const r=e.preprocessEvent.bind(e);t.on("preprocessEvent",(a,o)=>r(a,o,t))}if(typeof e.processEvent=="function"){const r=e.processEvent.bind(e),a=Object.assign((o,u)=>r(o,u,t),{id:e.name});t.addEventProcessor(a)}ge&&ie.log(`Integration installed: ${e.name}`)}function PP(t){return[{type:"log",item_count:t.length,content_type:"application/vnd.sentry.items.log+json"},{items:t}]}function UP(t,e,n,r){const a={};return e!=null&&e.sdk&&(a.sdk={name:e.sdk.name,version:e.sdk.version}),n&&r&&(a.dsn=gl(r)),Ds(a,[PP(t)])}function yR(t,e){const n=e??$P(t)??[];if(n.length===0)return;const r=t.getOptions(),a=UP(n,r._metadata,r.tunnel,t.getDsn());bR().set(t,[]),t.emit("flushLogs"),t.sendEnvelope(a)}function $P(t){return bR().get(t)}function bR(){return cl("clientToLogBufferMap",()=>new WeakMap)}function zP(t){return[{type:"trace_metric",item_count:t.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:t}]}function jP(t,e,n,r){const a={};return e!=null&&e.sdk&&(a.sdk={name:e.sdk.name,version:e.sdk.version}),n&&r&&(a.dsn=gl(r)),Ds(a,[zP(t)])}function SR(t,e){const n=e??HP(t)??[];if(n.length===0)return;const r=t.getOptions(),a=jP(n,r._metadata,r.tunnel,t.getDsn());ER().set(t,[]),t.emit("flushMetrics"),t.sendEnvelope(a)}function HP(t){return ER().get(t)}function ER(){return cl("clientToMetricBufferMap",()=>new WeakMap)}const q_=Symbol.for("SentryBufferFullError");function G_(t=100){const e=new Set;function n(){return e.size<t}function r(u){e.delete(u)}function a(u){if(!n())return F_(q_);const d=u();return e.add(d),d.then(()=>r(d),()=>r(d)),d}function o(u){if(!e.size)return yh(!0);const d=Promise.allSettled(Array.from(e)).then(()=>!0);if(!u)return d;const f=[d,new Promise(h=>setTimeout(()=>h(!1),u))];return Promise.race(f)}return{get $(){return Array.from(e)},add:a,drain:o}}const BP=60*1e3;function FP(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${t}`);return isNaN(r)?BP:r-e}function qP(t,e){return t[e]||t.all||0}function wR(t,e,n=Date.now()){return qP(t,e)>n}function TR(t,{statusCode:e,headers:n},r=Date.now()){const a={...t},o=n==null?void 0:n["x-sentry-rate-limits"],u=n==null?void 0:n["retry-after"];if(o)for(const d of o.trim().split(",")){const[f,h,,,g]=d.split(":",5),v=parseInt(f,10),_=(isNaN(v)?60:v)*1e3;if(!h)a.all=r+_;else for(const b of h.split(";"))b==="metric_bucket"?(!g||g.split(";").includes("custom"))&&(a[b]=r+_):a[b]=r+_}else u?a.all=r+FP(u,r):e===429&&(a.all=r+60*1e3);return a}const xR=64;function GP(t,e,n=G_(t.bufferSize||xR)){let r={};const a=u=>n.drain(u);function o(u){const d=[];if(Ow(u,(v,_)=>{const b=Mw(_);wR(r,b)?t.recordDroppedEvent("ratelimit_backoff",b):d.push(v)}),d.length===0)return Promise.resolve({});const f=Ds(u[0],d),h=v=>{Ow(f,(_,b)=>{t.recordDroppedEvent(v,Mw(b))})},g=()=>e({body:U2(f)}).then(v=>(v.statusCode!==void 0&&(v.statusCode<200||v.statusCode>=300)&&ge&&ie.warn(`Sentry responded with status code ${v.statusCode} to sent event.`),r=TR(r,v),v),v=>{throw h("network_error"),ge&&ie.error("Encountered error running transport request:",v),v});return n.add(g).then(v=>v,v=>{if(v===q_)return ge&&ie.error("Skipped sending event because buffer is full."),h("queue_overflow"),Promise.resolve({});throw v})}return{send:o,flush:a}}function YP(t,e,n){const r=[{type:"client_report"},{timestamp:Ca(),discarded_events:t}];return Ds(e?{dsn:e}:{},[r])}function RR(t){const e=[];t.message&&e.push(t.message);try{const n=t.exception.values[t.exception.values.length-1];n!=null&&n.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`))}catch{}return e}function VP(t){var f;const{trace_id:e,parent_span_id:n,span_id:r,status:a,origin:o,data:u,op:d}=((f=t.contexts)==null?void 0:f.trace)??{};return{data:u??{},description:t.transaction,op:d,parent_span_id:n,span_id:r??"",start_timestamp:t.start_timestamp??0,status:a,timestamp:t.timestamp,trace_id:e??"",origin:o,profile_id:u==null?void 0:u[L_],exclusive_time:u==null?void 0:u[ml],measurements:t.measurements,is_segment:!0}}function XP(t){return{type:"transaction",timestamp:t.timestamp,start_timestamp:t.start_timestamp,transaction:t.description,contexts:{trace:{trace_id:t.trace_id,span_id:t.span_id,parent_span_id:t.parent_span_id,op:t.op,status:t.status,origin:t.origin,data:{...t.data,...t.profile_id&&{[L_]:t.profile_id},...t.exclusive_time&&{[ml]:t.exclusive_time}}}},measurements:t.measurements}}const Yw="Not capturing exception because it's already been captured.",Vw="Discarded session because of missing or non-string release",AR=Symbol.for("SentryInternalError"),CR=Symbol.for("SentryDoNotSendEventError"),KP=5e3;function Ef(t){return{message:t,[AR]:!0}}function _g(t){return{message:t,[CR]:!0}}function Xw(t){return!!t&&typeof t=="object"&&AR in t}function Kw(t){return!!t&&typeof t=="object"&&CR in t}function Ww(t,e,n,r,a){let o=0,u,d=!1;t.on(n,()=>{o=0,clearTimeout(u),d=!1}),t.on(e,f=>{o+=r(f),o>=8e5?a(t):d||(d=!0,u=setTimeout(()=>{a(t)},KP))}),t.on("flush",()=>{a(t)})}class WP{constructor(e){var r,a,o;if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=G_(((r=e.transportOptions)==null?void 0:r.bufferSize)??xR),e.dsn?this._dsn=v2(e.dsn):ge&&ie.warn("No DSN provided, client will not send events."),this._dsn){const u=IP(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:u})}this._options.enableLogs=this._options.enableLogs??((a=this._options._experiments)==null?void 0:a.enableLogs),this._options.enableLogs&&Ww(this,"afterCaptureLog","flushLogs",eU,yR),(this._options.enableMetrics??((o=this._options._experiments)==null?void 0:o.enableMetrics)??!0)&&Ww(this,"afterCaptureMetric","flushMetrics",ZP,SR)}captureException(e,n,r){const a=Jn();if(Sw(e))return ge&&ie.log(Yw),a;const o={event_id:a,...n};return this._process(()=>this.eventFromException(e,o).then(u=>this._captureEvent(u,o,r)).then(u=>u),"error"),o.event_id}captureMessage(e,n,r,a){const o={event_id:Jn(),...r},u=O_(e)?e:String(e),d=Yo(e),f=d?this.eventFromMessage(u,n,o):this.eventFromException(e,o);return this._process(()=>f.then(h=>this._captureEvent(h,o,a)),d?"unknown":"error"),o.event_id}captureEvent(e,n,r){const a=Jn();if(n!=null&&n.originalException&&Sw(n.originalException))return ge&&ie.log(Yw),a;const o={event_id:a,...n},u=e.sdkProcessingMetadata||{},d=u.capturedSpanScope,f=u.capturedSpanIsolationScope,h=Jw(e.type);return this._process(()=>this._captureEvent(e,o,d||r,f),h),o.event_id}captureSession(e){this.sendSession(e),Xo(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(e){const n=this._transport;if(!n)return!0;this.emit("flush");const r=await this._isClientDoneProcessing(e),a=await n.flush(e);return r&&a}async close(e){const n=await this.flush(e);return this.getOptions().enabled=!1,this.emit("close"),n}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const n=this._integrations[e.name];_R(this,e,this._integrations),n||Gw(this,[e])}sendEvent(e,n={}){this.emit("beforeSendEvent",e,n);let r=q2(e,this._dsn,this._options._metadata,this._options.tunnel);for(const a of n.attachments||[])r=P2(r,j2(a));this.sendEnvelope(r).then(a=>this.emit("afterSendEvent",e,a))}sendSession(e){const{release:n,environment:r=z_}=this._options;if("aggregates"in e){const o=e.attrs||{};if(!o.release&&!n){ge&&ie.warn(Vw);return}o.release=o.release||n,o.environment=o.environment||r,e.attrs=o}else{if(!e.release&&!n){ge&&ie.warn(Vw);return}e.release=e.release||n,e.environment=e.environment||r}this.emit("beforeSendSession",e);const a=F2(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(a)}recordDroppedEvent(e,n,r=1){if(this._options.sendClientReports){const a=`${e}:${n}`;ge&&ie.log(`Recording outcome: "${a}"${r>1?` (${r} times)`:""}`),this._outcomes[a]=(this._outcomes[a]||0)+r}}on(e,n){const r=this._hooks[e]=this._hooks[e]||new Set,a=(...o)=>n(...o);return r.add(a),()=>{r.delete(a)}}emit(e,...n){const r=this._hooks[e];r&&r.forEach(a=>a(...n))}async sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)try{return await this._transport.send(e)}catch(n){return ge&&ie.error("Error while sending envelope:",n),{}}return ge&&ie.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=LP(this,e),Gw(this,e)}_updateSessionFromEvent(e,n){var f,h;let r=n.level==="fatal",a=!1;const o=(f=n.exception)==null?void 0:f.values;if(o){a=!0,r=!1;for(const g of o)if(((h=g.mechanism)==null?void 0:h.handled)===!1){r=!0;break}}const u=e.status==="ok";(u&&e.errors===0||u&&r)&&(Xo(e,{...r&&{status:"crashed"},errors:e.errors||Number(a||r)}),this.captureSession(e))}async _isClientDoneProcessing(e){let n=0;for(;!e||n<e;){if(await new Promise(r=>setTimeout(r,1)),!this._numProcessing)return!0;n++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,n,r,a){const o=this.getOptions(),u=Object.keys(this._integrations);return!n.integrations&&(u!=null&&u.length)&&(n.integrations=u),this.emit("preprocessEvent",e,n),e.type||a.setLastEventId(e.event_id||n.event_id),fR(o,e,n,r,this,a).then(d=>{if(d===null)return d;this.emit("postprocessEvent",d,n),d.contexts={trace:Q3(r),...d.contexts};const f=iR(this,r);return d.sdkProcessingMetadata={dynamicSamplingContext:f,...d.sdkProcessingMetadata},d})}_captureEvent(e,n={},r=it(),a=ei()){return ge&&gv(e)&&ie.log(`Captured error event \`${RR(e)[0]||"<unknown>"}\``),this._processEvent(e,n,r,a).then(o=>o.event_id,o=>{ge&&(Kw(o)?ie.log(o.message):Xw(o)?ie.warn(o.message):ie.warn(o))})}_processEvent(e,n,r,a){const o=this.getOptions(),{sampleRate:u}=o,d=kR(e),f=gv(e),g=`before send for type \`${e.type||"error"}\``,v=typeof u>"u"?void 0:ba(u);if(f&&typeof v=="number"&&Math.random()>v)return this.recordDroppedEvent("sample_rate","error"),F_(_g(`Discarding event because it's not included in the random sample (sampling rate = ${u})`));const _=Jw(e.type);return this._prepareEvent(e,n,r,a).then(b=>{if(b===null)throw this.recordDroppedEvent("event_processor",_),_g("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return b;const w=QP(this,o,b,n);return JP(w,g)}).then(b=>{var T;if(b===null){if(this.recordDroppedEvent("before_send",_),d){const I=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",I)}throw _g(`${g} returned \`null\`, will not send event.`)}const S=r.getSession()||a.getSession();if(f&&S&&this._updateSessionFromEvent(S,b),d){const x=((T=b.sdkProcessingMetadata)==null?void 0:T.spanCountBeforeProcessing)||0,I=b.spans?b.spans.length:0,D=x-I;D>0&&this.recordDroppedEvent("before_send","span",D)}const w=b.transaction_info;if(d&&w&&b.transaction!==e.transaction){const x="custom";b.transaction_info={...w,source:x}}return this.sendEvent(b,n),b}).then(null,b=>{throw Kw(b)||Xw(b)?b:(this.captureException(b,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:b}),Ef(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${b}`))})}_process(e,n){this._numProcessing++,this._promiseBuffer.add(e).then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r===q_&&this.recordDroppedEvent("queue_overflow",n),r))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([n,r])=>{const[a,o]=n.split(":");return{reason:a,category:o,quantity:r}})}_flushOutcomes(){ge&&ie.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0){ge&&ie.log("No outcomes to send");return}if(!this._dsn){ge&&ie.log("No dsn provided, will not send outcomes");return}ge&&ie.log("Sending outcomes:",e);const n=YP(e,this._options.tunnel&&gl(this._dsn));this.sendEnvelope(n)}}function Jw(t){return t==="replay_event"?"replay":t||"error"}function JP(t,e){const n=`${e} must return \`null\` or a valid event.`;if(fl(t))return t.then(r=>{if(!Ku(r)&&r!==null)throw Ef(n);return r},r=>{throw Ef(`${e} rejected with ${r}`)});if(!Ku(t)&&t!==null)throw Ef(n);return t}function QP(t,e,n,r){const{beforeSend:a,beforeSendTransaction:o,beforeSendSpan:u,ignoreSpans:d}=e;let f=n;if(gv(f)&&a)return a(f,r);if(kR(f)){if(u||d){const h=VP(f);if(d!=null&&d.length&&Lf(h,d))return null;if(u){const g=u(h);g?f=fc(n,XP(g)):fv()}if(f.spans){const g=[],v=f.spans;for(const b of v){if(d!=null&&d.length&&Lf(b,d)){k2(v,b);continue}if(u){const S=u(b);S?g.push(S):(fv(),g.push(b))}else g.push(b)}const _=f.spans.length-g.length;_&&t.recordDroppedEvent("before_send","span",_),f.spans=g}}if(o){if(f.spans){const h=f.spans.length;f.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:h}}return o(f,r)}}return f}function gv(t){return t.type===void 0}function kR(t){return t.type==="transaction"}function ZP(t){let e=0;return t.name&&(e+=t.name.length*2),e+=8,e+OR(t.attributes)}function eU(t){let e=0;return t.message&&(e+=t.message.length*2),e+OR(t.attributes)}function OR(t){if(!t)return 0;let e=0;return Object.values(t).forEach(n=>{Array.isArray(n)?e+=n.length*Qw(n[0]):Yo(n)?e+=Qw(n):e+=100}),e}function Qw(t){return typeof t=="string"?t.length*2:typeof t=="number"?8:typeof t=="boolean"?4:0}function tU(t,e){e.debug===!0&&(ge?ie.enable():Aa(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),it().update(e.initialScope);const r=new t(e);return nU(r),r.init(),r}function nU(t){it().setClient(t)}const rU="thismessage:/";function Y_(t){return"isRelative"in t}function V_(t,e){const n=t.indexOf("://")<=0&&t.indexOf("//")!==0,r=n?rU:void 0;try{if("canParse"in URL&&!URL.canParse(t,r))return;const a=new URL(t,r);return n?{isRelative:n,pathname:a.pathname,search:a.search,hash:a.hash}:a}catch{}}function iU(t){if(Y_(t))return t.pathname;const e=new URL(t);return e.search="",e.hash="",["80","443"].includes(e.port)&&(e.port=""),e.password&&(e.password="%filtered%"),e.username&&(e.username="%filtered%"),e.toString()}function va(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}function sU(t){return t.split(/[?#]/,1)[0]}function aU(t,e){const n=e==null?void 0:e.getDsn(),r=e==null?void 0:e.getOptions().tunnel;return lU(t,n)||oU(t,r)}function oU(t,e){return e?Zw(t)===Zw(e):!1}function lU(t,e){const n=V_(t);return!n||Y_(n)?!1:e?n.host.includes(e.host)&&/(^|&|\?)sentry_key=/.test(n.search):!1}function Zw(t){return t[t.length-1]==="/"?t.slice(0,-1):t}function uU(t){var e;"aggregates"in t?((e=t.attrs)==null?void 0:e.ip_address)===void 0&&(t.attrs={...t.attrs,ip_address:"{{auto}}"}):t.ipAddress===void 0&&(t.ipAddress="{{auto}}")}function MR(t,e,n=[e],r="npm"){const a=t._metadata||{};a.sdk||(a.sdk={name:`sentry.javascript.${e}`,packages:n.map(o=>({name:`${r}:@sentry/${o}`,version:pa})),version:pa}),t._metadata=a}function IR(t={}){const e=t.client||Fe();if(!RP()||!e)return{};const n=Ra(),r=pl(n);if(r.getTraceData)return r.getTraceData(t);const a=t.scope||it(),o=t.span||bn(),u=o?w2(o):cU(a),d=o?ji(o):iR(e,a),f=o2(d);if(!Kx.test(u))return ie.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const g={"sentry-trace":u,baggage:f};return t.propagateTraceparent&&(g.traceparent=o?T2(o):dU(a)),g}function cU(t){const{traceId:e,sampled:n,propagationSpanId:r}=t.getPropagationContext();return Wx(e,r,n)}function dU(t){const{traceId:e,sampled:n,propagationSpanId:r}=t.getPropagationContext();return Jx(e,r,n)}function fU(t,e,n){let r,a,o;const u=n!=null&&n.maxWait?Math.max(n.maxWait,e):0,d=(n==null?void 0:n.setTimeoutImpl)||setTimeout;function f(){return h(),r=t(),r}function h(){a!==void 0&&clearTimeout(a),o!==void 0&&clearTimeout(o),a=o=void 0}function g(){return a!==void 0||o!==void 0?f():r}function v(){return a&&clearTimeout(a),a=d(f,e),u&&o===void 0&&(o=d(f,u)),r}return v.cancel=h,v.flush=g,v}const hU=100;function Cs(t,e){const n=Fe(),r=ei();if(!n)return;const{beforeBreadcrumb:a=null,maxBreadcrumbs:o=hU}=n.getOptions();if(o<=0)return;const d={timestamp:Ca(),...t},f=a?Aa(()=>a(d,e)):d;f!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",f,e),r.addBreadcrumb(f,o))}let eT;const pU="FunctionToString",tT=new WeakMap,mU=(()=>({name:pU,setupOnce(){eT=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=D_(this),n=tT.has(Fe())&&e!==void 0?e:this;return eT.apply(n,t)}}catch{}},setup(t){tT.set(t,!0)}})),gU=mU,vU=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],_U="EventFilters",yU=(t={})=>{let e;return{name:_U,setup(n){const r=n.getOptions();e=nT(t,r)},processEvent(n,r,a){if(!e){const o=a.getOptions();e=nT(t,o)}return SU(n,e)?null:n}}},bU=((t={})=>({...yU(t),name:"InboundFilters"}));function nT(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:vU],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]]}}function SU(t,e){if(t.type){if(t.type==="transaction"&&wU(t,e.ignoreTransactions))return ge&&ie.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${ua(t)}`),!0}else{if(EU(t,e.ignoreErrors))return ge&&ie.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${ua(t)}`),!0;if(AU(t))return ge&&ie.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${ua(t)}`),!0;if(TU(t,e.denyUrls))return ge&&ie.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${ua(t)}.
Url: ${Pf(t)}`),!0;if(!xU(t,e.allowUrls))return ge&&ie.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${ua(t)}.
Url: ${Pf(t)}`),!0}return!1}function EU(t,e){return e!=null&&e.length?RR(t).some(n=>Mi(n,e)):!1}function wU(t,e){if(!(e!=null&&e.length))return!1;const n=t.transaction;return n?Mi(n,e):!1}function TU(t,e){if(!(e!=null&&e.length))return!1;const n=Pf(t);return n?Mi(n,e):!1}function xU(t,e){if(!(e!=null&&e.length))return!0;const n=Pf(t);return n?Mi(n,e):!0}function RU(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Pf(t){var e,n;try{const r=[...((e=t.exception)==null?void 0:e.values)??[]].reverse().find(o=>{var u,d,f;return((u=o.mechanism)==null?void 0:u.parent_id)===void 0&&((f=(d=o.stacktrace)==null?void 0:d.frames)==null?void 0:f.length)}),a=(n=r==null?void 0:r.stacktrace)==null?void 0:n.frames;return a?RU(a):null}catch{return ge&&ie.error(`Cannot extract url for event ${ua(t)}`),null}}function AU(t){var e,n;return(n=(e=t.exception)==null?void 0:e.values)!=null&&n.length?!t.message&&!t.exception.values.some(r=>r.stacktrace||r.type&&r.type!=="Error"||r.value):!1}function CU(t,e,n,r,a,o){var d;if(!((d=a.exception)!=null&&d.values)||!o||!Ui(o.originalException,Error))return;const u=a.exception.values.length>0?a.exception.values[a.exception.values.length-1]:void 0;u&&(a.exception.values=vv(t,e,r,o.originalException,n,a.exception.values,u,0))}function vv(t,e,n,r,a,o,u,d){if(o.length>=n+1)return o;let f=[...o];if(Ui(r[a],Error)){rT(u,d);const h=t(e,r[a]),g=f.length;iT(h,a,g,d),f=vv(t,e,n,r[a],a,[h,...f],h,g)}return Array.isArray(r.errors)&&r.errors.forEach((h,g)=>{if(Ui(h,Error)){rT(u,d);const v=t(e,h),_=f.length;iT(v,`errors[${g}]`,_,d),f=vv(t,e,n,h,a,[v,...f],v,_)}}),f}function rT(t,e){t.mechanism={handled:!0,type:"auto.core.linked_errors",...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function iT(t,e,n,r){t.mechanism={handled:!0,...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}function kU(t){const e="console";Os(e,t),Ms(e,OU)}function OU(){"console"in Ye&&_3.forEach(function(t){t in Ye.console&&Pn(Ye.console,t,function(e){return If[t]=e,function(...n){pr("console",{args:n,level:t});const a=If[t];a==null||a.apply(Ye.console,n)}})})}function DR(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}const MU="Dedupe",IU=(()=>{let t;return{name:MU,processEvent(e){if(e.type)return e;try{if(NU(e,t))return ge&&ie.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}}),DU=IU;function NU(t,e){return e?!!(LU(t,e)||PU(t,e)):!1}function LU(t,e){const n=t.message,r=e.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!LR(t,e)||!NR(t,e))}function PU(t,e){const n=sT(e),r=sT(t);return!(!n||!r||n.type!==r.type||n.value!==r.value||!LR(t,e)||!NR(t,e))}function NR(t,e){let n=mw(t),r=mw(e);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let a=0;a<r.length;a++){const o=r[a],u=n[a];if(o.filename!==u.filename||o.lineno!==u.lineno||o.colno!==u.colno||o.function!==u.function)return!1}return!0}function LR(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function sT(t){var e,n;return(n=(e=t.exception)==null?void 0:e.values)==null?void 0:n[0]}function UU(t,e,n,r,a){if(!t.fetchData)return;const{method:o,url:u}=t.fetchData,d=Nr()&&e(u);if(t.endTimestamp&&d){const b=t.fetchData.__span;if(!b)return;const S=r[b];S&&(jU(S,t),$U(S,t,a),delete r[b]);return}const{spanOrigin:f="auto.http.browser",propagateTraceparent:h=!1}=typeof a=="object"?a:{spanOrigin:a},g=!!bn(),v=d&&g?vl(BU(u,o,f)):new As;if(t.fetchData.__span=v.spanContext().spanId,r[v.spanContext().spanId]=v,n(t.fetchData.url)){const b=t.args[0],S=t.args[1]||{},w=zU(b,S,Nr()&&g?v:void 0,h);w&&(t.args[1]=S,S.headers=w)}const _=Fe();if(_){const b={input:t.args,response:t.response,startTimestamp:t.startTimestamp,endTimestamp:t.endTimestamp};_.emit("beforeOutgoingRequestSpan",v,b)}return v}function $U(t,e,n){var a;const r=typeof n=="object"&&n!==null?n.onRequestSpanEnd:void 0;r==null||r(t,{headers:(a=e.response)==null?void 0:a.headers,error:e.error})}function zU(t,e,n,r){const a=IR({span:n,propagateTraceparent:r}),o=a["sentry-trace"],u=a.baggage,d=a.traceparent;if(!o)return;const f=e.headers||(M_(t)?t.headers:void 0);if(f)if(HU(f)){const h=new Headers(f);if(h.get("sentry-trace")||h.set("sentry-trace",o),r&&d&&!h.get("traceparent")&&h.set("traceparent",d),u){const g=h.get("baggage");g?Kd(g)||h.set("baggage",`${g},${u}`):h.set("baggage",u)}return h}else if(Array.isArray(f)){const h=[...f];f.find(v=>v[0]==="sentry-trace")||h.push(["sentry-trace",o]),r&&d&&!f.find(v=>v[0]==="traceparent")&&h.push(["traceparent",d]);const g=f.find(v=>v[0]==="baggage"&&Kd(v[1]));return u&&!g&&h.push(["baggage",u]),h}else{const h="sentry-trace"in f?f["sentry-trace"]:void 0,g="traceparent"in f?f.traceparent:void 0,v="baggage"in f?f.baggage:void 0,_=v?Array.isArray(v)?[...v]:[v]:[],b=v&&(Array.isArray(v)?v.find(w=>Kd(w)):Kd(v));u&&!b&&_.push(u);const S={...f,"sentry-trace":h??o,baggage:_.length>0?_.join(","):void 0};return r&&d&&!g&&(S.traceparent=d),S}else return{...a}}function jU(t,e){var n,r;if(e.response){qx(t,e.response.status);const a=(r=(n=e.response)==null?void 0:n.headers)==null?void 0:r.get("content-length");if(a){const o=parseInt(a);o>0&&t.setAttribute("http.response_content_length",o)}}else e.error&&t.setStatus({code:jt,message:"internal_error"});t.end()}function Kd(t){return t.split(",").some(e=>e.trim().startsWith(U_))}function HU(t){return typeof Headers<"u"&&Ui(t,Headers)}function BU(t,e,n){const r=V_(t);return{name:r?`${e} ${iU(r)}`:e,attributes:FU(t,r,e,n)}}function FU(t,e,n,r){const a={url:t,type:"fetch","http.method":n,[Bt]:r,[zi]:"http.client"};return e&&(Y_(e)||(a["http.url"]=e.href,a["server.address"]=e.host),e.search&&(a["http.query"]=e.search),e.hash&&(a["http.fragment"]=e.hash)),a}function PR(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}const Qu=Ye;function qU(){return"history"in Qu&&!!Qu.history}function GU(){if(!("fetch"in Qu))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function _v(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function YU(){var n;if(typeof EdgeRuntime=="string")return!0;if(!GU())return!1;if(_v(Qu.fetch))return!0;let t=!1;const e=Qu.document;if(e&&typeof e.createElement=="function")try{const r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),(n=r.contentWindow)!=null&&n.fetch&&(t=_v(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){ge&&ie.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}function UR(t,e){const n="fetch";Os(n,t),Ms(n,()=>$R(void 0,e))}function VU(t){const e="fetch-body-resolved";Os(e,t),Ms(e,()=>$R(KU))}function $R(t,e=!1){e&&!YU()||Pn(Ye,"fetch",function(n){return function(...r){const a=new Error,{method:o,url:u}=WU(r),d={args:r,fetchData:{method:o,url:u},startTimestamp:Vt()*1e3,virtualError:a,headers:JU(r)};return t||pr("fetch",{...d}),n.apply(Ye,r).then(async f=>(t?t(f):pr("fetch",{...d,endTimestamp:Vt()*1e3,response:f}),f),f=>{if(pr("fetch",{...d,endTimestamp:Vt()*1e3,error:f}),k_(f)&&f.stack===void 0&&(f.stack=a.stack,Zn(f,"framesToPop",1)),f instanceof TypeError&&(f.message==="Failed to fetch"||f.message==="Load failed"||f.message==="NetworkError when attempting to fetch resource."))try{const h=new URL(d.fetchData.url);f.message=`${f.message} (${h.host})`}catch{}throw f})}})}async function XU(t,e){if(t!=null&&t.body){const n=t.body,r=n.getReader(),a=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let o=!0;for(;o;){let u;try{u=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:d}=await r.read();clearTimeout(u),d&&(e(),o=!1)}catch{o=!1}finally{clearTimeout(u)}}clearTimeout(a),r.releaseLock(),n.cancel().then(null,()=>{})}}function KU(t){let e;try{e=t.clone()}catch{return}XU(e,()=>{pr("fetch-body-resolved",{endTimestamp:Vt()*1e3,response:t})})}function wf(t,e){return!!t&&typeof t=="object"&&!!t[e]}function aT(t){return typeof t=="string"?t:t?wf(t,"url")?t.url:t.toString?t.toString():"":""}function WU(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[n,r]=t;return{url:aT(n),method:wf(r,"method")?String(r.method).toUpperCase():M_(n)&&wf(n,"method")?String(n.method).toUpperCase():"GET"}}const e=t[0];return{url:aT(e),method:wf(e,"method")?String(e.method).toUpperCase():"GET"}}function JU(t){const[e,n]=t;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(M_(e))return new Headers(e.headers)}catch{}}function QU(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function ZU(){return"npm"}function e$(){return!QU()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function yv(){return typeof window<"u"&&(!e$()||t$())}function t$(){const t=Ye.process;return(t==null?void 0:t.type)==="renderer"}const Ke=Ye;let bv=0;function zR(){return bv>0}function n$(){bv++,setTimeout(()=>{bv--})}function Jo(t,e={}){function n(a){return typeof a=="function"}if(!n(t))return t;try{const a=t.__sentry_wrapped__;if(a)return typeof a=="function"?a:t;if(D_(t))return t}catch{return t}const r=function(...a){try{const o=a.map(u=>Jo(u,e));return t.apply(this,o)}catch(o){throw n$(),vh(u=>{u.addEventProcessor(d=>(e.mechanism&&(uv(d,void 0),Vo(d,e.mechanism)),d.extra={...d.extra,arguments:a},d)),hR(o)}),o}};try{for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a])}catch{}zx(r,t),Zn(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return t.name}})}catch{}return r}function X_(){const t=hl(),{referrer:e}=Ke.document||{},{userAgent:n}=Ke.navigator||{},r={...e&&{Referer:e},...n&&{"User-Agent":n}};return{url:t,headers:r}}function K_(t,e){const n=W_(t,e),r={type:o$(e),value:l$(e)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function r$(t,e,n,r){const a=Fe(),o=a==null?void 0:a.getOptions().normalizeDepth,u=h$(e),d={__serialized__:sR(e,o)};if(u)return{exception:{values:[K_(t,u)]},extra:d};const f={exception:{values:[{type:gh(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:d$(e,{isUnhandledRejection:r})}]},extra:d};if(n){const h=W_(t,n);h.length&&(f.exception.values[0].stacktrace={frames:h})}return f}function yg(t,e){return{exception:{values:[K_(t,e)]}}}function W_(t,e){const n=e.stacktrace||e.stack||"",r=s$(e),a=a$(e);try{return t(n,r,a)}catch{}return[]}const i$=/Minified React error #\d+;/i;function s$(t){return t&&i$.test(t.message)?1:0}function a$(t){return typeof t.framesToPop=="number"?t.framesToPop:0}function jR(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}function o$(t){const e=t==null?void 0:t.name;return!e&&jR(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function l$(t){const e=t==null?void 0:t.message;return jR(t)?Array.isArray(t.message)&&t.message.length==2?t.message[1]:"wasm exception":e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function u$(t,e,n,r){const a=(n==null?void 0:n.syntheticException)||void 0,o=J_(t,e,a,r);return Vo(o),o.level="error",n!=null&&n.event_id&&(o.event_id=n.event_id),yh(o)}function c$(t,e,n="info",r,a){const o=(r==null?void 0:r.syntheticException)||void 0,u=Sv(t,e,o,a);return u.level=n,r!=null&&r.event_id&&(u.event_id=r.event_id),yh(u)}function J_(t,e,n,r,a){let o;if(Px(e)&&e.error)return yg(t,e.error);if(vw(e)||k3(e)){const u=e;if("stack"in e)o=yg(t,e);else{const d=u.name||(vw(u)?"DOMError":"DOMException"),f=u.message?`${d}: ${u.message}`:d;o=Sv(t,f,n,r),uv(o,f)}return"code"in u&&(o.tags={...o.tags,"DOMException.code":`${u.code}`}),o}return k_(e)?yg(t,e):Ku(e)||gh(e)?(o=r$(t,e,n,a),Vo(o,{synthetic:!0}),o):(o=Sv(t,e,n,r),uv(o,`${e}`),Vo(o,{synthetic:!0}),o)}function Sv(t,e,n,r){const a={};if(r&&n){const o=W_(t,n);o.length&&(a.exception={values:[{value:e,stacktrace:{frames:o}}]}),Vo(a,{synthetic:!0})}if(O_(e)){const{__sentry_template_string__:o,__sentry_template_values__:u}=e;return a.logentry={message:o,params:u},a}return a.message=e,a}function d$(t,{isUnhandledRejection:e}){const n=L3(t),r=e?"promise rejection":"exception";return Px(t)?`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``:gh(t)?`Event \`${f$(t)}\` (type=${t.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function f$(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}function h$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];if(n instanceof Error)return n}}class p$ extends WP{constructor(e){var g;const n=m$(e),r=Ke.SENTRY_SDK_SOURCE||ZU();MR(n,"browser",["browser"],r),(g=n._metadata)!=null&&g.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:a,sendClientReports:o,enableLogs:u,_experiments:d,enableMetrics:f}=this._options,h=f??(d==null?void 0:d.enableMetrics)??!0;Ke.document&&(o||u||h)&&Ke.document.addEventListener("visibilitychange",()=>{Ke.document.visibilityState==="hidden"&&(o&&this._flushOutcomes(),u&&yR(this),h&&SR(this))}),a&&this.on("beforeSendSession",uU)}eventFromException(e,n){return u$(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",r){return c$(this._options.stackParser,e,n,r,this._options.attachStacktrace)}_prepareEvent(e,n,r,a){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,r,a)}}function m$(t){var e;return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(e=Ke.SENTRY_RELEASE)==null?void 0:e.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...t}}const Sa=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Re=Ye,g$=(t,e)=>t>e[1]?"poor":t>e[0]?"needs-improvement":"good",mc=(t,e,n,r)=>{let a,o;return u=>{e.value>=0&&(u||r)&&(o=e.value-(a??0),(o||a===void 0)&&(a=e.value,e.delta=o,e.rating=g$(e.value,n),t(e)))}},gc=(t=!0)=>{var n,r;const e=(r=(n=Re.performance)==null?void 0:n.getEntriesByType)==null?void 0:r.call(n,"navigation")[0];if(!t||e&&e.responseStart>0&&e.responseStart<performance.now())return e},_l=()=>{const t=gc();return(t==null?void 0:t.activationStart)??0};function _a(t,e,n){Re.document&&Re.addEventListener(t,e,n)}function Q_(t,e,n){Re.document&&Re.removeEventListener(t,e,n)}let Bo=-1;const HR=new Set,v$=()=>{var t,e;return((t=Re.document)==null?void 0:t.visibilityState)==="hidden"&&!((e=Re.document)!=null&&e.prerendering)?0:1/0},Tf=t=>{if(_$(t)&&Bo>-1){if(t.type==="visibilitychange"||t.type==="pagehide")for(const e of HR)e();isFinite(Bo)||(Bo=t.type==="visibilitychange"?t.timeStamp:0,Q_("prerenderingchange",Tf,!0))}},vc=()=>{var t;if(Re.document&&Bo<0){const e=_l();Bo=(Re.document.prerendering||(t=globalThis.performance.getEntriesByType("visibility-state").filter(r=>r.name==="hidden"&&r.startTime>e)[0])==null?void 0:t.startTime)??v$(),_a("visibilitychange",Tf,!0),_a("pagehide",Tf,!0),_a("prerenderingchange",Tf,!0)}return{get firstHiddenTime(){return Bo},onHidden(e){HR.add(e)}}};function _$(t){var e;return t.type==="pagehide"||((e=Re.document)==null?void 0:e.visibilityState)==="hidden"}const y$=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,_c=(t,e=-1)=>{var o,u;const n=gc();let r="navigate";return n&&((o=Re.document)!=null&&o.prerendering||_l()>0?r="prerender":(u=Re.document)!=null&&u.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:t,value:e,rating:"good",delta:0,entries:[],id:y$(),navigationType:r}},bg=new WeakMap;function Z_(t,e){return bg.get(t)||bg.set(t,new e),bg.get(t)}class Uf{constructor(){Uf.prototype.__init.call(this),Uf.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(e){var a;if(e.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&e.startTime-r.startTime<1e3&&e.startTime-n.startTime<5e3?(this._sessionValue+=e.value,this._sessionEntries.push(e)):(this._sessionValue=e.value,this._sessionEntries=[e]),(a=this._onAfterProcessingUnexpectedShift)==null||a.call(this,e)}}const yl=(t,e,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const r=new PerformanceObserver(a=>{Promise.resolve().then(()=>{e(a.getEntries())})});return r.observe({type:t,buffered:!0,...n}),r}}catch{}},ey=t=>{let e=!1;return()=>{e||(t(),e=!0)}},bh=t=>{var e;(e=Re.document)!=null&&e.prerendering?addEventListener("prerenderingchange",()=>t(),!0):t()},b$=[1800,3e3],S$=(t,e={})=>{bh(()=>{const n=vc(),r=_c("FCP");let a;const u=yl("paint",d=>{for(const f of d)f.name==="first-contentful-paint"&&(u.disconnect(),f.startTime<n.firstHiddenTime&&(r.value=Math.max(f.startTime-_l(),0),r.entries.push(f),a(!0)))});u&&(a=mc(t,r,b$,e.reportAllChanges))})},E$=[.1,.25],w$=(t,e={})=>{S$(ey(()=>{var f;const n=_c("CLS",0);let r;const a=vc(),o=Z_(e,Uf),u=h=>{for(const g of h)o._processEntry(g);o._sessionValue>n.value&&(n.value=o._sessionValue,n.entries=o._sessionEntries,r())},d=yl("layout-shift",u);d&&(r=mc(t,n,E$,e.reportAllChanges),a.onHidden(()=>{u(d.takeRecords()),r(!0)}),(f=Re==null?void 0:Re.setTimeout)==null||f.call(Re,r))}))};let BR=0,Sg=1/0,Wd=0;const T$=t=>{t.forEach(e=>{e.interactionId&&(Sg=Math.min(Sg,e.interactionId),Wd=Math.max(Wd,e.interactionId),BR=Wd?(Wd-Sg)/7+1:0)})};let Ev;const FR=()=>Ev?BR:performance.interactionCount||0,x$=()=>{"interactionCount"in performance||Ev||(Ev=yl("event",T$,{type:"event",buffered:!0,durationThreshold:0}))},Eg=10;let qR=0;const R$=()=>FR()-qR;class $f{constructor(){$f.prototype.__init.call(this),$f.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){qR=FR(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const e=Math.min(this._longestInteractionList.length-1,Math.floor(R$()/50));return this._longestInteractionList[e]}_processEntry(e){var a,o;if((a=this._onBeforeProcessingEntry)==null||a.call(this,e),!(e.interactionId||e.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(e.interactionId);if(r||this._longestInteractionList.length<Eg||e.duration>n._latency){if(r?e.duration>r._latency?(r.entries=[e],r._latency=e.duration):e.duration===r._latency&&e.startTime===r.entries[0].startTime&&r.entries.push(e):(r={id:e.interactionId,entries:[e],_latency:e.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((u,d)=>d._latency-u._latency),this._longestInteractionList.length>Eg){const u=this._longestInteractionList.splice(Eg);for(const d of u)this._longestInteractionMap.delete(d.id)}(o=this._onAfterProcessingINPCandidate)==null||o.call(this,r)}}}const GR=t=>{const e=n=>{var r;(n.type==="pagehide"||((r=Re.document)==null?void 0:r.visibilityState)==="hidden")&&t(n)};_a("visibilitychange",e,!0),_a("pagehide",e,!0)},YR=t=>{var n;const e=Re.requestIdleCallback||Re.setTimeout;((n=Re.document)==null?void 0:n.visibilityState)==="hidden"?t():(t=ey(t),_a("visibilitychange",t,{once:!0,capture:!0}),e(()=>{t(),Q_("visibilitychange",t,{capture:!0})}),GR(t))},A$=[200,500],C$=40,k$=(t,e={})=>{if(!(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return;const n=vc();bh(()=>{x$();const r=_c("INP");let a;const o=Z_(e,$f),u=f=>{YR(()=>{for(const g of f)o._processEntry(g);const h=o._estimateP98LongestInteraction();h&&h._latency!==r.value&&(r.value=h._latency,r.entries=h.entries,a())})},d=yl("event",u,{durationThreshold:e.durationThreshold??C$});a=mc(t,r,A$,e.reportAllChanges),d&&(d.observe({type:"first-input",buffered:!0}),n.onHidden(()=>{u(d.takeRecords()),a(!0)}))})};class O${_processEntry(e){var n;(n=this._onBeforeProcessingEntry)==null||n.call(this,e)}}const M$=[2500,4e3],I$=(t,e={})=>{bh(()=>{const n=vc(),r=_c("LCP");let a;const o=Z_(e,O$),u=f=>{e.reportAllChanges||(f=f.slice(-1));for(const h of f)o._processEntry(h),h.startTime<n.firstHiddenTime&&(r.value=Math.max(h.startTime-_l(),0),r.entries=[h],a())},d=yl("largest-contentful-paint",u);if(d){a=mc(t,r,M$,e.reportAllChanges);const f=ey(()=>{u(d.takeRecords()),d.disconnect(),a(!0)}),h=g=>{g.isTrusted&&(YR(f),Q_(g.type,h,{capture:!0}))};for(const g of["keydown","click","visibilitychange"])_a(g,h,{capture:!0})}})},D$=[800,1800],wv=t=>{var e,n;(e=Re.document)!=null&&e.prerendering?bh(()=>wv(t)):((n=Re.document)==null?void 0:n.readyState)!=="complete"?addEventListener("load",()=>wv(t),!0):setTimeout(t)},N$=(t,e={})=>{const n=_c("TTFB"),r=mc(t,n,D$,e.reportAllChanges);wv(()=>{const a=gc();a&&(n.value=Math.max(a.responseStart-_l(),0),n.entries=[a],r(!0))})},Hu={},zf={};let VR,XR,KR,WR;function ty(t,e=!1){return Sh("cls",t,P$,VR,e)}function ny(t,e=!1){return Sh("lcp",t,U$,XR,e)}function L$(t){return Sh("ttfb",t,$$,KR)}function JR(t){return Sh("inp",t,z$,WR)}function Ea(t,e){return QR(t,e),zf[t]||(j$(t),zf[t]=!0),ZR(t,e)}function yc(t,e){const n=Hu[t];if(n!=null&&n.length)for(const r of n)try{r(e)}catch(a){Sa&&ie.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Pi(r)}
Error:`,a)}}function P$(){return w$(t=>{yc("cls",{metric:t}),VR=t},{reportAllChanges:!0})}function U$(){return I$(t=>{yc("lcp",{metric:t}),XR=t},{reportAllChanges:!0})}function $$(){return N$(t=>{yc("ttfb",{metric:t}),KR=t})}function z$(){return k$(t=>{yc("inp",{metric:t}),WR=t})}function Sh(t,e,n,r,a=!1){QR(t,e);let o;return zf[t]||(o=n(),zf[t]=!0),r&&e({metric:r}),ZR(t,e,a?o:void 0)}function j$(t){const e={};t==="event"&&(e.durationThreshold=0),yl(t,n=>{yc(t,{entries:n})},e)}function QR(t,e){Hu[t]=Hu[t]||[],Hu[t].push(e)}function ZR(t,e,n){return()=>{n&&n();const r=Hu[t];if(!r)return;const a=r.indexOf(e);a!==-1&&r.splice(a,1)}}function H$(t){return"duration"in t}function wg(t){return typeof t=="number"&&isFinite(t)}function ks(t,e,n,{...r}){const a=Xe(t).start_timestamp;return a&&a>e&&typeof t.updateStartTime=="function"&&t.updateStartTime(e),H_(t,()=>{const o=vl({startTime:e,...r});return o&&o.end(n),o})}function ry(t){var T;const e=Fe();if(!e)return;const{name:n,transaction:r,attributes:a,startTime:o}=t,{release:u,environment:d,sendDefaultPii:f}=e.getOptions(),h=e.getIntegrationByName("Replay"),g=h==null?void 0:h.getReplayId(),v=it(),_=v.getUser(),b=_!==void 0?_.email||_.id||_.ip_address:void 0;let S;try{S=v.getScopeData().contexts.profile.profile_id}catch{}const w={release:u,environment:d,user:b||void 0,profile_id:S||void 0,replay_id:g||void 0,transaction:r,"user_agent.original":(T=Re.navigator)==null?void 0:T.userAgent,"client.address":f?"{{auto}}":void 0,...a};return vl({name:n,attributes:w,startTime:o,experimental:{standalone:!0}})}function bc(){return Re.addEventListener&&Re.performance}function Ct(t){return t/1e3}function B$(t){let e="unknown",n="unknown",r="";for(const a of t){if(a==="/"){[e,n]=t.split("/");break}if(!isNaN(Number(a))){e=r==="h"?"http":r,n=t.split(r)[1];break}r+=a}return r===t&&(e=r),{name:e,version:n}}function eA(t){try{return PerformanceObserver.supportedEntryTypes.includes(t)}catch{return!1}}function tA(t,e){let n,r=!1;function a(d){!r&&n&&e(d,n),r=!0}GR(()=>{a("pagehide")});const o=t.on("beforeStartNavigationSpan",(d,f)=>{f!=null&&f.isRedirect||(a("navigation"),o(),u())}),u=t.on("afterStartPageLoadSpan",d=>{n=d.spanContext().spanId,u()})}function F$(t){let e=0,n;if(!eA("layout-shift"))return;const r=ty(({metric:a})=>{const o=a.entries[a.entries.length-1];o&&(e=a.value,n=o)},!0);tA(t,(a,o)=>{q$(e,n,o,a),r()})}function q$(t,e,n,r){var h;Sa&&ie.log(`Sending CLS span (${t})`);const a=e?Ct((zn()||0)+e.startTime):Vt(),o=it().getScopeData().transactionName,u=e?$n((h=e.sources[0])==null?void 0:h.node):"Layout shift",d={[Bt]:"auto.http.browser.cls",[zi]:"ui.webvital.cls",[ml]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};e!=null&&e.sources&&e.sources.forEach((g,v)=>{d[`cls.source.${v+1}`]=$n(g.node)});const f=ry({name:u,transaction:o,attributes:d,startTime:a});f&&(f.addEvent("cls",{[hc]:"",[pc]:t}),f.end(a))}function G$(t){let e=0,n;if(!eA("largest-contentful-paint"))return;const r=ny(({metric:a})=>{const o=a.entries[a.entries.length-1];o&&(e=a.value,n=o)},!0);tA(t,(a,o)=>{Y$(e,n,o,a),r()})}function Y$(t,e,n,r){Sa&&ie.log(`Sending LCP span (${t})`);const a=Ct((zn()||0)+((e==null?void 0:e.startTime)||0)),o=it().getScopeData().transactionName,u=e?$n(e.element):"Largest contentful paint",d={[Bt]:"auto.http.browser.lcp",[zi]:"ui.webvital.lcp",[ml]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};e&&(e.element&&(d["lcp.element"]=$n(e.element)),e.id&&(d["lcp.id"]=e.id),e.url&&(d["lcp.url"]=e.url),e.loadTime!=null&&(d["lcp.loadTime"]=e.loadTime),e.renderTime!=null&&(d["lcp.renderTime"]=e.renderTime),e.size!=null&&(d["lcp.size"]=e.size));const f=ry({name:u,transaction:o,attributes:d,startTime:a});f&&(f.addEvent("lcp",{[hc]:"millisecond",[pc]:t}),f.end(a))}function dr(t){return t&&((zn()||performance.timeOrigin)+t)/1e3}function nA(t){var n;const e={};if(t.nextHopProtocol!=null){const{name:r,version:a}=B$(t.nextHopProtocol);e["network.protocol.version"]=a,e["network.protocol.name"]=r}return zn()||(n=bc())!=null&&n.timeOrigin?V$({...e,"http.request.redirect_start":dr(t.redirectStart),"http.request.redirect_end":dr(t.redirectEnd),"http.request.worker_start":dr(t.workerStart),"http.request.fetch_start":dr(t.fetchStart),"http.request.domain_lookup_start":dr(t.domainLookupStart),"http.request.domain_lookup_end":dr(t.domainLookupEnd),"http.request.connect_start":dr(t.connectStart),"http.request.secure_connection_start":dr(t.secureConnectionStart),"http.request.connection_end":dr(t.connectEnd),"http.request.request_start":dr(t.requestStart),"http.request.response_start":dr(t.responseStart),"http.request.response_end":dr(t.responseEnd),"http.request.time_to_first_byte":t.responseStart!=null?t.responseStart/1e3:void 0}):e}function V$(t){return Object.fromEntries(Object.entries(t).filter(([,e])=>e!=null))}const X$=2147483647;let oT=0,Mr={},In,Io;function K$({recordClsStandaloneSpans:t,recordLcpStandaloneSpans:e,client:n}){const r=bc();if(r&&zn()){r.mark&&Re.performance.mark("sentry-tracing-init");const a=e?G$(n):ez(),o=tz(),u=t?F$(n):Z$();return()=>{a==null||a(),o(),u==null||u()}}return()=>{}}function W$(){Ea("longtask",({entries:t})=>{const e=bn();if(!e)return;const{op:n,start_timestamp:r}=Xe(e);for(const a of t){const o=Ct(zn()+a.startTime),u=Ct(a.duration);n==="navigation"&&r&&o<r||ks(e,o,o+u,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Bt]:"auto.ui.browser.metrics"}})}})}function J$(){new PerformanceObserver(e=>{const n=bn();if(n)for(const r of e.getEntries()){if(!r.scripts[0])continue;const a=Ct(zn()+r.startTime),{start_timestamp:o,op:u}=Xe(n);if(u==="navigation"&&o&&a<o)continue;const d=Ct(r.duration),f={[Bt]:"auto.ui.browser.metrics"},h=r.scripts[0],{invoker:g,invokerType:v,sourceURL:_,sourceFunctionName:b,sourceCharPosition:S}=h;f["browser.script.invoker"]=g,f["browser.script.invoker_type"]=v,_&&(f["code.filepath"]=_),b&&(f["code.function"]=b),S!==-1&&(f["browser.script.source_char_position"]=S),ks(n,a,a+d,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:f})}}).observe({type:"long-animation-frame",buffered:!0})}function Q$(){Ea("event",({entries:t})=>{const e=bn();if(e){for(const n of t)if(n.name==="click"){const r=Ct(zn()+n.startTime),a=Ct(n.duration),o={name:$n(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[Bt]:"auto.ui.browser.metrics"}},u=$x(n.target);u&&(o.attributes["ui.component_name"]=u),ks(e,r,r+a,o)}}})}function Z$(){return ty(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(Mr.cls={value:t.value,unit:""},Io=e)},!0)}function ez(){return ny(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&(Mr.lcp={value:t.value,unit:"millisecond"},In=e)},!0)}function tz(){return L$(({metric:t})=>{t.entries[t.entries.length-1]&&(Mr.ttfb={value:t.value,unit:"millisecond"})})}function nz(t,e){const n=bc(),r=zn();if(!(n!=null&&n.getEntries)||!r)return;const a=Ct(r),o=n.getEntries(),{op:u,start_timestamp:d}=Xe(t);o.slice(oT).forEach(f=>{const h=Ct(f.startTime),g=Ct(Math.max(0,f.duration));if(!(u==="navigation"&&d&&a+h<d))switch(f.entryType){case"navigation":{az(t,f,a);break}case"mark":case"paint":case"measure":{iz(t,f,h,g,a,e.ignorePerformanceApiSpans);const v=vc(),_=f.startTime<v.firstHiddenTime;f.name==="first-paint"&&_&&(Mr.fp={value:f.startTime,unit:"millisecond"}),f.name==="first-contentful-paint"&&_&&(Mr.fcp={value:f.startTime,unit:"millisecond"});break}case"resource":{uz(t,f,f.name,h,g,a,e.ignoreResourceSpans);break}}}),oT=Math.max(o.length-1,0),cz(t),u==="pageload"&&(hz(Mr),e.recordClsOnPageloadSpan||delete Mr.cls,e.recordLcpOnPageloadSpan||delete Mr.lcp,Object.entries(Mr).forEach(([f,h])=>{X2(f,h.value,h.unit)}),t.setAttribute("performance.timeOrigin",a),t.setAttribute("performance.activationStart",_l()),dz(t,e)),In=void 0,Io=void 0,Mr={}}function rz(t){if((t==null?void 0:t.entryType)==="measure")try{return t.detail.devtools.track==="Components "}catch{return}}function iz(t,e,n,r,a,o){if(rz(e)||["mark","measure"].includes(e.entryType)&&Mi(e.name,o))return;const u=gc(!1),d=Ct(u?u.requestStart:0),f=a+Math.max(n,d),h=a+n,g=h+r,v={[Bt]:"auto.resource.browser.metrics"};f!==h&&(v["sentry.browser.measure_happened_before_request"]=!0,v["sentry.browser.measure_start_time"]=f),sz(v,e),f<=g&&ks(t,f,g,{name:e.name,op:e.entryType,attributes:v})}function sz(t,e){try{const n=e.detail;if(!n)return;if(typeof n=="object"){for(const[r,a]of Object.entries(n))if(a&&Yo(a))t[`sentry.browser.measure.detail.${r}`]=a;else if(a!==void 0)try{t[`sentry.browser.measure.detail.${r}`]=JSON.stringify(a)}catch{}return}if(Yo(n)){t["sentry.browser.measure.detail"]=n;return}try{t["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function az(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Jd(t,e,r,n)}),Jd(t,e,"secureConnection",n,"TLS/SSL"),Jd(t,e,"fetch",n,"cache"),Jd(t,e,"domainLookup",n,"DNS"),lz(t,e,n)}function Jd(t,e,n,r,a=n){const o=oz(n),u=e[o],d=e[`${n}Start`];!d||!u||ks(t,r+Ct(d),r+Ct(u),{op:`browser.${a}`,name:e.name,attributes:{[Bt]:"auto.ui.browser.metrics",...n==="redirect"&&e.redirectCount!=null?{"http.redirect_count":e.redirectCount}:{}}})}function oz(t){return t==="secureConnection"?"connectEnd":t==="fetch"?"domainLookupStart":`${t}End`}function lz(t,e,n){const r=n+Ct(e.requestStart),a=n+Ct(e.responseEnd),o=n+Ct(e.responseStart);e.responseEnd&&(ks(t,r,a,{op:"browser.request",name:e.name,attributes:{[Bt]:"auto.ui.browser.metrics"}}),ks(t,o,a,{op:"browser.response",name:e.name,attributes:{[Bt]:"auto.ui.browser.metrics"}}))}function uz(t,e,n,r,a,o,u){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;const d=e.initiatorType?`resource.${e.initiatorType}`:"resource.other";if(u!=null&&u.includes(d))return;const f={[Bt]:"auto.resource.browser.metrics"},h=va(n);h.protocol&&(f["url.scheme"]=h.protocol.split(":").pop()),h.host&&(f["server.address"]=h.host),f["url.same_origin"]=n.includes(Re.location.origin),fz(e,f,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const g={...f,...nA(e)},v=o+r,_=v+a;ks(t,v,_,{name:n.replace(Re.location.origin,""),op:d,attributes:g})}function cz(t){const e=Re.navigator;if(!e)return;const n=e.connection;n&&(n.effectiveType&&t.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&t.setAttribute("connectionType",n.type),wg(n.rtt)&&(Mr["connection.rtt"]={value:n.rtt,unit:"millisecond"})),wg(e.deviceMemory)&&t.setAttribute("deviceMemory",`${e.deviceMemory} GB`),wg(e.hardwareConcurrency)&&t.setAttribute("hardwareConcurrency",String(e.hardwareConcurrency))}function dz(t,e){In&&e.recordLcpOnPageloadSpan&&(In.element&&t.setAttribute("lcp.element",$n(In.element)),In.id&&t.setAttribute("lcp.id",In.id),In.url&&t.setAttribute("lcp.url",In.url.trim().slice(0,200)),In.loadTime!=null&&t.setAttribute("lcp.loadTime",In.loadTime),In.renderTime!=null&&t.setAttribute("lcp.renderTime",In.renderTime),t.setAttribute("lcp.size",In.size)),Io!=null&&Io.sources&&e.recordClsOnPageloadSpan&&Io.sources.forEach((n,r)=>t.setAttribute(`cls.source.${r+1}`,$n(n.node)))}function fz(t,e,n){n.forEach(([r,a])=>{const o=t[r];o!=null&&(typeof o=="number"&&o<X$||typeof o=="string")&&(e[a]=o)})}function hz(t){const e=gc(!1);if(!e)return;const{responseStart:n,requestStart:r}=e;r<=n&&(t["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function pz(){return bc()&&zn()?Ea("element",mz):()=>{}}const mz=({entries:t})=>{const e=bn(),n=e?cn(e):void 0,r=n?Xe(n).description:it().getScopeData().transactionName;t.forEach(a=>{var b,S;const o=a;if(!o.identifier)return;const u=o.name,d=o.renderTime,f=o.loadTime,[h,g]=f?[Ct(f),"load-time"]:d?[Ct(d),"render-time"]:[Vt(),"entry-emission"],v=u==="image-paint"?Ct(Math.max(0,(d??0)-(f??0))):0,_={[Bt]:"auto.ui.browser.elementtiming",[zi]:"ui.elementtiming",[Dr]:"component","sentry.span_start_time_source":g,"sentry.transaction_name":r,"element.id":o.id,"element.type":((S=(b=o.element)==null?void 0:b.tagName)==null?void 0:S.toLowerCase())||"unknown","element.size":o.naturalWidth&&o.naturalHeight?`${o.naturalWidth}x${o.naturalHeight}`:void 0,"element.render_time":d,"element.load_time":f,"element.url":o.url||void 0,"element.identifier":o.identifier,"element.paint_type":u};eP({name:`element[${o.identifier}]`,attributes:_,startTime:h,onlyIfParent:!0},w=>{w.end(h+v)})})},gz=1e3;let lT,Tv,xv;function rA(t){Os("dom",t),Ms("dom",vz)}function vz(){if(!Re.document)return;const t=pr.bind(null,"dom"),e=uT(t,!0);Re.document.addEventListener("click",e,!1),Re.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{var o,u;const a=(o=Re[n])==null?void 0:o.prototype;(u=a==null?void 0:a.hasOwnProperty)!=null&&u.call(a,"addEventListener")&&(Pn(a,"addEventListener",function(d){return function(f,h,g){if(f==="click"||f=="keypress")try{const v=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},_=v[f]=v[f]||{refCount:0};if(!_.handler){const b=uT(t);_.handler=b,d.call(this,f,b,g)}_.refCount++}catch{}return d.call(this,f,h,g)}}),Pn(a,"removeEventListener",function(d){return function(f,h,g){if(f==="click"||f=="keypress")try{const v=this.__sentry_instrumentation_handlers__||{},_=v[f];_&&(_.refCount--,_.refCount<=0&&(d.call(this,f,_.handler,g),_.handler=void 0,delete v[f]),Object.keys(v).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return d.call(this,f,h,g)}}))})}function _z(t){if(t.type!==Tv)return!1;try{if(!t.target||t.target._sentryId!==xv)return!1}catch{}return!0}function yz(t,e){return t!=="keypress"?!1:e!=null&&e.tagName?!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable):!0}function uT(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const r=bz(n);if(yz(n.type,r))return;Zn(n,"_sentryCaptured",!0),r&&!r._sentryId&&Zn(r,"_sentryId",Jn());const a=n.type==="keypress"?"input":n.type;_z(n)||(t({event:n,name:a,global:e}),Tv=n.type,xv=r?r._sentryId:void 0),clearTimeout(lT),lT=Re.setTimeout(()=>{xv=void 0,Tv=void 0},gz)}}function bz(t){try{return t.target}catch{return null}}let Qd;function Eh(t){const e="history";Os(e,t),Ms(e,Sz)}function Sz(){if(Re.addEventListener("popstate",()=>{const e=Re.location.href,n=Qd;if(Qd=e,n===e)return;pr("history",{from:n,to:e})}),!qU())return;function t(e){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const a=Qd,o=Ez(String(r));if(Qd=o,a===o)return e.apply(this,n);pr("history",{from:a,to:o})}return e.apply(this,n)}}Pn(Re.history,"pushState",t),Pn(Re.history,"replaceState",t)}function Ez(t){try{return new URL(t,Re.location.origin).toString()}catch{return t}}const xf={};function iA(t){const e=xf[t];if(e)return e;let n=Re[t];if(_v(n))return xf[t]=n.bind(Re);const r=Re.document;if(r&&typeof r.createElement=="function")try{const a=r.createElement("iframe");a.hidden=!0,r.head.appendChild(a);const o=a.contentWindow;o!=null&&o[t]&&(n=o[t]),r.head.removeChild(a)}catch(a){Sa&&ie.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,a)}return n&&(xf[t]=n.bind(Re))}function wz(t){xf[t]=void 0}function Sc(...t){return iA("setTimeout")(...t)}const da="__sentry_xhr_v3__";function sA(t){Os("xhr",t),Ms("xhr",Tz)}function Tz(){if(!Re.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,n,r){const a=new Error,o=Vt()*1e3,u=Oi(r[0])?r[0].toUpperCase():void 0,d=xz(r[1]);if(!u||!d)return e.apply(n,r);n[da]={method:u,url:d,request_headers:{}},u==="POST"&&d.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const f=()=>{const h=n[da];if(h&&n.readyState===4){try{h.status_code=n.status}catch{}const g={endTimestamp:Vt()*1e3,startTimestamp:o,xhr:n,virtualError:a};pr("xhr",g)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(h,g,v){return f(),h.apply(g,v)}}):n.addEventListener("readystatechange",f),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(h,g,v){const[_,b]=v,S=g[da];return S&&Oi(_)&&Oi(b)&&(S.request_headers[_.toLowerCase()]=b),h.apply(g,v)}}),e.apply(n,r)}}),t.send=new Proxy(t.send,{apply(e,n,r){const a=n[da];if(!a)return e.apply(n,r);r[0]!==void 0&&(a.body=r[0]);const o={startTimestamp:Vt()*1e3,xhr:n};return pr("xhr",o),e.apply(n,r)}})}function xz(t){if(Oi(t))return t;try{return t.toString()}catch{}}function aA(t){return new URLSearchParams(t).toString()}function oA(t,e=ie){try{if(typeof t=="string")return[t];if(t instanceof URLSearchParams)return[t.toString()];if(t instanceof FormData)return[aA(t)];if(!t)return[void 0]}catch(n){return Sa&&e.error(n,"Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return Sa&&e.log("Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function lA(t=[]){if(!(t.length!==2||typeof t[1]!="object"))return t[1].body}function uA(t){let e;try{e=t.getAllResponseHeaders()}catch(n){return Sa&&ie.error(n,"Failed to get xhr response headers",t),{}}return e?e.split(`\r
`).reduce((n,r)=>{const[a,o]=r.split(": ");return o&&(n[a.toLowerCase()]=o),n},{}):{}}const Tg=[],Rf=new Map,wo=new Map,Rz=60;function Az(){if(bc()&&zn()){const e=Cz();return()=>{e()}}return()=>{}}const Rv={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Cz(){return JR(kz)}const kz=({metric:t})=>{if(t.value==null)return;const e=Ct(t.value);if(e>Rz)return;const n=t.entries.find(S=>S.duration===t.value&&Rv[S.name]);if(!n)return;const{interactionId:r}=n,a=Rv[n.name],o=Ct(zn()+n.startTime),u=bn(),d=u?cn(u):void 0,f=r!=null?Rf.get(r):void 0,h=(f==null?void 0:f.span)||d,g=h?Xe(h).description:it().getScopeData().transactionName,v=(f==null?void 0:f.elementName)||$n(n.target),_={[Bt]:"auto.http.browser.inp",[zi]:`ui.interaction.${a}`,[ml]:n.duration},b=ry({name:v,transaction:g,attributes:_,startTime:o});b&&(b.addEvent("inp",{[hc]:"millisecond",[pc]:t.value}),b.end(o+e))};function Oz(){const t=Object.keys(Rv);yv()&&t.forEach(a=>{Re.addEventListener(a,e,{capture:!0,passive:!0})});function e(a){const o=a.target;if(!o)return;const u=$n(o),d=Math.round(a.timeStamp);if(wo.set(d,u),wo.size>50){const f=wo.keys().next().value;f!==void 0&&wo.delete(f)}}function n(a){const o=Math.round(a.startTime);let u=wo.get(o);if(!u)for(let d=-5;d<=5;d++){const f=wo.get(o+d);if(f){u=f;break}}return u||"<unknown>"}const r=({entries:a})=>{const o=bn(),u=o&&cn(o);a.forEach(d=>{if(!H$(d))return;const f=d.interactionId;if(f==null||Rf.has(f))return;const h=d.target?$n(d.target):n(d);if(Tg.length>10){const g=Tg.shift();Rf.delete(g)}Tg.push(f),Rf.set(f,{span:u,elementName:h})})};Ea("event",r),Ea("first-input",r)}const Mz=40;function Iz(t,e=iA("fetch")){let n=0,r=0;async function a(o){const u=o.body.length;n+=u,r++;const d={body:o.body,method:"POST",referrerPolicy:"strict-origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};try{const f=await e(t.url,d);return{statusCode:f.status,headers:{"x-sentry-rate-limits":f.headers.get("X-Sentry-Rate-Limits"),"retry-after":f.headers.get("Retry-After")}}}catch(f){throw wz("fetch"),f}finally{n-=u,r--}}return GP(t,a,G_(t.bufferSize||Mz))}const _r=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Dz=30,Nz=50;function Av(t,e,n,r){const a={filename:t,function:e==="<anonymous>"?ya:e,in_app:!0};return n!==void 0&&(a.lineno=n),r!==void 0&&(a.colno=r),a}const Lz=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Pz=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Uz=/\((\S*)(?::(\d+))(?::(\d+))\)/,$z=/at (.+?) ?\(data:(.+?),/,zz=t=>{const e=t.match($z);if(e)return{filename:`<data:${e[2]}>`,function:e[1]};const n=Lz.exec(t);if(n){const[,a,o,u]=n;return Av(a,ya,+o,+u)}const r=Pz.exec(t);if(r){if(r[2]&&r[2].indexOf("eval")===0){const d=Uz.exec(r[2]);d&&(r[2]=d[1],r[3]=d[2],r[4]=d[3])}const[o,u]=cA(r[1]||ya,r[2]);return Av(u,o,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},jz=[Dz,zz],Hz=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Bz=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Fz=t=>{const e=Hz.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const o=Bz.exec(e[3]);o&&(e[1]=e[1]||"eval",e[3]=o[1],e[4]=o[2],e[5]="")}let r=e[3],a=e[1]||ya;return[a,r]=cA(a,r),Av(r,a,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},qz=[Nz,Fz],Gz=[jz,qz],Yz=Mx(...Gz),cA=(t,e)=>{const n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:ya,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},Zd=1024,Vz="Breadcrumbs",Xz=((t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:Vz,setup(n){e.console&&kU(Qz(n)),e.dom&&rA(Jz(n,e.dom)),e.xhr&&sA(Zz(n)),e.fetch&&UR(e5(n)),e.history&&Eh(t5(n)),e.sentry&&n.on("beforeSendEvent",Wz(n))}}}),Kz=Xz;function Wz(t){return function(n){Fe()===t&&Cs({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:ua(n)},{event:n})}}function Jz(t,e){return function(r){if(Fe()!==t)return;let a,o,u=typeof e=="object"?e.serializeAttribute:void 0,d=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;d&&d>Zd&&(_r&&ie.warn(`\`dom.maxStringLength\` cannot exceed ${Zd}, but a value of ${d} was configured. Sentry will use ${Zd} instead.`),d=Zd),typeof u=="string"&&(u=[u]);try{const h=r.event,g=n5(h)?h.target:h;a=$n(g,{keyAttrs:u,maxStringLength:d}),o=$x(g)}catch{a="<unknown>"}if(a.length===0)return;const f={category:`ui.${r.name}`,message:a};o&&(f.data={"ui.component_name":o}),Cs(f,{event:r.event,name:r.name,global:r.global})}}function Qz(t){return function(n){if(Fe()!==t)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:DR(n.level),message:bw(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${bw(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Cs(r,{input:n.args,level:n.level})}}function Zz(t){return function(n){if(Fe()!==t)return;const{startTimestamp:r,endTimestamp:a}=n,o=n.xhr[da];if(!r||!a||!o)return;const{method:u,url:d,status_code:f,body:h}=o,g={method:u,url:d,status_code:f},v={xhr:n.xhr,input:h,startTimestamp:r,endTimestamp:a},_={category:"xhr",data:g,type:"http",level:PR(f)};t.emit("beforeOutgoingRequestBreadcrumb",_,v),Cs(_,v)}}function e5(t){return function(n){if(Fe()!==t)return;const{startTimestamp:r,endTimestamp:a}=n;if(a&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const o=n.fetchData,u={data:n.error,input:n.args,startTimestamp:r,endTimestamp:a},d={category:"fetch",data:o,level:"error",type:"http"};t.emit("beforeOutgoingRequestBreadcrumb",d,u),Cs(d,u)}else{const o=n.response,u={...n.fetchData,status_code:o==null?void 0:o.status};n.fetchData.request_body_size,n.fetchData.response_body_size,o==null||o.status;const d={input:n.args,response:o,startTimestamp:r,endTimestamp:a},f={category:"fetch",data:u,type:"http",level:PR(u.status_code)};t.emit("beforeOutgoingRequestBreadcrumb",f,d),Cs(f,d)}}}function t5(t){return function(n){if(Fe()!==t)return;let r=n.from,a=n.to;const o=va(Ke.location.href);let u=r?va(r):void 0;const d=va(a);u!=null&&u.path||(u=o),o.protocol===d.protocol&&o.host===d.host&&(a=d.relative),o.protocol===u.protocol&&o.host===u.host&&(r=u.relative),Cs({category:"navigation",data:{from:r,to:a}})}}function n5(t){return!!t&&!!t.target}const r5=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],i5="BrowserApiErrors",s5=((t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...t};return{name:i5,setupOnce(){e.setTimeout&&Pn(Ke,"setTimeout",cT),e.setInterval&&Pn(Ke,"setInterval",cT),e.requestAnimationFrame&&Pn(Ke,"requestAnimationFrame",o5),e.XMLHttpRequest&&"XMLHttpRequest"in Ke&&Pn(XMLHttpRequest.prototype,"send",l5);const n=e.eventTarget;n&&(Array.isArray(n)?n:r5).forEach(a=>u5(a,e))}}}),a5=s5;function cT(t){return function(...e){const n=e[0];return e[0]=Jo(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${Pi(t)}`}}),t.apply(this,e)}}function o5(t){return function(e){return t.apply(this,[Jo(e,{mechanism:{data:{handler:Pi(t)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function l5(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(a=>{a in n&&typeof n[a]=="function"&&Pn(n,a,function(o){const u={mechanism:{data:{handler:Pi(o)},handled:!1,type:`auto.browser.browserapierrors.xhr.${a}`}},d=D_(o);return d&&(u.mechanism.data.handler=Pi(d)),Jo(o,u)})}),t.apply(this,e)}}function u5(t,e){var a,o;const r=(a=Ke[t])==null?void 0:a.prototype;(o=r==null?void 0:r.hasOwnProperty)!=null&&o.call(r,"addEventListener")&&(Pn(r,"addEventListener",function(u){return function(d,f,h){try{c5(f)&&(f.handleEvent=Jo(f.handleEvent,{mechanism:{data:{handler:Pi(f),target:t},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return e.unregisterOriginalCallbacks&&d5(this,d,f),u.apply(this,[d,Jo(f,{mechanism:{data:{handler:Pi(f),target:t},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),h])}}),Pn(r,"removeEventListener",function(u){return function(d,f,h){try{const g=f.__sentry_wrapped__;g&&u.call(this,d,g,h)}catch{}return u.call(this,d,f,h)}}))}function c5(t){return typeof t.handleEvent=="function"}function d5(t,e,n){t&&typeof t=="object"&&"removeEventListener"in t&&typeof t.removeEventListener=="function"&&t.removeEventListener(e,n)}const f5=()=>({name:"BrowserSession",setupOnce(){if(typeof Ke.document>"u"){_r&&ie.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Bw({ignoreDuration:!0}),Fw(),Eh(({from:t,to:e})=>{t!==void 0&&t!==e&&(Bw({ignoreDuration:!0}),Fw())})}}),h5="GlobalHandlers",p5=((t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:h5,setupOnce(){Error.stackTraceLimit=50},setup(n){e.onerror&&(g5(n),dT("onerror")),e.onunhandledrejection&&(v5(n),dT("onunhandledrejection"))}}}),m5=p5;function g5(t){Dx(e=>{const{stackParser:n,attachStacktrace:r}=dA();if(Fe()!==t||zR())return;const{msg:a,url:o,line:u,column:d,error:f}=e,h=b5(J_(n,f||a,void 0,r,!1),o,u,d);h.level="error",pR(h,{originalException:f,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function v5(t){Nx(e=>{const{stackParser:n,attachStacktrace:r}=dA();if(Fe()!==t||zR())return;const a=_5(e),o=Yo(a)?y5(a):J_(n,a,void 0,r,!0);o.level="error",pR(o,{originalException:a,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function _5(t){if(Yo(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}function y5(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function b5(t,e,n,r){const a=t.exception=t.exception||{},o=a.values=a.values||[],u=o[0]=o[0]||{},d=u.stacktrace=u.stacktrace||{},f=d.frames=d.frames||[],h=r,g=n,v=S5(e)??hl();return f.length===0&&f.push({colno:h,filename:v,function:ya,in_app:!0,lineno:g}),t}function dT(t){_r&&ie.log(`Global Handler attached: ${t}`)}function dA(){const t=Fe();return(t==null?void 0:t.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}function S5(t){if(!(!Oi(t)||t.length===0)){if(t.startsWith("data:")){const e=t.match(/^data:([^;]+)/),n=e?e[1]:"text/javascript",r=t.includes("base64,");return`<data:${n}${r?",base64":""}>`}return t}}const E5=()=>({name:"HttpContext",preprocessEvent(t){var r;if(!Ke.navigator&&!Ke.location&&!Ke.document)return;const e=X_(),n={...e.headers,...(r=t.request)==null?void 0:r.headers};t.request={...e,...t.request,headers:n}}}),w5="cause",T5=5,x5="LinkedErrors",R5=((t={})=>{const e=t.limit||T5,n=t.key||w5;return{name:x5,preprocessEvent(r,a,o){const u=o.getOptions();CU(K_,u.stackParser,n,e,r,a)}}}),A5=R5;function C5(){return k5()?(_r&&Aa(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function k5(){var o;if(typeof Ke.window>"u")return!1;const t=Ke;if(t.nw)return!1;const e=t.chrome||t.browser;if(!((o=e==null?void 0:e.runtime)!=null&&o.id))return!1;const n=hl(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(Ke===Ke.top&&r.some(u=>n.startsWith(`${u}://`)))}function O5(t){return[bU(),gU(),a5(),Kz(),m5(),A5(),DU(),E5(),f5()]}function M5(t={}){const e=!t.skipBrowserExtensionCheck&&C5();let n=t.defaultIntegrations==null?O5():t.defaultIntegrations;const r={...t,enabled:e?!1:t.enabled,stackParser:x3(t.stackParser||Yz),integrations:NP({integrations:t.integrations,defaultIntegrations:n}),transport:t.transport||Iz};return tU(p$,r)}const ft=Ye,iy="sentryReplaySession",I5="replay_event",sy="Unable to send Replay",D5=3e5,N5=9e5,L5=5e3,P5=5500,U5=6e4,$5=5e3,z5=3,fT=15e4,ef=5e3,j5=3e3,H5=300,ay=2e7,B5=4999,F5=5e4,hT=36e5;var q5=Object.defineProperty,G5=(t,e,n)=>e in t?q5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pT=(t,e,n)=>G5(t,typeof e!="symbol"?e+"":e,n),Ut=(t=>(t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment",t))(Ut||{});function Y5(t){return t.nodeType===t.ELEMENT_NODE}function Bu(t){const e=t==null?void 0:t.host;return(e==null?void 0:e.shadowRoot)===t}function Fu(t){return Object.prototype.toString.call(t)==="[object ShadowRoot]"}function V5(t){return t.includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t}function X5(t){const{cssText:e}=t;if(e.split('"').length<3)return e;const n=["@import",`url(${JSON.stringify(t.href)})`];return t.layerName===""?n.push("layer"):t.layerName&&n.push(`layer(${t.layerName})`),t.supportsText&&n.push(`supports(${t.supportsText})`),t.media.length&&n.push(t.media.mediaText),n.join(" ")+";"}function jf(t){try{const e=t.rules||t.cssRules;return e?V5(Array.from(e,fA).join("")):null}catch{return null}}function K5(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style,a=r[n],o=r.getPropertyPriority(a);e+=`${a}:${r.getPropertyValue(a)}${o?" !important":""};`}return`${t.selectorText} { ${e} }`}function fA(t){let e;if(J5(t))try{e=jf(t.styleSheet)||X5(t)}catch{}else if(Q5(t)){let n=t.cssText;const r=t.selectorText.includes(":"),a=typeof t.style.all=="string"&&t.style.all;if(a&&(n=K5(t)),r&&(n=W5(n)),r||a)return n}return e||t.cssText}function W5(t){const e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(e,"$1\\$2")}function J5(t){return"styleSheet"in t}function Q5(t){return"selectorText"in t}class hA{constructor(){pT(this,"idNodeMap",new Map),pT(this,"nodeMetaMap",new WeakMap)}getId(e){var r;return e?((r=this.getMeta(e))==null?void 0:r.id)??-1:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const n=this.getId(e);this.idNodeMap.delete(n),e.childNodes&&e.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,n){const r=n.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,n)}replace(e,n){const r=this.getNode(e);if(r){const a=this.nodeMetaMap.get(r);a&&this.nodeMetaMap.set(n,a)}this.idNodeMap.set(e,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Z5(){return new hA}function wh({maskInputOptions:t,tagName:e,type:n}){return e==="OPTION"&&(e="SELECT"),!!(t[e.toLowerCase()]||n&&t[n]||n==="password"||e==="INPUT"&&!n&&t.text)}function Zu({isMasked:t,element:e,value:n,maskInputFn:r}){let a=n||"";return t?(r&&(a=r(a,e)),"*".repeat(a.length)):a}function Qo(t){return t.toLowerCase()}function Cv(t){return t.toUpperCase()}const mT="__rrweb_original__";function ej(t){const e=t.getContext("2d");if(!e)return!0;const n=50;for(let r=0;r<t.width;r+=n)for(let a=0;a<t.height;a+=n){const o=e.getImageData,u=mT in o?o[mT]:o;if(new Uint32Array(u.call(e,r,a,Math.min(n,t.width-r),Math.min(n,t.height-a)).data.buffer).some(f=>f!==0))return!1}return!0}function oy(t){const e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?Qo(e):null}function Hf(t,e,n){return e==="INPUT"&&(n==="radio"||n==="checkbox")?t.getAttribute("value")||"":t.value}function pA(t,e){let n;try{n=new URL(t,e??window.location.href)}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,a=n.pathname.match(r);return(a==null?void 0:a[1])??null}const gT={};function mA(t){const e=gT[t];if(e)return e;const n=window.document;let r=window[t];if(n&&typeof n.createElement=="function")try{const a=n.createElement("iframe");a.hidden=!0,n.head.appendChild(a);const o=a.contentWindow;o&&o[t]&&(r=o[t]),n.head.removeChild(a)}catch{}return gT[t]=r.bind(window)}function kv(...t){return mA("setTimeout")(...t)}function gA(...t){return mA("clearTimeout")(...t)}function vA(t){try{return t.contentDocument}catch{}}let tj=1;const nj=new RegExp("[^a-z0-9-_:]"),ec=-2;function ly(){return tj++}function rj(t){if(t instanceof HTMLFormElement)return"form";const e=Qo(t.tagName);return nj.test(e)?"div":e}function ij(t){let e="";return t.indexOf("//")>-1?e=t.split("/").slice(0,3).join("/"):e=t.split("/")[0],e=e.split("?")[0],e}let To,vT;const sj=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,aj=/^(?:[a-z+]+:)?\/\//i,oj=/^www\..*/i,lj=/^(data:)([^,]*),(.*)/i;function uj(t,e){if(!t||e.size===0)return t;try{const n=t.split(";"),r=[];for(let a of n){if(a=a.trim(),!a)continue;const o=a.indexOf(":");if(o===-1){r.push(a);continue}const u=a.slice(0,o).trim();e.has(u)||r.push(a)}return r.join("; ")+(r.length>0&&t.endsWith(";")?";":"")}catch(n){return console.warn("Error filtering CSS properties:",n),t}}function Bf(t,e){return(t||"").replace(sj,(n,r,a,o,u,d)=>{const f=a||u||d,h=r||o||"";if(!f)return n;if(aj.test(f)||oj.test(f))return`url(${h}${f}${h})`;if(lj.test(f))return`url(${h}${f}${h})`;if(f[0]==="/")return`url(${h}${ij(e)+f}${h})`;const g=e.split("/"),v=f.split("/");g.pop();for(const _ of v)_!=="."&&(_===".."?g.pop():g.push(_));return`url(${h}${g.join("/")}${h})`})}const cj=/^[^ \t\n\r\u000c]+/,dj=/^[, \t\n\r\u000c]+/;function fj(t,e){if(e.trim()==="")return e;let n=0;function r(o){let u;const d=o.exec(e.substring(n));return d?(u=d[0],n+=u.length,u):""}const a=[];for(;r(dj),!(n>=e.length);){let o=r(cj);if(o.slice(-1)===",")o=Do(t,o.substring(0,o.length-1)),a.push(o);else{let u="";o=Do(t,o);let d=!1;for(;;){const f=e.charAt(n);if(f===""){a.push((o+u).trim());break}else if(d)f===")"&&(d=!1);else if(f===","){n+=1,a.push((o+u).trim());break}else f==="("&&(d=!0);u+=f,n+=1}}}return a.join(", ")}const _T=new WeakMap;function Do(t,e){return!e||e.trim()===""?e:Th(t,e)}function hj(t){return!!(t.tagName==="svg"||t.ownerSVGElement)}function Th(t,e){let n=_T.get(t);if(n||(n=t.createElement("a"),_T.set(t,n)),!e)e="";else if(e.startsWith("blob:")||e.startsWith("data:"))return e;return n.setAttribute("href",e),n.href}function _A(t,e,n,r,a,o,u){if(!r)return r;if(n==="src"||n==="href"&&!(e==="use"&&r[0]==="#"))return Do(t,r);if(n==="xlink:href"&&r[0]!=="#")return Do(t,r);if(n==="background"&&(e==="table"||e==="td"||e==="th"))return Do(t,r);if(n==="srcset")return fj(t,r);if(n==="style"){let d=Bf(r,Th(t));return u&&u.size>0&&(d=uj(d,u)),d}else if(e==="object"&&n==="data")return Do(t,r);return typeof o=="function"?o(n,r,a):r}function yA(t,e,n){return(t==="video"||t==="audio")&&e==="autoplay"}function pj(t,e,n,r){try{if(r&&t.matches(r))return!1;if(typeof e=="string"){if(t.classList.contains(e))return!0}else for(let a=t.classList.length;a--;){const o=t.classList[a];if(e.test(o))return!0}if(n)return t.matches(n)}catch{}return!1}function mj(t,e){for(let n=t.classList.length;n--;){const r=t.classList[n];if(e.test(r))return!0}return!1}function fa(t,e,n=1/0,r=0){return!t||t.nodeType!==t.ELEMENT_NODE||r>n?-1:e(t)?r:fa(t.parentNode,e,n,r+1)}function No(t,e){return n=>{const r=n;if(r===null)return!1;try{if(t){if(typeof t=="string"){if(r.matches(`.${t}`))return!0}else if(mj(r,t))return!0}return!!(e&&r.matches(e))}catch{return!1}}}function Zo(t,e,n,r,a,o){try{const u=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(u===null)return!1;if(u.tagName==="INPUT"){const h=u.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(h))return!0}let d=-1,f=-1;if(o){if(f=fa(u,No(r,a)),f<0)return!0;d=fa(u,No(e,n),f>=0?f:1/0)}else{if(d=fa(u,No(e,n)),d<0)return!1;f=fa(u,No(r,a),d>=0?d:1/0)}return d>=0?f>=0?d<=f:!0:f>=0?!1:!!o}catch{}return!!o}function gj(t,e,n){const r=t.contentWindow;if(!r)return;let a=!1,o;try{o=r.document.readyState}catch{return}if(o!=="complete"){const d=kv(()=>{a||(e(),a=!0)},n);t.addEventListener("load",()=>{gA(d),a=!0,e()});return}const u="about:blank";if(r.location.href!==u||t.src===u||t.src==="")return kv(e,0),t.addEventListener("load",e);t.addEventListener("load",e)}function vj(t,e,n){let r=!1,a;try{a=t.sheet}catch{return}if(a)return;const o=kv(()=>{r||(e(),r=!0)},n);t.addEventListener("load",()=>{gA(o),r=!0,e()})}function _j(t,e){const{doc:n,mirror:r,blockClass:a,blockSelector:o,unblockSelector:u,maskAllText:d,maskAttributeFn:f,maskTextClass:h,unmaskTextClass:g,maskTextSelector:v,unmaskTextSelector:_,inlineStylesheet:b,maskInputOptions:S={},maskTextFn:w,maskInputFn:T,dataURLOptions:x={},inlineImages:I,recordCanvas:D,keepIframeSrcFn:q,newlyAddedElement:ee=!1,ignoreCSSAttributes:Q}=e,O=yj(n,r);switch(t.nodeType){case t.DOCUMENT_NODE:return t.compatMode!=="CSS1Compat"?{type:Ut.Document,childNodes:[],compatMode:t.compatMode}:{type:Ut.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:Ut.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:O};case t.ELEMENT_NODE:return Sj(t,{doc:n,blockClass:a,blockSelector:o,unblockSelector:u,inlineStylesheet:b,maskAttributeFn:f,maskInputOptions:S,maskInputFn:T,dataURLOptions:x,inlineImages:I,recordCanvas:D,keepIframeSrcFn:q,newlyAddedElement:ee,rootId:O,maskTextClass:h,unmaskTextClass:g,maskTextSelector:v,unmaskTextSelector:_,ignoreCSSAttributes:Q});case t.TEXT_NODE:return bj(t,{doc:n,maskAllText:d,maskTextClass:h,unmaskTextClass:g,maskTextSelector:v,unmaskTextSelector:_,maskTextFn:w,maskInputOptions:S,maskInputFn:T,rootId:O});case t.CDATA_SECTION_NODE:return{type:Ut.CDATA,textContent:"",rootId:O};case t.COMMENT_NODE:return{type:Ut.Comment,textContent:t.textContent||"",rootId:O};default:return!1}}function yj(t,e){if(!e.hasNode(t))return;const n=e.getId(t);return n===1?void 0:n}function bj(t,e){var x;const{maskAllText:n,maskTextClass:r,unmaskTextClass:a,maskTextSelector:o,unmaskTextSelector:u,maskTextFn:d,maskInputOptions:f,maskInputFn:h,rootId:g}=e,v=t.parentNode&&t.parentNode.tagName;let _=t.textContent;const b=v==="STYLE"?!0:void 0,S=v==="SCRIPT"?!0:void 0,w=v==="TEXTAREA"?!0:void 0;if(b&&_){try{t.nextSibling||t.previousSibling||(x=t.parentNode.sheet)!=null&&x.cssRules&&(_=jf(t.parentNode.sheet))}catch(I){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${I}`,t)}_=Bf(_,Th(e.doc))}S&&(_="SCRIPT_PLACEHOLDER");const T=Zo(t,r,o,a,u,n);if(!b&&!S&&!w&&_&&T&&(_=d?d(_,t.parentElement):_.replace(/[\S]/g,"*")),w&&_&&(f.textarea||T)&&(_=h?h(_,t.parentNode):_.replace(/[\S]/g,"*")),v==="OPTION"&&_){const I=wh({type:null,tagName:v,maskInputOptions:f});_=Zu({isMasked:Zo(t,r,o,a,u,I),element:t,value:_,maskInputFn:h})}return{type:Ut.Text,textContent:_||"",isStyle:b,rootId:g}}function Sj(t,e){const{doc:n,blockClass:r,blockSelector:a,unblockSelector:o,inlineStylesheet:u,maskInputOptions:d={},maskAttributeFn:f,maskInputFn:h,dataURLOptions:g={},inlineImages:v,recordCanvas:_,keepIframeSrcFn:b,newlyAddedElement:S=!1,rootId:w,maskTextClass:T,unmaskTextClass:x,maskTextSelector:I,unmaskTextSelector:D,ignoreCSSAttributes:q}=e,ee=pj(t,r,a,o),Q=rj(t);let O={};const z=t.attributes.length;for(let K=0;K<z;K++){const te=t.attributes[K];te.name&&!yA(Q,te.name,te.value)&&(O[te.name]=_A(n,Q,Qo(te.name),te.value,t,f,q))}if(Q==="link"&&u){const K=Array.from(n.styleSheets).find(se=>se.href===t.href);let te=null;K&&(te=jf(K)),te&&(O.rel=null,O.href=null,O.crossorigin=null,O._cssText=Bf(te,K.href))}if(Q==="style"&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const K=jf(t.sheet);K&&(O._cssText=Bf(K,Th(n)))}if(Q==="input"||Q==="textarea"||Q==="select"||Q==="option"){const K=t,te=oy(K),se=Hf(K,Cv(Q),te),ce=K.checked;if(te!=="submit"&&te!=="button"&&se){const le=Zo(K,T,I,x,D,wh({type:te,tagName:Cv(Q),maskInputOptions:d}));O.value=Zu({isMasked:le,element:K,value:se,maskInputFn:h})}ce&&(O.checked=ce)}if(Q==="option"&&(t.selected&&!d.select?O.selected=!0:delete O.selected),Q==="canvas"&&_){if(t.__context==="2d")ej(t)||(O.rr_dataURL=t.toDataURL(g.type,g.quality));else if(!("__context"in t)){const K=t.toDataURL(g.type,g.quality),te=n.createElement("canvas");te.width=t.width,te.height=t.height;const se=te.toDataURL(g.type,g.quality);K!==se&&(O.rr_dataURL=K)}}if(Q==="img"&&v){To||(To=n.createElement("canvas"),vT=To.getContext("2d"));const K=t,te=K.currentSrc||K.getAttribute("src")||"<unknown-src>",se=K.crossOrigin,ce=()=>{K.removeEventListener("load",ce);try{To.width=K.naturalWidth,To.height=K.naturalHeight,vT.drawImage(K,0,0),O.rr_dataURL=To.toDataURL(g.type,g.quality)}catch(le){if(K.crossOrigin!=="anonymous"){K.crossOrigin="anonymous",K.complete&&K.naturalWidth!==0?ce():K.addEventListener("load",ce);return}else console.warn(`Cannot inline img src=${te}! Error: ${le}`)}K.crossOrigin==="anonymous"&&(se?O.crossOrigin=se:K.removeAttribute("crossorigin"))};K.complete&&K.naturalWidth!==0?ce():K.addEventListener("load",ce)}if((Q==="audio"||Q==="video")&&(O.rr_mediaState=t.paused?"paused":"played",O.rr_mediaCurrentTime=t.currentTime),S||(t.scrollLeft&&(O.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(O.rr_scrollTop=t.scrollTop)),ee){const{width:K,height:te}=t.getBoundingClientRect();O={class:O.class,rr_width:`${K}px`,rr_height:`${te}px`}}Q==="iframe"&&!b(O.src)&&(!ee&&!vA(t)&&(O.rr_src=O.src),delete O.src);let ne;try{customElements.get(Q)&&(ne=!0)}catch{}return{type:Ut.Element,tagName:Q,attributes:O,childNodes:[],isSVG:hj(t)||void 0,needBlock:ee,rootId:w,isCustom:ne}}function ct(t){return t==null?"":t.toLowerCase()}function Ej(t,e){if(e.comment&&t.type===Ut.Comment)return!0;if(t.type===Ut.Element){if(e.script&&(t.tagName==="script"||t.tagName==="link"&&(t.attributes.rel==="preload"||t.attributes.rel==="modulepreload")||t.tagName==="link"&&t.attributes.rel==="prefetch"&&typeof t.attributes.href=="string"&&pA(t.attributes.href)==="js"))return!0;if(e.headFavicon&&(t.tagName==="link"&&t.attributes.rel==="shortcut icon"||t.tagName==="meta"&&(ct(t.attributes.name).match(/^msapplication-tile(image|color)$/)||ct(t.attributes.name)==="application-name"||ct(t.attributes.rel)==="icon"||ct(t.attributes.rel)==="apple-touch-icon"||ct(t.attributes.rel)==="shortcut icon")))return!0;if(t.tagName==="meta"){if(e.headMetaDescKeywords&&ct(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(ct(t.attributes.property).match(/^(og|twitter|fb):/)||ct(t.attributes.name).match(/^(og|twitter):/)||ct(t.attributes.name)==="pinterest"))return!0;if(e.headMetaRobots&&(ct(t.attributes.name)==="robots"||ct(t.attributes.name)==="googlebot"||ct(t.attributes.name)==="bingbot"))return!0;if(e.headMetaHttpEquiv&&t.attributes["http-equiv"]!==void 0)return!0;if(e.headMetaAuthorship&&(ct(t.attributes.name)==="author"||ct(t.attributes.name)==="generator"||ct(t.attributes.name)==="framework"||ct(t.attributes.name)==="publisher"||ct(t.attributes.name)==="progid"||ct(t.attributes.property).match(/^article:/)||ct(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&(ct(t.attributes.name)==="google-site-verification"||ct(t.attributes.name)==="yandex-verification"||ct(t.attributes.name)==="csrf-token"||ct(t.attributes.name)==="p:domain_verify"||ct(t.attributes.name)==="verify-v1"||ct(t.attributes.name)==="verification"||ct(t.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Lo(t,e){const{doc:n,mirror:r,blockClass:a,blockSelector:o,unblockSelector:u,maskAllText:d,maskTextClass:f,unmaskTextClass:h,maskTextSelector:g,unmaskTextSelector:v,skipChild:_=!1,inlineStylesheet:b=!0,maskInputOptions:S={},maskAttributeFn:w,maskTextFn:T,maskInputFn:x,slimDOMOptions:I,dataURLOptions:D={},inlineImages:q=!1,recordCanvas:ee=!1,onSerialize:Q,onIframeLoad:O,iframeLoadTimeout:z=5e3,onBlockedImageLoad:ne,onStylesheetLoad:K,stylesheetLoadTimeout:te=5e3,keepIframeSrcFn:se=()=>!1,newlyAddedElement:ce=!1,ignoreCSSAttributes:le}=e;let{preserveWhiteSpace:_e=!0}=e;const k=_j(t,{doc:n,mirror:r,blockClass:a,blockSelector:o,maskAllText:d,unblockSelector:u,maskTextClass:f,unmaskTextClass:h,maskTextSelector:g,unmaskTextSelector:v,inlineStylesheet:b,maskInputOptions:S,maskAttributeFn:w,maskTextFn:T,maskInputFn:x,dataURLOptions:D,inlineImages:q,recordCanvas:ee,keepIframeSrcFn:se,newlyAddedElement:ce,ignoreCSSAttributes:le});if(!k)return console.warn(t,"not serialized"),null;let G;r.hasNode(t)?G=r.getId(t):Ej(k,I)||!_e&&k.type===Ut.Text&&!k.isStyle&&!k.textContent.replace(/^\s+|\s+$/gm,"").length?G=ec:G=ly();const F=Object.assign(k,{id:G});if(r.add(t,F),G===ec)return null;Q&&Q(t);let ae=!_;if(F.type===Ut.Element){ae=ae&&!F.needBlock;const J=t.shadowRoot;J&&Fu(J)&&(F.isShadowHost=!0)}if((F.type===Ut.Document||F.type===Ut.Element)&&ae){I.headWhitespace&&F.type===Ut.Element&&F.tagName==="head"&&(_e=!1);const J={doc:n,mirror:r,blockClass:a,blockSelector:o,maskAllText:d,unblockSelector:u,maskTextClass:f,unmaskTextClass:h,maskTextSelector:g,unmaskTextSelector:v,skipChild:_,inlineStylesheet:b,maskInputOptions:S,maskAttributeFn:w,maskTextFn:T,maskInputFn:x,slimDOMOptions:I,dataURLOptions:D,inlineImages:q,recordCanvas:ee,preserveWhiteSpace:_e,onSerialize:Q,onIframeLoad:O,iframeLoadTimeout:z,onBlockedImageLoad:ne,onStylesheetLoad:K,stylesheetLoadTimeout:te,keepIframeSrcFn:se,ignoreCSSAttributes:le},R=t.childNodes?Array.from(t.childNodes):[];for(const N of R){const j=Lo(N,J);j&&F.childNodes.push(j)}if(Y5(t)&&t.shadowRoot)for(const N of Array.from(t.shadowRoot.childNodes)){const j=Lo(N,J);j&&(Fu(t.shadowRoot)&&(j.isShadow=!0),F.childNodes.push(j))}}if(t.parentNode&&Bu(t.parentNode)&&Fu(t.parentNode)&&(F.isShadow=!0),F.type===Ut.Element&&F.tagName==="iframe"&&!F.needBlock&&gj(t,()=>{const J=vA(t);if(J&&O){const R=Lo(J,{doc:J,mirror:r,blockClass:a,blockSelector:o,unblockSelector:u,maskAllText:d,maskTextClass:f,unmaskTextClass:h,maskTextSelector:g,unmaskTextSelector:v,skipChild:!1,inlineStylesheet:b,maskInputOptions:S,maskAttributeFn:w,maskTextFn:T,maskInputFn:x,slimDOMOptions:I,dataURLOptions:D,inlineImages:q,recordCanvas:ee,preserveWhiteSpace:_e,onSerialize:Q,onIframeLoad:O,iframeLoadTimeout:z,onStylesheetLoad:K,stylesheetLoadTimeout:te,keepIframeSrcFn:se,ignoreCSSAttributes:le});R&&O(t,R)}},z),F.type===Ut.Element&&F.tagName==="img"&&!t.complete&&F.needBlock){const J=t,R=()=>{if(J.isConnected&&!J.complete&&ne)try{const N=J.getBoundingClientRect();N.width>0&&N.height>0&&ne(J,F,N)}catch{}J.removeEventListener("load",R)};J.isConnected&&J.addEventListener("load",R)}return F.type===Ut.Element&&F.tagName==="link"&&typeof F.attributes.rel=="string"&&(F.attributes.rel==="stylesheet"||F.attributes.rel==="preload"&&typeof F.attributes.href=="string"&&pA(F.attributes.href)==="css")&&vj(t,()=>{if(K){const J=Lo(t,{doc:n,mirror:r,blockClass:a,blockSelector:o,unblockSelector:u,maskAllText:d,maskTextClass:f,unmaskTextClass:h,maskTextSelector:g,unmaskTextSelector:v,skipChild:!1,inlineStylesheet:b,maskInputOptions:S,maskAttributeFn:w,maskTextFn:T,maskInputFn:x,slimDOMOptions:I,dataURLOptions:D,inlineImages:q,recordCanvas:ee,preserveWhiteSpace:_e,onSerialize:Q,onIframeLoad:O,iframeLoadTimeout:z,onStylesheetLoad:K,stylesheetLoadTimeout:te,keepIframeSrcFn:se,ignoreCSSAttributes:le});J&&K(t,J)}},te),F.type===Ut.Element&&delete F.needBlock,F}function wj(t,e){const{mirror:n=new hA,blockClass:r="rr-block",blockSelector:a=null,unblockSelector:o=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:f=null,maskTextSelector:h=null,unmaskTextSelector:g=null,inlineStylesheet:v=!0,inlineImages:_=!1,recordCanvas:b=!1,maskAllInputs:S=!1,maskAttributeFn:w,maskTextFn:T,maskInputFn:x,slimDOM:I=!1,dataURLOptions:D,preserveWhiteSpace:q,onSerialize:ee,onIframeLoad:Q,iframeLoadTimeout:O,onBlockedImageLoad:z,onStylesheetLoad:ne,stylesheetLoadTimeout:K,keepIframeSrcFn:te=()=>!1,ignoreCSSAttributes:se=new Set([])}=e||{};return Lo(t,{doc:t,mirror:n,blockClass:r,blockSelector:a,unblockSelector:o,maskAllText:u,maskTextClass:d,unmaskTextClass:f,maskTextSelector:h,unmaskTextSelector:g,skipChild:!1,inlineStylesheet:v,maskInputOptions:S===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:S===!1?{}:S,maskAttributeFn:w,maskTextFn:T,maskInputFn:x,slimDOMOptions:I===!0||I==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:I==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:I===!1?{}:I,dataURLOptions:D,inlineImages:_,recordCanvas:b,preserveWhiteSpace:q,onSerialize:ee,onIframeLoad:Q,iframeLoadTimeout:O,onBlockedImageLoad:z,onStylesheetLoad:ne,stylesheetLoadTimeout:K,keepIframeSrcFn:te,newlyAddedElement:!1,ignoreCSSAttributes:se})}function yn(t,e,n=document){const r={capture:!0,passive:!0};return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e,r)}const ko=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let yT={map:{},getId(){return console.error(ko),-1},getNode(){return console.error(ko),null},removeNodeFromMap(){console.error(ko)},has(){return console.error(ko),!1},reset(){console.error(ko)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(yT=new Proxy(yT,{get(t,e,n){return e==="map"&&console.error(ko),Reflect.get(t,e,n)}}));function tc(t,e,n={}){let r=null,a=0;return function(...o){const u=Date.now();!a&&n.leading===!1&&(a=u);const d=e-(u-a),f=this;d<=0||d>e?(r&&(Oj(r),r=null),a=u,t.apply(f,o)):!r&&n.trailing!==!1&&(r=xh(()=>{a=n.leading===!1?0:Date.now(),r=null,t.apply(f,o)},d))}}function bA(t,e,n,r,a=window){const o=a.Object.getOwnPropertyDescriptor(t,e);return a.Object.defineProperty(t,e,r?n:{set(u){xh(()=>{n.set.call(this,u)},0),o&&o.set&&o.set.call(this,u)}}),()=>bA(t,e,o||{},!0)}function uy(t,e,n){try{if(!(e in t))return()=>{};const r=t[e],a=n(r);return typeof a=="function"&&(a.prototype=a.prototype||{},Object.defineProperties(a,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=a,()=>{t[e]=r}}catch{return()=>{}}}let Ff=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Ff=()=>new Date().getTime());function SA(t){var n,r,a,o,u,d;const e=t.document;return{left:e.scrollingElement?e.scrollingElement.scrollLeft:t.pageXOffset!==void 0?t.pageXOffset:(e==null?void 0:e.documentElement.scrollLeft)||((r=(n=e==null?void 0:e.body)==null?void 0:n.parentElement)==null?void 0:r.scrollLeft)||((a=e==null?void 0:e.body)==null?void 0:a.scrollLeft)||0,top:e.scrollingElement?e.scrollingElement.scrollTop:t.pageYOffset!==void 0?t.pageYOffset:(e==null?void 0:e.documentElement.scrollTop)||((u=(o=e==null?void 0:e.body)==null?void 0:o.parentElement)==null?void 0:u.scrollTop)||((d=e==null?void 0:e.body)==null?void 0:d.scrollTop)||0}}function EA(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function wA(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function TA(t){if(!t)return null;try{return t.nodeType===t.ELEMENT_NODE?t:t.parentElement}catch{return null}}function Kn(t,e,n,r,a){if(!t)return!1;const o=TA(t);if(!o)return!1;const u=No(e,n);if(!a){const h=r&&o.matches(r);return u(o)&&!h}const d=fa(o,u);let f=-1;return d<0?!1:(r&&(f=fa(o,No(null,r))),d>-1&&f<0?!0:d<f)}function Tj(t,e){return e.getId(t)!==-1}function xg(t,e){return e.getId(t)===ec}function xA(t,e){if(Bu(t))return!1;const n=e.getId(t);return e.has(n)?t.parentNode&&t.parentNode.nodeType===t.DOCUMENT_NODE?!1:t.parentNode?xA(t.parentNode,e):!0:!0}function Ov(t){return!!t.changedTouches}function xj(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let n=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function RA(t,e){return!!(t.nodeName==="IFRAME"&&e.getMeta(t))}function AA(t,e){return!!(t.nodeName==="LINK"&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&t.getAttribute("rel")==="stylesheet"&&e.getMeta(t))}function Mv(t){return!!(t!=null&&t.shadowRoot)}class Rj{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return this.styleIDMap.get(e)??-1}has(e){return this.styleIDMap.has(e)}add(e,n){if(this.has(e))return this.getId(e);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(e,r),this.idStyleMap.set(r,e),r}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function CA(t){var n,r;let e=null;return((r=(n=t.getRootNode)==null?void 0:n.call(t))==null?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(e=t.getRootNode().host),e}function Aj(t){let e=t,n;for(;n=CA(e);)e=n;return e}function Cj(t){const e=t.ownerDocument;if(!e)return!1;const n=Aj(t);return e.contains(n)}function kA(t){const e=t.ownerDocument;return e?e.contains(t)||Cj(t):!1}const bT={};function cy(t){const e=bT[t];if(e)return e;const n=window.document;let r=window[t];if(n&&typeof n.createElement=="function")try{const a=n.createElement("iframe");a.hidden=!0,n.head.appendChild(a);const o=a.contentWindow;o&&o[t]&&(r=o[t]),n.head.removeChild(a)}catch{}return bT[t]=r.bind(window)}function kj(...t){return cy("requestAnimationFrame")(...t)}function xh(...t){return cy("setTimeout")(...t)}function Oj(...t){return cy("clearTimeout")(...t)}var De=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(De||{}),Ce=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(Ce||{}),vn=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(vn||{}),Ti=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))(Ti||{}),Oo=(t=>(t[t.Play=0]="Play",t[t.Pause=1]="Pause",t[t.Seeked=2]="Seeked",t[t.VolumeChange=3]="VolumeChange",t[t.RateChange=4]="RateChange",t))(Oo||{});function dy(t){try{return t.contentDocument}catch{}}function Mj(t){try{return t.contentWindow}catch{}}function ST(t){return"__ln"in t}class Ij{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<e;r++)n=(n==null?void 0:n.next)||null;return n}addNode(e){const n={value:e,previous:null,next:null};if(e.__ln=n,e.previousSibling&&ST(e.previousSibling)){const r=e.previousSibling.__ln.next;n.next=r,n.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(e.nextSibling&&ST(e.nextSibling)&&e.nextSibling.__ln.previous){const r=e.nextSibling.__ln.previous;n.previous=r,n.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(e){const n=e.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const ET=(t,e)=>`${t}@${e}`;class Dj{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],n=new Set,r=new Ij,a=f=>{let h=f,g=ec;for(;g===ec;)h=h&&h.nextSibling,g=h&&this.mirror.getId(h);return g},o=f=>{if(!f.parentNode||!kA(f))return;const h=Bu(f.parentNode)?this.mirror.getId(CA(f)):this.mirror.getId(f.parentNode),g=a(f);if(h===-1||g===-1)return r.addNode(f);const v=Lo(f,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:_=>{RA(_,this.mirror)&&!Kn(_,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(_),AA(_,this.mirror)&&this.stylesheetManager.trackLinkElement(_),Mv(f)&&this.shadowDomManager.addShadowRoot(f.shadowRoot,this.doc)},onIframeLoad:(_,b)=>{Kn(_,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(_,b),_.contentWindow&&this.canvasManager.addWindow(_.contentWindow),this.shadowDomManager.observeAttachShadow(_))},onStylesheetLoad:(_,b)=>{this.stylesheetManager.attachLinkElement(_,b)},onBlockedImageLoad:(_,b,{width:S,height:w})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:b.id,attributes:{style:{width:`${S}px`,height:`${w}px`}}}]})},ignoreCSSAttributes:this.ignoreCSSAttributes});v&&(e.push({parentId:h,nextId:g,node:v}),n.add(v.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const f of this.movedSet)wT(this.removes,f,this.mirror)&&!this.movedSet.has(f.parentNode)||o(f);for(const f of this.addedSet)!TT(this.droppedSet,f)&&!wT(this.removes,f,this.mirror)||TT(this.movedSet,f)?o(f):this.droppedSet.add(f);let u=null;for(;r.length;){let f=null;if(u){const h=this.mirror.getId(u.value.parentNode),g=a(u.value);h!==-1&&g!==-1&&(f=u)}if(!f){let h=r.tail;for(;h;){const g=h;if(h=h.previous,g){const v=this.mirror.getId(g.value.parentNode);if(a(g.value)===-1)continue;if(v!==-1){f=g;break}else{const b=g.value;if(b.parentNode&&b.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const S=b.parentNode.host;if(this.mirror.getId(S)!==-1){f=g;break}}}}}}if(!f){for(;r.head;)r.removeNode(r.head.value);break}u=f.previous,r.removeNode(f.value),o(f.value)}const d={texts:this.texts.map(f=>({id:this.mirror.getId(f.node),value:f.value})).filter(f=>!n.has(f.id)).filter(f=>this.mirror.has(f.id)),attributes:this.attributes.map(f=>{const{attributes:h}=f;if(typeof h.style=="string"){const g=JSON.stringify(f.styleDiff),v=JSON.stringify(f._unchangedStyles);g.length<h.style.length&&(g+v).split("var(").length===h.style.split("var(").length&&(h.style=f.styleDiff)}return{id:this.mirror.getId(f.node),attributes:h}}).filter(f=>!n.has(f.id)).filter(f=>this.mirror.has(f.id)),removes:this.removes,adds:e};!d.texts.length&&!d.attributes.length&&!d.removes.length&&!d.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(d))},this.processMutation=e=>{if(!xg(e.target,this.mirror))switch(e.type){case"characterData":{const n=e.target.textContent;!Kn(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==e.oldValue&&this.texts.push({value:Zo(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,TA(e.target)):n.replace(/[\S]/g,"*"):n,node:e.target});break}case"attributes":{const n=e.target;let r=e.attributeName,a=e.target.getAttribute(r);if(r==="value"){const u=oy(n),d=n.tagName;a=Hf(n,d,u);const f=wh({maskInputOptions:this.maskInputOptions,tagName:d,type:u}),h=Zo(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,f);a=Zu({isMasked:h,element:n,value:a,maskInputFn:this.maskInputFn})}if(Kn(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||a===e.oldValue)return;let o=this.attributeMap.get(e.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(a))if(!dy(n))r="rr_src";else return;if(o||(o={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(e.target,o)),r==="type"&&n.tagName==="INPUT"&&(e.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!yA(n.tagName,r)&&(o.attributes[r]=_A(this.doc,Qo(n.tagName),Qo(r),a,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const u=this.unattachedDoc.createElement("span");e.oldValue&&u.setAttribute("style",e.oldValue);for(const d of Array.from(n.style)){const f=n.style.getPropertyValue(d),h=n.style.getPropertyPriority(d);f!==u.style.getPropertyValue(d)||h!==u.style.getPropertyPriority(d)?h===""?o.styleDiff[d]=f:o.styleDiff[d]=[f,h]:o._unchangedStyles[d]=[f,h]}for(const d of Array.from(u.style))n.style.getPropertyValue(d)===""&&(o.styleDiff[d]=!1)}break}case"childList":{if(Kn(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(n=>this.genAdds(n,e.target)),e.removedNodes.forEach(n=>{const r=this.mirror.getId(n),a=Bu(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);Kn(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||xg(n,this.mirror)||!Tj(n,this.mirror)||(this.addedSet.has(n)?(Iv(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(e.target)&&r===-1||xA(e.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[ET(r,a)]?Iv(this.movedSet,n):this.removes.push({parentId:a,id:r,isShadow:Bu(e.target)&&Fu(e.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(e,n)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(xg(e,this.mirror))return;this.movedSet.add(e);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[ET(this.mirror.getId(e),r)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);Kn(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes&&e.childNodes.forEach(r=>this.genAdds(r)),Mv(e)&&e.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(n=>{this[n]=e[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Iv(t,e){var n;t.delete(e),(n=e.childNodes)==null||n.forEach(r=>Iv(t,r))}function wT(t,e,n){return t.length===0?!1:Nj(t,e,n)}function Nj(t,e,n){let r=e.parentNode;for(;r;){const a=n.getId(r);if(t.some(o=>o.id===a))return!0;r=r.parentNode}return!1}function TT(t,e){return t.size===0?!1:OA(t,e)}function OA(t,e){const{parentNode:n}=e;return n?t.has(n)?!0:OA(t,n):!1}let qu;function Lj(t){qu=t}function Pj(){qu=void 0}const Ge=t=>qu?(...n)=>{try{return t(...n)}catch(r){if(qu&&qu(r)===!0)return()=>{};throw r}}:t,Po=[];function Ec(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch{}return t&&t.target}function MA(t,e){var u,d;const n=new Dj;Po.push(n),n.init(t);let r=window.MutationObserver||window.__rrMutationObserver;const a=(d=(u=window==null?void 0:window.Zone)==null?void 0:u.__symbol__)==null?void 0:d.call(u,"MutationObserver");a&&window[a]&&(r=window[a]);const o=new r(Ge(f=>{t.onMutation&&t.onMutation(f)===!1||n.processMutations.bind(n)(f)}));return o.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function Uj({mousemoveCb:t,sampling:e,doc:n,mirror:r}){if(e.mousemove===!1)return()=>{};const a=typeof e.mousemove=="number"?e.mousemove:50,o=typeof e.mousemoveCallback=="number"?e.mousemoveCallback:500;let u=[],d;const f=tc(Ge(v=>{const _=Date.now()-d;t(u.map(b=>(b.timeOffset-=_,b)),v),u=[],d=null}),o),h=Ge(tc(Ge(v=>{const _=Ec(v),{clientX:b,clientY:S}=Ov(v)?v.changedTouches[0]:v;d||(d=Ff()),u.push({x:b,y:S,id:r.getId(_),timeOffset:Ff()-d}),f(typeof DragEvent<"u"&&v instanceof DragEvent?Ce.Drag:v instanceof MouseEvent?Ce.MouseMove:Ce.TouchMove)}),a,{trailing:!1})),g=[yn("mousemove",h,n),yn("touchmove",h,n),yn("drag",h,n)];return Ge(()=>{g.forEach(v=>v())})}function $j({mouseInteractionCb:t,doc:e,mirror:n,blockClass:r,blockSelector:a,unblockSelector:o,sampling:u}){if(u.mouseInteraction===!1)return()=>{};const d=u.mouseInteraction===!0||u.mouseInteraction===void 0?{}:u.mouseInteraction,f=[];let h=null;const g=v=>_=>{const b=Ec(_);if(Kn(b,r,a,o,!0))return;let S=null,w=v;if("pointerType"in _){switch(_.pointerType){case"mouse":S=Ti.Mouse;break;case"touch":S=Ti.Touch;break;case"pen":S=Ti.Pen;break}S===Ti.Touch?vn[v]===vn.MouseDown?w="TouchStart":vn[v]===vn.MouseUp&&(w="TouchEnd"):Ti.Pen}else Ov(_)&&(S=Ti.Touch);S!==null?(h=S,(w.startsWith("Touch")&&S===Ti.Touch||w.startsWith("Mouse")&&S===Ti.Mouse)&&(S=null)):vn[v]===vn.Click&&(S=h,h=null);const T=Ov(_)?_.changedTouches[0]:_;if(!T)return;const x=n.getId(b),{clientX:I,clientY:D}=T;Ge(t)({type:vn[w],id:x,x:I,y:D,...S!==null&&{pointerType:S}})};return Object.keys(vn).filter(v=>Number.isNaN(Number(v))&&!v.endsWith("_Departed")&&d[v]!==!1).forEach(v=>{let _=Qo(v);const b=g(v);if(window.PointerEvent)switch(vn[v]){case vn.MouseDown:case vn.MouseUp:_=_.replace("mouse","pointer");break;case vn.TouchStart:case vn.TouchEnd:return}f.push(yn(_,b,e))}),Ge(()=>{f.forEach(v=>v())})}function IA({scrollCb:t,doc:e,mirror:n,blockClass:r,blockSelector:a,unblockSelector:o,sampling:u}){const d=Ge(tc(Ge(f=>{const h=Ec(f);if(!h||Kn(h,r,a,o,!0))return;const g=n.getId(h);if(h===e&&e.defaultView){const v=SA(e.defaultView);t({id:g,x:v.left,y:v.top})}else t({id:g,x:h.scrollLeft,y:h.scrollTop})}),u.scroll||100));return yn("scroll",d,e)}function zj({viewportResizeCb:t},{win:e}){let n=-1,r=-1;const a=Ge(tc(Ge(()=>{const o=EA(),u=wA();(n!==o||r!==u)&&(t({width:Number(u),height:Number(o)}),n=o,r=u)}),200));return yn("resize",a,e)}const jj=["INPUT","TEXTAREA","SELECT"],xT=new WeakMap;function Hj({inputCb:t,doc:e,mirror:n,blockClass:r,blockSelector:a,unblockSelector:o,ignoreClass:u,ignoreSelector:d,maskInputOptions:f,maskInputFn:h,sampling:g,userTriggeredOnInput:v,maskTextClass:_,unmaskTextClass:b,maskTextSelector:S,unmaskTextSelector:w}){function T(O){let z=Ec(O);const ne=O.isTrusted,K=z&&Cv(z.tagName);if(K==="OPTION"&&(z=z.parentElement),!z||!K||jj.indexOf(K)<0||Kn(z,r,a,o,!0))return;const te=z;if(te.classList.contains(u)||d&&te.matches(d))return;const se=oy(z);let ce=Hf(te,K,se),le=!1;const _e=wh({maskInputOptions:f,tagName:K,type:se}),k=Zo(z,_,S,b,w,_e);(se==="radio"||se==="checkbox")&&(le=z.checked),ce=Zu({isMasked:k,element:z,value:ce,maskInputFn:h}),x(z,v?{text:ce,isChecked:le,userTriggered:ne}:{text:ce,isChecked:le});const G=z.name;se==="radio"&&G&&le&&e.querySelectorAll(`input[type="radio"][name="${G}"]`).forEach(F=>{if(F!==z){const ae=Zu({isMasked:k,element:F,value:Hf(F,K,se),maskInputFn:h});x(F,v?{text:ae,isChecked:!le,userTriggered:!1}:{text:ae,isChecked:!le})}})}function x(O,z){const ne=xT.get(O);if(!ne||ne.text!==z.text||ne.isChecked!==z.isChecked){xT.set(O,z);const K=n.getId(O);Ge(t)({...z,id:K})}}const D=(g.input==="last"?["change"]:["input","change"]).map(O=>yn(O,Ge(T),e)),q=e.defaultView;if(!q)return()=>{D.forEach(O=>O())};const ee=q.Object.getOwnPropertyDescriptor(q.HTMLInputElement.prototype,"value"),Q=[[q.HTMLInputElement.prototype,"value"],[q.HTMLInputElement.prototype,"checked"],[q.HTMLSelectElement.prototype,"value"],[q.HTMLTextAreaElement.prototype,"value"],[q.HTMLSelectElement.prototype,"selectedIndex"],[q.HTMLOptionElement.prototype,"selected"]];return ee&&ee.set&&D.push(...Q.map(O=>bA(O[0],O[1],{set(){Ge(T)({target:this,isTrusted:!1})}},!1,q))),Ge(()=>{D.forEach(O=>O())})}function qf(t){const e=[];function n(r,a){if(tf("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||tf("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||tf("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||tf("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const u=Array.from(r.parentRule.cssRules).indexOf(r);a.unshift(u)}else if(r.parentStyleSheet){const u=Array.from(r.parentStyleSheet.cssRules).indexOf(r);a.unshift(u)}return a}return n(t,e)}function ys(t,e,n){let r,a;return t?(t.ownerNode?r=e.getId(t.ownerNode):a=n.getId(t),{styleId:a,id:r}):{}}function Bj({styleSheetRuleCb:t,mirror:e,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const a=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(a,{apply:Ge((g,v,_)=>{const[b,S]=_,{id:w,styleId:T}=ys(v,e,n.styleMirror);return(w&&w!==-1||T&&T!==-1)&&t({id:w,styleId:T,adds:[{rule:b,index:S}]}),g.apply(v,_)})});const o=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:Ge((g,v,_)=>{const[b]=_,{id:S,styleId:w}=ys(v,e,n.styleMirror);return(S&&S!==-1||w&&w!==-1)&&t({id:S,styleId:w,removes:[{index:b}]}),g.apply(v,_)})});let u;r.CSSStyleSheet.prototype.replace&&(u=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(u,{apply:Ge((g,v,_)=>{const[b]=_,{id:S,styleId:w}=ys(v,e,n.styleMirror);return(S&&S!==-1||w&&w!==-1)&&t({id:S,styleId:w,replace:b}),g.apply(v,_)})}));let d;r.CSSStyleSheet.prototype.replaceSync&&(d=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(d,{apply:Ge((g,v,_)=>{const[b]=_,{id:S,styleId:w}=ys(v,e,n.styleMirror);return(S&&S!==-1||w&&w!==-1)&&t({id:S,styleId:w,replaceSync:b}),g.apply(v,_)})}));const f={};nf("CSSGroupingRule")?f.CSSGroupingRule=r.CSSGroupingRule:(nf("CSSMediaRule")&&(f.CSSMediaRule=r.CSSMediaRule),nf("CSSConditionRule")&&(f.CSSConditionRule=r.CSSConditionRule),nf("CSSSupportsRule")&&(f.CSSSupportsRule=r.CSSSupportsRule));const h={};return Object.entries(f).forEach(([g,v])=>{h[g]={insertRule:v.prototype.insertRule,deleteRule:v.prototype.deleteRule},v.prototype.insertRule=new Proxy(h[g].insertRule,{apply:Ge((_,b,S)=>{const[w,T]=S,{id:x,styleId:I}=ys(b.parentStyleSheet,e,n.styleMirror);return(x&&x!==-1||I&&I!==-1)&&t({id:x,styleId:I,adds:[{rule:w,index:[...qf(b),T||0]}]}),_.apply(b,S)})}),v.prototype.deleteRule=new Proxy(h[g].deleteRule,{apply:Ge((_,b,S)=>{const[w]=S,{id:T,styleId:x}=ys(b.parentStyleSheet,e,n.styleMirror);return(T&&T!==-1||x&&x!==-1)&&t({id:T,styleId:x,removes:[{index:[...qf(b),w]}]}),_.apply(b,S)})})}),Ge(()=>{r.CSSStyleSheet.prototype.insertRule=a,r.CSSStyleSheet.prototype.deleteRule=o,u&&(r.CSSStyleSheet.prototype.replace=u),d&&(r.CSSStyleSheet.prototype.replaceSync=d),Object.entries(f).forEach(([g,v])=>{v.prototype.insertRule=h[g].insertRule,v.prototype.deleteRule=h[g].deleteRule})})}function DA({mirror:t,stylesheetManager:e},n){var u,d,f;let r=null;n.nodeName==="#document"?r=t.getId(n):r=t.getId(n.host);const a=n.nodeName==="#document"?(u=n.defaultView)==null?void 0:u.Document:(f=(d=n.ownerDocument)==null?void 0:d.defaultView)==null?void 0:f.ShadowRoot,o=a!=null&&a.prototype?Object.getOwnPropertyDescriptor(a==null?void 0:a.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!a||!o?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){var h;return(h=o.get)==null?void 0:h.call(this)},set(h){var v;const g=(v=o.set)==null?void 0:v.call(this,h);if(r!==null&&r!==-1)try{e.adoptStyleSheets(h,r)}catch{}return g}}),Ge(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))}function Fj({styleDeclarationCb:t,mirror:e,ignoreCSSAttributes:n,stylesheetManager:r},{win:a}){const o=a.CSSStyleDeclaration.prototype.setProperty;a.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:Ge((d,f,h)=>{var w;const[g,v,_]=h;if(n.has(g))return o.apply(f,[g,v,_]);const{id:b,styleId:S}=ys((w=f.parentRule)==null?void 0:w.parentStyleSheet,e,r.styleMirror);return(b&&b!==-1||S&&S!==-1)&&t({id:b,styleId:S,set:{property:g,value:v,priority:_},index:qf(f.parentRule)}),d.apply(f,h)})});const u=a.CSSStyleDeclaration.prototype.removeProperty;return a.CSSStyleDeclaration.prototype.removeProperty=new Proxy(u,{apply:Ge((d,f,h)=>{var b;const[g]=h;if(n.has(g))return u.apply(f,[g]);const{id:v,styleId:_}=ys((b=f.parentRule)==null?void 0:b.parentStyleSheet,e,r.styleMirror);return(v&&v!==-1||_&&_!==-1)&&t({id:v,styleId:_,remove:{property:g},index:qf(f.parentRule)}),d.apply(f,h)})}),Ge(()=>{a.CSSStyleDeclaration.prototype.setProperty=o,a.CSSStyleDeclaration.prototype.removeProperty=u})}function qj({mediaInteractionCb:t,blockClass:e,blockSelector:n,unblockSelector:r,mirror:a,sampling:o,doc:u}){const d=Ge(h=>tc(Ge(g=>{const v=Ec(g);if(!v||Kn(v,e,n,r,!0))return;const{currentTime:_,volume:b,muted:S,playbackRate:w}=v;t({type:h,id:a.getId(v),currentTime:_,volume:b,muted:S,playbackRate:w})}),o.media||500)),f=[yn("play",d(Oo.Play),u),yn("pause",d(Oo.Pause),u),yn("seeked",d(Oo.Seeked),u),yn("volumechange",d(Oo.VolumeChange),u),yn("ratechange",d(Oo.RateChange),u)];return Ge(()=>{f.forEach(h=>h())})}function Gj({fontCb:t,doc:e}){const n=e.defaultView;if(!n)return()=>{};const r=[],a=new WeakMap,o=n.FontFace;n.FontFace=function(f,h,g){const v=new o(f,h,g);return a.set(v,{family:f,buffer:typeof h!="string",descriptors:g,fontSource:typeof h=="string"?h:JSON.stringify(Array.from(new Uint8Array(h)))}),v};const u=uy(e.fonts,"add",function(d){return function(f){return xh(Ge(()=>{const h=a.get(f);h&&(t(h),a.delete(f))}),0),d.apply(this,[f])}});return r.push(()=>{n.FontFace=o}),r.push(u),Ge(()=>{r.forEach(d=>d())})}function Yj(t){const{doc:e,mirror:n,blockClass:r,blockSelector:a,unblockSelector:o,selectionCb:u}=t;let d=!0;const f=Ge(()=>{const h=e.getSelection();if(!h||d&&(h!=null&&h.isCollapsed))return;d=h.isCollapsed||!1;const g=[],v=h.rangeCount||0;for(let _=0;_<v;_++){const b=h.getRangeAt(_),{startContainer:S,startOffset:w,endContainer:T,endOffset:x}=b;Kn(S,r,a,o,!0)||Kn(T,r,a,o,!0)||g.push({start:n.getId(S),startOffset:w,end:n.getId(T),endOffset:x})}u({ranges:g})});return f(),yn("selectionchange",f)}function Vj({doc:t,customElementCb:e}){const n=t.defaultView;return!n||!n.customElements?()=>{}:uy(n.customElements,"define",function(a){return function(o,u,d){try{e({define:{name:o}})}catch{}return a.apply(this,[o,u,d])}})}function Xj(t,e={}){const n=t.doc.defaultView;if(!n)return()=>{};let r;t.recordDOM&&(r=MA(t,t.doc));const a=Uj(t),o=$j(t),u=IA(t),d=zj(t,{win:n}),f=Hj(t),h=qj(t);let g=()=>{},v=()=>{},_=()=>{},b=()=>{};t.recordDOM&&(g=Bj(t,{win:n}),v=DA(t,t.doc),_=Fj(t,{win:n}),t.collectFonts&&(b=Gj(t)));const S=Yj(t),w=Vj(t),T=[];for(const x of t.plugins)T.push(x.observer(x.callback,n,x.options));return Ge(()=>{Po.forEach(x=>x.reset()),r==null||r.disconnect(),a(),o(),u(),d(),f(),h(),g(),v(),_(),b(),S(),w(),T.forEach(x=>x())})}function tf(t){return typeof window[t]<"u"}function nf(t){return!!(typeof window[t]<"u"&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class Dv{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,n,r,a){const o=r||this.getIdToRemoteIdMap(e),u=a||this.getRemoteIdToIdMap(e);let d=o.get(n);return d||(d=this.generateIdFn(),o.set(n,d),u.set(d,n)),d}getIds(e,n){const r=this.getIdToRemoteIdMap(e),a=this.getRemoteIdToIdMap(e);return n.map(o=>this.getId(e,o,r,a))}getRemoteId(e,n,r){const a=r||this.getRemoteIdToIdMap(e);if(typeof n!="number")return n;const o=a.get(n);return o||-1}getRemoteIds(e,n){const r=this.getRemoteIdToIdMap(e);return n.map(a=>this.getRemoteId(e,a,r))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let n=this.iframeIdToRemoteIdMap.get(e);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(e,n)),n}getRemoteIdToIdMap(e){let n=this.iframeRemoteIdToIdMap.get(e);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(e,n)),n}}class Kj{constructor(){this.crossOriginIframeMirror=new Dv(ly),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class Wj{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Dv(ly),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Dv(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,n){var a,o;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((a=e.contentWindow)==null||a.addEventListener("message",this.handleMessage.bind(this))),(o=this.loadListener)==null||o.call(this,e);const r=dy(e);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(e){const n=e;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!e.source)return;const a=this.crossOriginIframeMap.get(e.source);if(!a)return;const o=this.transformCrossOriginEvent(a,n.data.event);o&&this.wrappedEmit(o,n.data.isCheckout)}transformCrossOriginEvent(e,n){var r;switch(n.type){case De.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(n.data.node,e);const a=n.data.node.id;return this.crossOriginIframeRootIdMap.set(e,a),this.patchRootIdOnNode(n.data.node,a),{timestamp:n.timestamp,type:De.IncrementalSnapshot,data:{source:Ce.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case De.Meta:case De.Load:case De.DomContentLoaded:return!1;case De.Plugin:return n;case De.Custom:return this.replaceIds(n.data.payload,e,["id","parentId","previousId","nextId"]),n;case De.IncrementalSnapshot:switch(n.data.source){case Ce.Mutation:return n.data.adds.forEach(a=>{this.replaceIds(a,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(a.node,e);const o=this.crossOriginIframeRootIdMap.get(e);o&&this.patchRootIdOnNode(a.node,o)}),n.data.removes.forEach(a=>{this.replaceIds(a,e,["parentId","id"])}),n.data.attributes.forEach(a=>{this.replaceIds(a,e,["id"])}),n.data.texts.forEach(a=>{this.replaceIds(a,e,["id"])}),n;case Ce.Drag:case Ce.TouchMove:case Ce.MouseMove:return n.data.positions.forEach(a=>{this.replaceIds(a,e,["id"])}),n;case Ce.ViewportResize:return!1;case Ce.MediaInteraction:case Ce.MouseInteraction:case Ce.Scroll:case Ce.CanvasMutation:case Ce.Input:return this.replaceIds(n.data,e,["id"]),n;case Ce.StyleSheetRule:case Ce.StyleDeclaration:return this.replaceIds(n.data,e,["id"]),this.replaceStyleIds(n.data,e,["styleId"]),n;case Ce.Font:return n;case Ce.Selection:return n.data.ranges.forEach(a=>{this.replaceIds(a,e,["start","end"])}),n;case Ce.AdoptedStyleSheet:return this.replaceIds(n.data,e,["id"]),this.replaceStyleIds(n.data,e,["styleIds"]),(r=n.data.styles)==null||r.forEach(a=>{this.replaceStyleIds(a,e,["styleId"])}),n}}return!1}replace(e,n,r,a){for(const o of a)!Array.isArray(n[o])&&typeof n[o]!="number"||(Array.isArray(n[o])?n[o]=e.getIds(r,n[o]):n[o]=e.getId(r,n[o]));return n}replaceIds(e,n,r){return this.replace(this.crossOriginIframeMirror,e,n,r)}replaceStyleIds(e,n,r){return this.replace(this.crossOriginIframeStyleMirror,e,n,r)}replaceIdOnNode(e,n){this.replaceIds(e,n,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(e,n){e.type!==Ut.Document&&!e.rootId&&(e.rootId=n),"childNodes"in e&&e.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class Jj{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Qj{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,n){if(!Fu(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);const r=MA({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(IA({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),xh(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(DA({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){const n=dy(e),r=Mj(e);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(e,n){const r=this;this.restoreHandlers.push(uy(e.prototype,"attachShadow",function(a){return function(o){const u=a.call(this,o);return this.shadowRoot&&kA(this)&&r.addShadowRoot(this.shadowRoot,n),u}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var RT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zj=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var rf=0;rf<RT.length;rf++)Zj[RT.charCodeAt(rf)]=rf;class AT{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class eH{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new Rj,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,n){if(e.length===0)return;const r={id:n,styleIds:[]},a=[];for(const o of e){let u;this.styleMirror.has(o)?u=this.styleMirror.getId(o):(u=this.styleMirror.add(o),a.push({styleId:u,rules:Array.from(o.rules||CSSRule,(d,f)=>({rule:fA(d),index:f}))})),r.styleIds.push(u)}a.length>0&&(r.styles=a),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class tH{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(e,n){const r=this.nodeMap.get(e);return r&&Array.from(r).some(a=>a!==n)}add(e,n){this.active||(this.active=!0,kj(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(n))}destroy(){}}let At,Gf;var Y1;try{if(Array.from([1],t=>t*2)[0]!==2){const t=document.createElement("iframe");document.body.appendChild(t),Array.from=((Y1=t.contentWindow)==null?void 0:Y1.Array.from)||Array.from,document.body.removeChild(t)}}catch(t){console.debug("Unable to override Array.from",t)}const Rr=Z5();function Di(t={}){const{emit:e,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:a="rr-block",blockSelector:o=null,unblockSelector:u=null,ignoreClass:d="rr-ignore",ignoreSelector:f=null,maskAllText:h=!1,maskTextClass:g="rr-mask",unmaskTextClass:v=null,maskTextSelector:_=null,unmaskTextSelector:b=null,inlineStylesheet:S=!0,maskAllInputs:w,maskInputOptions:T,slimDOMOptions:x,maskAttributeFn:I,maskInputFn:D,maskTextFn:q,maxCanvasSize:ee=null,packFn:Q,sampling:O={},dataURLOptions:z={},mousemoveWait:ne,recordDOM:K=!0,recordCanvas:te=!1,recordCrossOriginIframes:se=!1,recordAfter:ce=t.recordAfter==="DOMContentLoaded"?t.recordAfter:"load",userTriggeredOnInput:le=!1,collectFonts:_e=!1,inlineImages:k=!1,plugins:G,keepIframeSrcFn:F=()=>!1,ignoreCSSAttributes:ae=new Set([]),errorHandler:J,onMutation:R,getCanvasManager:N}=t;Lj(J);const j=se?window.parent===window:!0;let W=!1;if(!j)try{window.parent.document&&(W=!1)}catch{W=!0}if(j&&!e)throw new Error("emit function is required");if(!j&&!W)return()=>{};ne!==void 0&&O.mousemove===void 0&&(O.mousemove=ne),Rr.reset();const re=w===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:T!==void 0?T:{},fe=x===!0||x==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:x==="all",headMetaDescKeywords:x==="all"}:x||{};xj();let Ee,we=0;const He=Ne=>{for(const Kt of G||[])Kt.eventProcessor&&(Ne=Kt.eventProcessor(Ne));return Q&&!W&&(Ne=Q(Ne)),Ne};At=(Ne,Kt)=>{var St;const ye=Ne;if(ye.timestamp=Ff(),(St=Po[0])!=null&&St.isFrozen()&&ye.type!==De.FullSnapshot&&!(ye.type===De.IncrementalSnapshot&&ye.data.source===Ce.Mutation)&&Po.forEach(st=>st.unfreeze()),j)e==null||e(He(ye),Kt);else if(W){const st={type:"rrweb",event:He(ye),origin:window.location.origin,isCheckout:Kt};window.parent.postMessage(st,"*")}if(ye.type===De.FullSnapshot)Ee=ye,we=0;else if(ye.type===De.IncrementalSnapshot){if(ye.data.source===Ce.Mutation&&ye.data.isAttachIframe)return;we++;const st=r&&we>=r,Ve=n&&Ee&&ye.timestamp-Ee.timestamp>n;(st||Ve)&&Xt(!0)}};const pt=Ne=>{At({type:De.IncrementalSnapshot,data:{source:Ce.Mutation,...Ne}})},Sn=Ne=>At({type:De.IncrementalSnapshot,data:{source:Ce.Scroll,...Ne}}),dn=Ne=>At({type:De.IncrementalSnapshot,data:{source:Ce.CanvasMutation,...Ne}}),Pr=Ne=>At({type:De.IncrementalSnapshot,data:{source:Ce.AdoptedStyleSheet,...Ne}}),Tt=new eH({mutationCb:pt,adoptedStyleSheetCb:Pr}),rn=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Kj:new Wj({mirror:Rr,mutationCb:pt,stylesheetManager:Tt,recordCrossOriginIframes:se,wrappedEmit:At});for(const Ne of G||[])Ne.getMirror&&Ne.getMirror({nodeMirror:Rr,crossOriginIframeMirror:rn.crossOriginIframeMirror,crossOriginIframeStyleMirror:rn.crossOriginIframeStyleMirror});const jn=new tH,fn=rH(N,{mirror:Rr,win:window,mutationCb:Ne=>At({type:De.IncrementalSnapshot,data:{source:Ce.CanvasMutation,...Ne}}),recordCanvas:te,blockClass:a,blockSelector:o,unblockSelector:u,maxCanvasSize:ee,sampling:O.canvas,dataURLOptions:z,errorHandler:J}),Ur=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Jj:new Qj({mutationCb:pt,scrollCb:Sn,bypassOptions:{onMutation:R,blockClass:a,blockSelector:o,unblockSelector:u,maskAllText:h,maskTextClass:g,unmaskTextClass:v,maskTextSelector:_,unmaskTextSelector:b,inlineStylesheet:S,maskInputOptions:re,dataURLOptions:z,maskAttributeFn:I,maskTextFn:q,maskInputFn:D,recordCanvas:te,inlineImages:k,sampling:O,slimDOMOptions:fe,iframeManager:rn,stylesheetManager:Tt,canvasManager:fn,keepIframeSrcFn:F,processedNodeManager:jn,ignoreCSSAttributes:ae},mirror:Rr}),Xt=(Ne=!1)=>{if(!K)return;At({type:De.Meta,data:{href:window.location.href,width:wA(),height:EA()}},Ne),Tt.reset(),Ur.init(),Po.forEach(ye=>ye.lock());const Kt=wj(document,{mirror:Rr,blockClass:a,blockSelector:o,unblockSelector:u,maskAllText:h,maskTextClass:g,unmaskTextClass:v,maskTextSelector:_,unmaskTextSelector:b,inlineStylesheet:S,maskAllInputs:re,maskAttributeFn:I,maskInputFn:D,maskTextFn:q,slimDOM:fe,dataURLOptions:z,recordCanvas:te,inlineImages:k,onSerialize:ye=>{RA(ye,Rr)&&rn.addIframe(ye),AA(ye,Rr)&&Tt.trackLinkElement(ye),Mv(ye)&&Ur.addShadowRoot(ye.shadowRoot,document)},onIframeLoad:(ye,St)=>{rn.attachIframe(ye,St),ye.contentWindow&&fn.addWindow(ye.contentWindow),Ur.observeAttachShadow(ye)},onStylesheetLoad:(ye,St)=>{Tt.attachLinkElement(ye,St)},onBlockedImageLoad:(ye,St,{width:st,height:Ve})=>{pt({adds:[],removes:[],texts:[],attributes:[{id:St.id,attributes:{style:{width:`${st}px`,height:`${Ve}px`}}}]})},keepIframeSrcFn:F,ignoreCSSAttributes:ae});if(!Kt)return console.warn("Failed to snapshot the document");At({type:De.FullSnapshot,data:{node:Kt,initialOffset:SA(window)}}),Po.forEach(ye=>ye.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Tt.adoptStyleSheets(document.adoptedStyleSheets,Rr.getId(document))};Gf=Xt;try{const Ne=[],Kt=St=>{var st;return Ge(Xj)({onMutation:R,mutationCb:pt,mousemoveCb:(Ve,yr)=>At({type:De.IncrementalSnapshot,data:{source:yr,positions:Ve}}),mouseInteractionCb:Ve=>At({type:De.IncrementalSnapshot,data:{source:Ce.MouseInteraction,...Ve}}),scrollCb:Sn,viewportResizeCb:Ve=>At({type:De.IncrementalSnapshot,data:{source:Ce.ViewportResize,...Ve}}),inputCb:Ve=>At({type:De.IncrementalSnapshot,data:{source:Ce.Input,...Ve}}),mediaInteractionCb:Ve=>At({type:De.IncrementalSnapshot,data:{source:Ce.MediaInteraction,...Ve}}),styleSheetRuleCb:Ve=>At({type:De.IncrementalSnapshot,data:{source:Ce.StyleSheetRule,...Ve}}),styleDeclarationCb:Ve=>At({type:De.IncrementalSnapshot,data:{source:Ce.StyleDeclaration,...Ve}}),canvasMutationCb:dn,fontCb:Ve=>At({type:De.IncrementalSnapshot,data:{source:Ce.Font,...Ve}}),selectionCb:Ve=>{At({type:De.IncrementalSnapshot,data:{source:Ce.Selection,...Ve}})},customElementCb:Ve=>{At({type:De.IncrementalSnapshot,data:{source:Ce.CustomElement,...Ve}})},blockClass:a,ignoreClass:d,ignoreSelector:f,maskAllText:h,maskTextClass:g,unmaskTextClass:v,maskTextSelector:_,unmaskTextSelector:b,maskInputOptions:re,inlineStylesheet:S,sampling:O,recordDOM:K,recordCanvas:te,inlineImages:k,userTriggeredOnInput:le,collectFonts:_e,doc:St,maskAttributeFn:I,maskInputFn:D,maskTextFn:q,keepIframeSrcFn:F,blockSelector:o,unblockSelector:u,slimDOMOptions:fe,dataURLOptions:z,mirror:Rr,iframeManager:rn,stylesheetManager:Tt,shadowDomManager:Ur,processedNodeManager:jn,canvasManager:fn,ignoreCSSAttributes:ae,plugins:((st=G==null?void 0:G.filter(Ve=>Ve.observer))==null?void 0:st.map(Ve=>({observer:Ve.observer,options:Ve.options,callback:yr=>At({type:De.Plugin,data:{plugin:Ve.name,payload:yr}})})))||[]},{})};rn.addLoadListener(St=>{try{Ne.push(Kt(St.contentDocument))}catch(st){console.warn(st)}});const ye=()=>{Xt(),Ne.push(Kt(document))};return document.readyState==="interactive"||document.readyState==="complete"?ye():(Ne.push(yn("DOMContentLoaded",()=>{At({type:De.DomContentLoaded,data:{}}),ce==="DOMContentLoaded"&&ye()})),Ne.push(yn("load",()=>{At({type:De.Load,data:{}}),ce==="load"&&ye()},window))),()=>{Ne.forEach(St=>St()),jn.destroy(),Gf=void 0,Pj()}}catch(Ne){console.warn(Ne)}}function nH(t){if(!Gf)throw new Error("please take full snapshot after start recording");Gf(t)}Di.mirror=Rr;Di.takeFullSnapshot=nH;function rH(t,e){try{return t?t(e):new AT}catch{return console.warn("Unable to initialize CanvasManager"),new AT}}var CT;(function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"})(CT||(CT={}));const iH=3,sH=5;function fy(t){return t>9999999999?t:t*1e3}function Rg(t){return t>9999999999?t/1e3:t}function wc(t,e){e.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(e.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate(()=>(t.throttledAddEvent({type:De.Custom,timestamp:(e.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Or(e,10,1e3)}}),e.category==="console")))}const aH="button,a";function NA(t){return t.closest(aH)||t}function LA(t){const e=PA(t);return!e||!(e instanceof Element)?e:NA(e)}function PA(t){return oH(t)?t.target:t}function oH(t){return typeof t=="object"&&!!t&&"target"in t}let bs;function lH(t){return bs||(bs=[],uH()),bs.push(t),()=>{const e=bs?bs.indexOf(t):-1;e>-1&&bs.splice(e,1)}}function uH(){Pn(ft,"open",function(t){return function(...e){if(bs)try{bs.forEach(n=>n())}catch{}return t.apply(ft,e)}})}const cH=new Set([Ce.Mutation,Ce.StyleSheetRule,Ce.StyleDeclaration,Ce.AdoptedStyleSheet,Ce.CanvasMutation,Ce.Selection,Ce.MediaInteraction]);function dH(t,e,n){t.handleClick(e,n)}class fH{constructor(e,n,r=wc){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const e=lH(()=>{this._lastMutation=kT()});this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,n){if(pH(n,this._ignoreSelector)||!mH(e))return;const r={timestamp:Rg(e.timestamp),clickBreadcrumb:e,clickCount:0,node:n};this._clicks.some(a=>a.node===r.node&&Math.abs(a.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=Rg(e)}registerScroll(e=Date.now()){this._lastScroll=Rg(e)}registerClick(e){const n=NA(e);this._handleMultiClick(n)}_handleMultiClick(e){this._getClicks(e).forEach(n=>{n.clickCount++})}_getClicks(e){return this._clicks.filter(n=>n.node===e)}_checkClicks(){const e=[],n=kT();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&e.push(r)});for(const r of e){const a=this._clicks.indexOf(r);a>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(a,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const n=this._replay,r=e.scrollAfter&&e.scrollAfter<=this._scrollTimeout,a=e.mutationAfter&&e.mutationAfter<=this._threshold,o=!r&&!a,{clickCount:u,clickBreadcrumb:d}=e;if(o){const f=Math.min(e.mutationAfter||this._timeout,this._timeout)*1e3,h=f<this._timeout*1e3?"mutation":"timeout",g={type:"default",message:d.message,timestamp:d.timestamp,category:"ui.slowClickDetected",data:{...d.data,url:ft.location.href,route:n.getCurrentRoute(),timeAfterClickMs:f,endReason:h,clickCount:u||1}};this._addBreadcrumbEvent(n,g);return}if(u>1){const f={type:"default",message:d.message,timestamp:d.timestamp,category:"ui.multiClick",data:{...d.data,url:ft.location.href,route:n.getCurrentRoute(),clickCount:u,metric:!0}};this._addBreadcrumbEvent(n,f)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Sc(()=>this._checkClicks(),1e3)}}const hH=["A","BUTTON","INPUT"];function pH(t,e){return!!(!hH.includes(t.tagName)||t.tagName==="INPUT"&&!["submit","button"].includes(t.getAttribute("type")||"")||t.tagName==="A"&&(t.hasAttribute("download")||t.hasAttribute("target")&&t.getAttribute("target")!=="_self")||e&&t.matches(e))}function mH(t){return!!(t.data&&typeof t.data.nodeId=="number"&&t.timestamp)}function kT(){return Date.now()/1e3}function gH(t,e){try{if(!vH(e))return;const{source:n}=e.data;if(cH.has(n)&&t.registerMutation(e.timestamp),n===Ce.Scroll&&t.registerScroll(e.timestamp),_H(e)){const{type:r,id:a}=e.data,o=Di.mirror.getNode(a);o instanceof HTMLElement&&r===vn.Click&&t.registerClick(o)}}catch{}}function vH(t){return t.type===iH}function _H(t){return t.data.source===Ce.MouseInteraction}function Yr(t){return{timestamp:Date.now()/1e3,type:"default",...t}}var hy=(t=>(t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment",t))(hy||{});const yH=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function bH(t){const e={};!t["data-sentry-component"]&&t["data-sentry-element"]&&(t["data-sentry-component"]=t["data-sentry-element"]);for(const n in t)if(yH.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),e[r]=t[n]}return e}const SH=t=>e=>{if(!t.isEnabled())return;const n=EH(e);if(!n)return;const r=e.name==="click",a=r?e.event:void 0;r&&t.clickDetector&&(a!=null&&a.target)&&!a.altKey&&!a.metaKey&&!a.ctrlKey&&!a.shiftKey&&dH(t.clickDetector,n,LA(e.event)),wc(t,n)};function UA(t,e){const n=Di.mirror.getId(t),r=n&&Di.mirror.getNode(n),a=r&&Di.mirror.getMeta(r),o=a&&TH(a)?a:null;return{message:e,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map(u=>u.type===hy.Text&&u.textContent).filter(Boolean).map(u=>u.trim()).join(""),attributes:bH(o.attributes)}}:{}}}function EH(t){const{target:e,message:n}=wH(t);return Yr({category:`ui.${t.name}`,...UA(e,n)})}function wH(t){const e=t.name==="click";let n,r=null;try{r=e?LA(t.event):PA(t.event),n=$n(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function TH(t){return t.type===hy.Element}function xH(t,e){if(!t.isEnabled())return;t.updateUserActivity();const n=RH(e);n&&wc(t,n)}function RH(t){const{metaKey:e,shiftKey:n,ctrlKey:r,altKey:a,key:o,target:u}=t;if(!u||AH(u)||!o)return null;const d=e||r||a,f=o.length===1;if(!d&&f)return null;const h=$n(u,{maxStringLength:200})||"<unknown>",g=UA(u,h);return Yr({category:"ui.keyDown",message:h,data:{...g.data,metaKey:e,shiftKey:n,ctrlKey:r,altKey:a,key:o}})}function AH(t){return t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable}const CH={resource:DH,paint:MH,navigation:IH};function Ag(t,e){return({metric:n})=>void e.replayPerformanceEntries.push(t(n))}function kH(t){return t.map(OH).filter(Boolean)}function OH(t){const e=CH[t.entryType];return e?e(t):null}function el(t){return((zn()||ft.performance.timeOrigin)+t)/1e3}function MH(t){const{duration:e,entryType:n,name:r,startTime:a}=t,o=el(a);return{type:n,name:r,start:o,end:o+e,data:void 0}}function IH(t){const{entryType:e,name:n,decodedBodySize:r,duration:a,domComplete:o,encodedBodySize:u,domContentLoadedEventStart:d,domContentLoadedEventEnd:f,domInteractive:h,loadEventStart:g,loadEventEnd:v,redirectCount:_,startTime:b,transferSize:S,type:w}=t;return a===0?null:{type:`${e}.${w}`,start:el(b),end:el(o),name:n,data:{size:S,decodedBodySize:r,encodedBodySize:u,duration:a,domInteractive:h,domContentLoadedEventStart:d,domContentLoadedEventEnd:f,loadEventStart:g,loadEventEnd:v,domComplete:o,redirectCount:_}}}function DH(t){const{entryType:e,initiatorType:n,name:r,responseEnd:a,startTime:o,decodedBodySize:u,encodedBodySize:d,responseStatus:f,transferSize:h}=t;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${e}.${n}`,start:el(o),end:el(a),name:r,data:{size:h,statusCode:f,decodedBodySize:u,encodedBodySize:d}}}function NH(t){const e=t.entries[t.entries.length-1],n=e!=null&&e.element?[e.element]:void 0;return py(t,"largest-contentful-paint",n)}function LH(t){return t.sources!==void 0}function PH(t){const e=[],n=[];for(const r of t.entries)if(LH(r)){const a=[];for(const o of r.sources)if(o.node){n.push(o.node);const u=Di.mirror.getId(o.node);u&&a.push(u)}e.push({value:r.value,nodeIds:a.length?a:void 0})}return py(t,"cumulative-layout-shift",n,e)}function UH(t){const e=t.entries[t.entries.length-1],n=e!=null&&e.target?[e.target]:void 0;return py(t,"interaction-to-next-paint",n)}function py(t,e,n,r){const a=t.value,o=t.rating,u=el(a);return{type:"web-vital",name:e,start:u,end:u,data:{value:a,size:a,rating:o,nodeIds:n?n.map(d=>Di.mirror.getId(d)):void 0,attributions:r}}}function $H(t){function e(a){t.performanceEntries.includes(a)||t.performanceEntries.push(a)}function n({entries:a}){a.forEach(e)}const r=[];return["navigation","paint","resource"].forEach(a=>{r.push(Ea(a,n))}),r.push(ny(Ag(NH,t)),ty(Ag(PH,t)),JR(Ag(UH,t))),()=>{r.forEach(a=>a())}}const Te=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,zH='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function jH(){const t=new Blob([zH]);return URL.createObjectURL(t)}const OT=["log","warn","error"],Af="[Replay] ";function Cg(t,e="info"){Cs({category:"console",data:{logger:"replay"},level:e,message:`${Af}${t}`},{level:e})}function HH(){let t=!1,e=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{t=!!r.captureExceptions,e=!!r.traceInternals}};return Te?(OT.forEach(r=>{n[r]=(...a)=>{ie[r](Af,...a),e&&Cg(a.join(""),DR(r))}}),n.exception=(r,...a)=>{a.length&&n.error&&n.error(...a),ie.error(Af,r),t?hR(r,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):e&&Cg(r,"error")},n.infoTick=(...r)=>{ie.log(Af,...r),e&&setTimeout(()=>Cg(r[0]),0)}):OT.forEach(r=>{n[r]=()=>{}}),n}const xe=HH();class my extends Error{constructor(){super(`Event buffer exceeded maximum size of ${ay}.`)}}class $A{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const n=JSON.stringify(e).length;if(this._totalSize+=n,this._totalSize>ay)throw new my;this.events.push(e)}finish(){return new Promise(e=>{const n=this.events;this.clear(),e(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map(n=>n.timestamp).sort()[0];return e?fy(e):null}}class BH{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((e,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?e():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){Te&&xe.log("Destroying compression worker"),this._worker.terminate()}postMessage(e,n){const r=this._getAndIncrementId();return new Promise((a,o)=>{const u=({data:d})=>{const f=d;if(f.method===e&&f.id===r){if(this._worker.removeEventListener("message",u),!f.success){Te&&xe.error("Error in compression worker: ",f.response),o(new Error("Error in compression worker"));return}a(f.response)}};this._worker.addEventListener("message",u),this._worker.postMessage({id:r,method:e,arg:n})})}_getAndIncrementId(){return this._id++}}class FH{constructor(e){this._worker=new BH(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const n=fy(e.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(e);return this._totalSize+=r.length,this._totalSize>ay?Promise.reject(new my):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{Te&&xe.exception(e,'Sending "clear" message to worker failed',e)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class qH{constructor(e){this._fallback=new $A,this._compression=new FH(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}set waitForCheckout(e){this._used.waitForCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){Te&&xe.exception(e,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:n,waitForCheckout:r}=this._fallback,a=[];for(const o of e)a.push(this._compression.addEvent(o));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(a),this._fallback.clear()}catch(o){Te&&xe.exception(o,"Failed to add events when switching buffers.")}}}function GH({useCompression:t,workerUrl:e}){if(t&&window.Worker){const n=YH(e);if(n)return n}return Te&&xe.log("Using simple buffer"),new $A}function YH(t){try{const e=t||VH();if(!e)return;Te&&xe.log(`Using compression worker${t?` from ${t}`:""}`);const n=new Worker(e);return new qH(n)}catch(e){Te&&xe.exception(e,"Failed to create compression worker")}}function VH(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?jH():""}function gy(){try{return"sessionStorage"in ft&&!!ft.sessionStorage}catch{return!1}}function XH(t){KH(),t.session=void 0}function KH(){if(gy())try{ft.sessionStorage.removeItem(iy)}catch{}}function zA(t){return t===void 0?!1:Math.random()<t}function Rh(t){if(gy())try{ft.sessionStorage.setItem(iy,JSON.stringify(t))}catch{}}function jA(t){const e=Date.now(),n=t.id||Jn(),r=t.started||e,a=t.lastActivity||e,o=t.segmentId||0,u=t.sampled,d=t.previousSessionId,f=t.dirty||!1;return{id:n,started:r,lastActivity:a,segmentId:o,sampled:u,previousSessionId:d,dirty:f}}function WH(t,e){return zA(t)?"session":e?"buffer":!1}function MT({sessionSampleRate:t,allowBuffering:e,stickySession:n=!1},{previousSessionId:r}={}){const a=WH(t,e),o=jA({sampled:a,previousSessionId:r});return n&&Rh(o),o}function JH(){if(!gy())return null;try{const t=ft.sessionStorage.getItem(iy);if(!t)return null;const e=JSON.parse(t);return Te&&xe.infoTick("Loading existing session"),jA(e)}catch{return null}}function Nv(t,e,n=+new Date){return t===null||e===void 0||e<0?!0:e===0?!1:t+e<=n}function HA(t,{maxReplayDuration:e,sessionIdleExpire:n,targetTime:r=Date.now()}){return Nv(t.started,e,r)||Nv(t.lastActivity,n,r)}function BA(t,{sessionIdleExpire:e,maxReplayDuration:n}){return!(!HA(t,{sessionIdleExpire:e,maxReplayDuration:n})||t.sampled==="buffer"&&t.segmentId===0)}function kg({sessionIdleExpire:t,maxReplayDuration:e,previousSessionId:n},r){const a=r.stickySession&&JH();return a?BA(a,{sessionIdleExpire:t,maxReplayDuration:e})?(Te&&xe.infoTick("Session in sessionStorage is expired, creating new one..."),MT(r,{previousSessionId:a.id})):a:(Te&&xe.infoTick("Creating new session"),MT(r,{previousSessionId:n}))}function QH(t){return t.type===De.Custom}function vy(t,e,n){return qA(t,e)?(FA(t,e,n),!0):!1}function ZH(t,e,n){return qA(t,e)?FA(t,e,n):Promise.resolve(null)}async function FA(t,e,n){const{eventBuffer:r}=t;if(!r||r.waitForCheckout&&!n)return null;const a=t.recordingMode==="buffer";try{n&&a&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const o=t.getOptions(),u=eB(e,o.beforeAddRecordingEvent);return u?await r.addEvent(u):void 0}catch(o){const u=o&&o instanceof my,d=u?"addEventSizeExceeded":"addEvent",f=Fe();if(f){const h=u?"buffer_overflow":"internal_sdk_error";f.recordDroppedEvent(h,"replay")}if(u&&a)return r.clear(),r.waitForCheckout=!0,null;t.handleException(o),await t.stop({reason:d})}}function qA(t,e){if(!t.eventBuffer||t.isPaused()||!t.isEnabled())return!1;const n=fy(e.timestamp);return n+t.timeouts.sessionIdlePause<Date.now()?!1:n>t.getContext().initialTimestamp+t.getOptions().maxReplayDuration?(Te&&xe.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function eB(t,e){try{if(typeof e=="function"&&QH(t))return e(t)}catch(n){return Te&&xe.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return t}function _y(t){return!t.type}function Lv(t){return t.type==="transaction"}function tB(t){return t.type==="replay_event"}function IT(t){return t.type==="feedback"}function nB(t){return(e,n)=>{if(!t.isEnabled()||!_y(e)&&!Lv(e))return;const r=n.statusCode;if(!(!r||r<200||r>=300)){if(Lv(e)){rB(t,e);return}iB(t,e)}}}function rB(t,e){var r,a;const n=t.getContext();(a=(r=e.contexts)==null?void 0:r.trace)!=null&&a.trace_id&&n.traceIds.size<100&&n.traceIds.add(e.contexts.trace.trace_id)}function iB(t,e){const n=t.getContext();if(e.event_id&&n.errorIds.size<100&&n.errorIds.add(e.event_id),t.recordingMode!=="buffer"||!e.tags||!e.tags.replayId)return;const{beforeErrorSampling:r}=t.getOptions();typeof r=="function"&&!r(e)||Sc(async()=>{try{await t.sendBufferedReplayOrFlush()}catch(a){t.handleException(a)}})}function sB(t){return e=>{!t.isEnabled()||!_y(e)||aB(t,e)}}function aB(t,e){var r,a,o;const n=(o=(a=(r=e.exception)==null?void 0:r.values)==null?void 0:a[0])==null?void 0:o.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const u=Yr({category:"replay.hydrate-error",data:{url:hl()}});wc(t,u)}}function oB(t){const e=Fe();e&&e.on("beforeAddBreadcrumb",n=>lB(t,n))}function lB(t,e){if(!t.isEnabled()||!GA(e))return;const n=uB(e);n&&wc(t,n)}function uB(t){return!GA(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui.")?null:t.category==="console"?cB(t):Yr(t)}function cB(t){var a;const e=(a=t.data)==null?void 0:a.arguments;if(!Array.isArray(e)||e.length===0)return Yr(t);let n=!1;const r=e.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>ef?(n=!0,`${o.slice(0,ef)}`):o;if(typeof o=="object")try{const u=Or(o,7);return JSON.stringify(u).length>ef?(n=!0,`${JSON.stringify(u,null,2).slice(0,ef)}`):u}catch{}return o});return Yr({...t,data:{...t.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function GA(t){return!!t.category}function dB(t,e){var n,r,a;return t.type||!((r=(n=t.exception)==null?void 0:n.values)!=null&&r.length)?!1:!!((a=e.originalException)!=null&&a.__rrweb__)}function YA(){const t=it().getPropagationContext().dsc;t&&delete t.replay_id;const e=bn();if(e){const n=ji(e);delete n.replay_id}}function fB(t,e){t.triggerUserActivity(),t.addUpdate(()=>e.timestamp?(t.throttledAddEvent({type:De.Custom,timestamp:e.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:e.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:e.event_id}}}}),!1):!0)}function hB(t,e){return t.recordingMode!=="buffer"||e.message===sy||!e.exception||e.type?!1:zA(t.getOptions().errorSampleRate)}function pB(t){return Object.assign((e,n)=>{var u;if(!t.isEnabled()||t.isPaused())return e;if(tB(e))return delete e.breadcrumbs,e;if(!_y(e)&&!Lv(e)&&!IT(e))return e;if(!t.checkAndHandleExpiredSession())return YA(),e;if(IT(e))return t.flush(),e.contexts.feedback.replay_id=t.getSessionId(),fB(t,e),e;if(dB(e,n)&&!t.getOptions()._experiments.captureExceptions)return Te&&xe.log("Ignoring error from rrweb internals",e),null;const a=hB(t,e);if((a||t.recordingMode==="session")&&(e.tags={...e.tags,replayId:t.getSessionId()}),a&&t.recordingMode==="buffer"&&((u=t.session)==null?void 0:u.sampled)==="buffer"){const d=t.session;d.dirty=!0,t.getOptions().stickySession&&Rh(d)}return e},{id:"Replay"})}function Ah(t,e){return e.map(({type:n,start:r,end:a,name:o,data:u})=>{const d=t.throttledAddEvent({type:De.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:o,startTimestamp:r,endTimestamp:a,data:u}}});return typeof d=="string"?Promise.resolve(null):d})}function mB(t){const{from:e,to:n}=t,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:e}}}function gB(t){return e=>{if(!t.isEnabled())return;const n=mB(e);n!==null&&(t.getContext().urls.push(n.name),t.triggerUserActivity(),t.addUpdate(()=>(Ah(t,[n]),!1)))}}function vB(t,e){return Te&&t.getOptions()._experiments.traceInternals?!1:aU(e,Fe())}function VA(t,e){t.isEnabled()&&e!==null&&(vB(t,e.name)||t.addUpdate(()=>(Ah(t,[e]),!0)))}function Ch(t){if(!t)return;const e=new TextEncoder;try{if(typeof t=="string")return e.encode(t).length;if(t instanceof URLSearchParams)return e.encode(t.toString()).length;if(t instanceof FormData){const n=aA(t);return e.encode(n).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch{}}function XA(t){if(!t)return;const e=parseInt(t,10);return isNaN(e)?void 0:e}function Yf(t,e){if(!t)return{headers:{},size:void 0,_meta:{warnings:[e]}};const n={...t._meta},r=n.warnings||[];return n.warnings=[...r,e],t._meta=n,t}function KA(t,e){if(!e)return null;const{startTimestamp:n,endTimestamp:r,url:a,method:o,statusCode:u,request:d,response:f}=e;return{type:t,start:n/1e3,end:r/1e3,name:a,data:{method:o,statusCode:u,request:d,response:f}}}function nc(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function ws(t,e,n){if(!e&&Object.keys(t).length===0)return;if(!e)return{headers:t};if(!n)return{headers:t,size:e};const r={headers:t,size:e},{body:a,warnings:o}=_B(n);return r.body=a,o!=null&&o.length&&(r._meta={warnings:o}),r}function Pv(t,e){return Object.entries(t).reduce((n,[r,a])=>{const o=r.toLowerCase();return e.includes(o)&&t[r]&&(n[o]=a),n},{})}function _B(t){if(!t||typeof t!="string")return{body:t};const e=t.length>fT,n=yB(t);if(e){const r=t.slice(0,fT);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(t)}}catch{}return{body:t}}function yB(t){const e=t[0],n=t[t.length-1];return e==="["&&n==="]"||e==="{"&&n==="}"}function Vf(t,e){const n=bB(t);return Mi(n,e)}function bB(t,e=ft.document.baseURI){if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith(ft.location.origin))return t;const n=new URL(t,e);if(n.origin!==new URL(e).origin)return t;const r=n.href;return!t.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function SB(t,e,n){try{const r=await wB(t,e,n),a=KA("resource.fetch",r);VA(n.replay,a)}catch(r){Te&&xe.exception(r,"Failed to capture fetch breadcrumb")}}function EB(t,e){const{input:n,response:r}=e,a=n?lA(n):void 0,o=Ch(a),u=r?XA(r.headers.get("content-length")):void 0;o!==void 0&&(t.data.request_body_size=o),u!==void 0&&(t.data.response_body_size=u)}async function wB(t,e,n){const r=Date.now(),{startTimestamp:a=r,endTimestamp:o=r}=e,{url:u,method:d,status_code:f=0,request_body_size:h,response_body_size:g}=t.data,v=Vf(u,n.networkDetailAllowUrls)&&!Vf(u,n.networkDetailDenyUrls),_=v?TB(n,e.input,h):nc(h),b=await xB(v,n,e.response,g);return{startTimestamp:a,endTimestamp:o,url:u,method:d,statusCode:f,request:_,response:b}}function TB({networkCaptureBodies:t,networkRequestHeaders:e},n,r){const a=n?CB(n,e):{};if(!t)return ws(a,r,void 0);const o=lA(n),[u,d]=oA(o,xe),f=ws(a,r,u);return d?Yf(f,d):f}async function xB(t,{networkCaptureBodies:e,networkResponseHeaders:n},r,a){if(!t&&a!==void 0)return nc(a);const o=r?WA(r.headers,n):{};if(!r||!e&&a!==void 0)return ws(o,a,void 0);const[u,d]=await AB(r),f=RB(u,{networkCaptureBodies:e,responseBodySize:a,captureDetails:t,headers:o});return d?Yf(f,d):f}function RB(t,{networkCaptureBodies:e,responseBodySize:n,captureDetails:r,headers:a}){try{const o=t!=null&&t.length&&n===void 0?Ch(t):n;return r?e?ws(a,o,t):ws(a,o,void 0):nc(o)}catch(o){return Te&&xe.exception(o,"Failed to serialize response body"),ws(a,n,void 0)}}async function AB(t){const e=kB(t);if(!e)return[void 0,"BODY_PARSE_ERROR"];try{return[await OB(e)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(Te&&xe.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(Te&&xe.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function WA(t,e){const n={};return e.forEach(r=>{t.get(r)&&(n[r]=t.get(r))}),n}function CB(t,e){return t.length===1&&typeof t[0]!="string"?DT(t[0],e):t.length===2?DT(t[1],e):{}}function DT(t,e){if(!t)return{};const n=t.headers;return n?n instanceof Headers?WA(n,e):Array.isArray(n)?{}:Pv(n,e):{}}function kB(t){try{return t.clone()}catch(e){Te&&xe.exception(e,"Failed to clone response body")}}function OB(t){return new Promise((e,n)=>{const r=Sc(()=>n(new Error("Timeout while trying to read response body")),500);MB(t).then(a=>e(a),a=>n(a)).finally(()=>clearTimeout(r))})}async function MB(t){return await t.text()}async function IB(t,e,n){try{const r=NB(t,e,n),a=KA("resource.xhr",r);VA(n.replay,a)}catch(r){Te&&xe.exception(r,"Failed to capture xhr breadcrumb")}}function DB(t,e){const{xhr:n,input:r}=e;if(!n)return;const a=Ch(r),o=n.getResponseHeader("content-length")?XA(n.getResponseHeader("content-length")):UB(n.response,n.responseType);a!==void 0&&(t.data.request_body_size=a),o!==void 0&&(t.data.response_body_size=o)}function NB(t,e,n){const r=Date.now(),{startTimestamp:a=r,endTimestamp:o=r,input:u,xhr:d}=e,{url:f,method:h,status_code:g=0,request_body_size:v,response_body_size:_}=t.data;if(!f)return null;if(!d||!Vf(f,n.networkDetailAllowUrls)||Vf(f,n.networkDetailDenyUrls)){const Q=nc(v),O=nc(_);return{startTimestamp:a,endTimestamp:o,url:f,method:h,statusCode:g,request:Q,response:O}}const b=d[da],S=b?Pv(b.request_headers,n.networkRequestHeaders):{},w=Pv(uA(d),n.networkResponseHeaders),[T,x]=n.networkCaptureBodies?oA(u,xe):[void 0],[I,D]=n.networkCaptureBodies?LB(d):[void 0],q=ws(S,v,T),ee=ws(w,_,I);return{startTimestamp:a,endTimestamp:o,url:f,method:h,statusCode:g,request:x?Yf(q,x):q,response:D?Yf(ee,D):ee}}function LB(t){const e=[];try{return[t.responseText]}catch(n){e.push(n)}try{return PB(t.response,t.responseType)}catch(n){e.push(n)}return Te&&xe.warn("Failed to get xhr response body",...e),[void 0]}function PB(t,e){try{if(typeof t=="string")return[t];if(t instanceof Document)return[t.body.outerHTML];if(e==="json"&&t&&typeof t=="object")return[JSON.stringify(t)];if(!t)return[void 0]}catch(n){return Te&&xe.exception(n,"Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return Te&&xe.log("Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function UB(t,e){try{const n=e==="json"&&t&&typeof t=="object"?JSON.stringify(t):t;return Ch(n)}catch{return}}function $B(t){const e=Fe();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:a,networkRequestHeaders:o,networkResponseHeaders:u}=t.getOptions(),d={replay:t,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:a,networkRequestHeaders:o,networkResponseHeaders:u};e&&e.on("beforeAddBreadcrumb",(f,h)=>zB(d,f,h))}catch{}}function zB(t,e,n){if(e.data)try{jB(e)&&BB(n)&&(DB(e,n),IB(e,n,t)),HB(e)&&FB(n)&&(EB(e,n),SB(e,n,t))}catch(r){Te&&xe.exception(r,"Error when enriching network breadcrumb")}}function jB(t){return t.category==="xhr"}function HB(t){return t.category==="fetch"}function BB(t){return t==null?void 0:t.xhr}function FB(t){return t==null?void 0:t.response}function qB(t){const e=Fe();rA(SH(t)),Eh(gB(t)),oB(t),$B(t);const n=pB(t);AP(n),e&&(e.on("beforeSendEvent",sB(t)),e.on("afterSendEvent",nB(t)),e.on("createDsc",r=>{const a=t.getSessionId();a&&t.isEnabled()&&t.recordingMode==="session"&&t.checkAndHandleExpiredSession()&&(r.replay_id=a)}),e.on("spanStart",r=>{t.lastActiveSpan=r}),e.on("spanEnd",r=>{t.lastActiveSpan=r}),e.on("beforeSendFeedback",async(r,a)=>{var u;const o=t.getSessionId();a!=null&&a.includeReplay&&t.isEnabled()&&o&&((u=r.contexts)!=null&&u.feedback)&&(r.contexts.feedback.source==="api"&&await t.sendBufferedReplayOrFlush(),r.contexts.feedback.replay_id=o)}),e.on("openFeedbackWidget",async()=>{await t.sendBufferedReplayOrFlush()}))}async function GB(t){try{return Promise.all(Ah(t,[YB(ft.performance.memory)]))}catch{return[]}}function YB(t){const{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}=t,a=Date.now()/1e3;return{type:"memory",name:"memory",start:a,end:a,data:{memory:{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}}}}function VB(t,e,n){return fU(t,e,{...n,setTimeoutImpl:Sc})}const fr=Ye.navigator;function XB(){return/iPhone|iPad|iPod/i.test((fr==null?void 0:fr.userAgent)??"")||/Macintosh/i.test((fr==null?void 0:fr.userAgent)??"")&&(fr!=null&&fr.maxTouchPoints)&&(fr==null?void 0:fr.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}}function KB(t){let e=!1;return(n,r)=>{if(!t.checkAndHandleExpiredSession()){Te&&xe.warn("Received replay event after session expired.");return}const a=r||!e;e=!0,t.clickDetector&&gH(t.clickDetector,n),t.addUpdate(()=>{if(t.recordingMode==="buffer"&&a&&t.setInitialState(),!vy(t,n,a))return!0;if(!a)return!1;const o=t.session;if(JB(t,a),t.recordingMode==="buffer"&&o&&t.eventBuffer&&!o.dirty){const u=t.eventBuffer.getEarliestTimestamp();u&&(Te&&xe.log(`Updating session start time to earliest event in buffer to ${new Date(u)}`),o.started=u,t.getOptions().stickySession&&Rh(o))}return o!=null&&o.previousSessionId||t.recordingMode==="session"&&t.flush(),!0})}}function WB(t){const e=t.getOptions();return{type:De.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:t.isRecordingCanvas(),sessionSampleRate:e.sessionSampleRate,errorSampleRate:e.errorSampleRate,useCompressionOption:e.useCompression,blockAllMedia:e.blockAllMedia,maskAllText:e.maskAllText,maskAllInputs:e.maskAllInputs,useCompression:t.eventBuffer?t.eventBuffer.type==="worker":!1,networkDetailHasUrls:e.networkDetailAllowUrls.length>0,networkCaptureBodies:e.networkCaptureBodies,networkRequestHasHeaders:e.networkRequestHeaders.length>0,networkResponseHasHeaders:e.networkResponseHeaders.length>0}}}}function JB(t,e){!e||!t.session||t.session.segmentId!==0||vy(t,WB(t),!1)}function QB(t){if(!t)return null;try{return t.nodeType===t.ELEMENT_NODE?t:t.parentElement}catch{return null}}function ZB(t,e,n,r){return Ds(aR(t,j_(t),r,n),[[{type:"replay_event"},t],[{type:"replay_recording",length:typeof e=="string"?new TextEncoder().encode(e).length:e.length},e]])}function e4({recordingData:t,headers:e}){let n;const r=`${JSON.stringify(e)}
`;if(typeof t=="string")n=`${r}${t}`;else{const o=new TextEncoder().encode(r);n=new Uint8Array(o.length+t.length),n.set(o),n.set(t,o.length)}return n}async function t4({client:t,scope:e,replayId:n,event:r}){const a=typeof t._integrations=="object"&&t._integrations!==null&&!Array.isArray(t._integrations)?Object.keys(t._integrations):void 0,o={event_id:n,integrations:a};t.emit("preprocessEvent",r,o);const u=await fR(t.getOptions(),r,o,e,t,ei());if(!u)return null;t.emit("postprocessEvent",u,o),u.platform=u.platform||"javascript";const d=t.getSdkMetadata(),{name:f,version:h,settings:g}=(d==null?void 0:d.sdk)||{};return u.sdk={...u.sdk,name:f||"sentry.javascript.unknown",version:h||"0.0.0",settings:g},u}async function n4({recordingData:t,replayId:e,segmentId:n,eventContext:r,timestamp:a,session:o}){const u=e4({recordingData:t,headers:{segment_id:n}}),{urls:d,errorIds:f,traceIds:h,initialTimestamp:g}=r,v=Fe(),_=it(),b=v==null?void 0:v.getTransport(),S=v==null?void 0:v.getDsn();if(!v||!b||!S||!o.sampled)return Promise.resolve({});const w={type:I5,replay_start_timestamp:g/1e3,timestamp:a/1e3,error_ids:f,trace_ids:h,urls:d,replay_id:e,segment_id:n,replay_type:o.sampled},T=await t4({scope:_,client:v,replayId:e,event:w});if(!T)return v.recordDroppedEvent("event_processor","replay"),Te&&xe.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete T.sdkProcessingMetadata;const x=ZB(T,u,S,v.getOptions().tunnel);let I;try{I=await b.send(x)}catch(q){const ee=new Error(sy);try{ee.cause=q}catch{}throw ee}if(typeof I.statusCode=="number"&&(I.statusCode<200||I.statusCode>=300))throw new JA(I.statusCode);const D=TR({},I);if(wR(D,"replay"))throw new yy(D);return I}class JA extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class yy extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function QA(t,e={count:0,interval:$5}){const{recordingData:n,onError:r}=t;if(n.length)try{return await n4(t),!0}catch(a){if(a instanceof JA||a instanceof yy)throw a;if(mR("Replays",{_retryCount:e.count}),r&&r(a),e.count>=z5){const o=new Error(`${sy} - max retries exceeded`);try{o.cause=a}catch{}throw o}return e.interval*=++e.count,new Promise((o,u)=>{Sc(async()=>{try{await QA(t,e),o(!0)}catch(d){u(d)}},e.interval)})}}const ZA="__THROTTLED",r4="__SKIPPED";function i4(t,e,n){const r=new Map,a=d=>{const f=d-n;r.forEach((h,g)=>{g<f&&r.delete(g)})},o=()=>[...r.values()].reduce((d,f)=>d+f,0);let u=!1;return(...d)=>{const f=Math.floor(Date.now()/1e3);if(a(f),o()>=e){const g=u;return u=!0,g?r4:ZA}u=!1;const h=r.get(f)||0;return r.set(f,h+1),t(...d)}}class s4{constructor({options:e,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:D5,sessionIdleExpire:N5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=e,this._debouncedFlush=VB(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=i4((u,d)=>ZH(this,u,d),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:a}=this.getOptions(),o=r?{threshold:Math.min(j5,r),timeout:r,scrollTimeout:H5,ignoreSelector:a?a.join(","):""}:void 0;if(o&&(this.clickDetector=new fH(this,o)),Te){const u=e._experiments;xe.setConfig({captureExceptions:!!u.captureExceptions,traceInternals:!!u.traceInternals})}this._handleVisibilityChange=()=>{ft.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const u=Yr({category:"ui.blur"});this._doChangeToBackgroundTasks(u)},this._handleWindowFocus=()=>{const u=Yr({category:"ui.focus"});this._doChangeToForegroundTasks(u)},this._handleKeyboardEvent=u=>{xH(this,u)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(e){Te&&xe.exception(e),this._options.onError&&this._options.onError(e)}initializeSampling(e){const{errorSampleRate:n,sessionSampleRate:r}=this._options,a=n<=0&&r<=0;if(this._requiresManualStart=a,!a){if(this._initializeSessionForSampling(e),!this.session){Te&&xe.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",Te&&xe.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){Te&&xe.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){Te&&xe.log("Buffering is in progress, call `flush()` to save the replay");return}Te&&xe.infoTick("Starting replay in session mode"),this._updateUserActivity();const e=kg({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){Te&&xe.log("Buffering is in progress, call `flush()` to save the replay");return}Te&&xe.infoTick("Starting replay in buffer mode");const e=kg({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=Di({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:U5}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:KB(this),...XB(),onMutation:this._onMutationHandler.bind(this),...e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}})}catch(e){this.handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this.handleException(e),!1}}async stop({forceFlush:e=!1,reason:n}={}){var r;if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{Te&&xe.log(`Stopping Replay${n?` triggered by ${n}`:""}`),YA(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),(r=this.eventBuffer)==null||r.destroy(),this.eventBuffer=null,XH(this)}catch(a){this.handleException(a)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Te&&xe.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),Te&&xe.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();Te&&xe.log("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!e||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const n=e();this.recordingMode==="buffer"||!this._isEnabled||n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(e){var n,r;if(!(e&&((n=this.session)==null?void 0:n.sampled)===!1))return(r=this.session)==null?void 0:r.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Nv(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const e=`${ft.location.pathname}${ft.location.hash}${ft.location.search}`,n=`${ft.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(e,n){const r=this._throttledAddEvent(e,n);if(r===ZA){const a=Yr({category:"replay.throttled"});this.addUpdate(()=>!vy(this,{type:sH,timestamp:a.timestamp||0,data:{tag:"breadcrumb",payload:a,metric:!0}}))}return r}getCurrentRoute(){const e=this.lastActiveSpan||bn(),n=e&&cn(e),a=(n&&Xe(n).data||{})[Dr];if(!(!n||!a||!["route","custom"].includes(a)))return Xe(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=GH({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(e){const n=this._options.errorSampleRate>0,r=kg({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const e=this.session;return BA(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(e),!1):!0}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{ft.document.addEventListener("visibilitychange",this._handleVisibilityChange),ft.addEventListener("blur",this._handleWindowBlur),ft.addEventListener("focus",this._handleWindowFocus),ft.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(qB(this),this._hasInitializedCoreListeners=!0)}catch(e){this.handleException(e)}this._performanceCleanupCallback=$H(this)}_removeListeners(){try{ft.document.removeEventListener("visibilitychange",this._handleVisibilityChange),ft.removeEventListener("blur",this._handleWindowBlur),ft.removeEventListener("focus",this._handleWindowFocus),ft.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this.handleException(e)}}_doChangeToBackgroundTasks(e){!this.session||HA(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){Te&&xe.log("Document has become active, but session has expired");return}e&&this._createCustomBreadcrumb(e)}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:De.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){let e=kH(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;e=e.filter(r=>r.start>=n)}return Promise.all(Ah(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:n}=this;if(!e||!n||this._requiresManualStart||e.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){var n;const e=this.getSessionId();if(!this.session||!this.eventBuffer||!e){Te&&xe.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!((n=this.eventBuffer)!=null&&n.hasEvents)&&(await GB(this),!!this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const a=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();const u=await this.eventBuffer.finish();await QA({replayId:e,recordingData:u,segmentId:o,eventContext:a,session:this.session,timestamp:r,onError:d=>this.handleException(d)})}catch(r){this.handleException(r),this.stop({reason:"sendReplay"});const a=Fe();if(a){const o=r instanceof yy?"ratelimit_backoff":"send_error";a.recordDroppedEvent(o,"replay")}}}async _flush({force:e=!1}={}){if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession()){Te&&xe.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,a=Date.now()-n;this._debouncedFlush.cancel();const o=a<this._options.minReplayDuration,u=a>this._options.maxReplayDuration+5e3;if(o||u){Te&&xe.log(`Session duration (${Math.floor(a/1e3)}s) is too ${o?"short":"long"}, not sending replay.`),o&&this._debouncedFlush();return}const d=this.eventBuffer;d&&this.session.segmentId===0&&!d.hasCheckout&&Te&&xe.log("Flushing initial segment without checkout.");const f=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(h){this.handleException(h)}finally{this._flushLock=void 0,f&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&Rh(this.session)}_onMutationHandler(e){const{ignoreMutations:n}=this._options._experiments;if(n!=null&&n.length&&e.some(d=>{const f=QB(d.target),h=n.join(",");return f==null?void 0:f.matches(h)}))return!1;const r=e.length,a=this._options.mutationLimit,o=this._options.mutationBreadcrumbLimit,u=a&&r>a;if(r>o||u){const d=Yr({category:"replay.mutations",data:{count:r,limit:u}});this._createCustomBreadcrumb(d)}return u?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function yu(t,e){return[...t,...e].join(",")}function a4({mask:t,unmask:e,block:n,unblock:r,ignore:a}){const o=["base","iframe[srcdoc]:not([src])"],u=yu(t,[".sentry-mask","[data-sentry-mask]"]),d=yu(e,[]);return{maskTextSelector:u,unmaskTextSelector:d,blockSelector:yu(n,[".sentry-block","[data-sentry-block]",...o]),unblockSelector:yu(r,[]),ignoreSelector:yu(a,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function o4({el:t,key:e,maskAttributes:n,maskAllText:r,privacyOptions:a,value:o}){return!r||a.unmaskTextSelector&&t.matches(a.unmaskTextSelector)?o:n.includes(e)||e==="value"&&t.tagName==="INPUT"&&["submit","button"].includes(t.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o}const NT='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',l4=["content-length","content-type","accept"];let LT=!1;const u4=(t=>new c4(t));class c4{constructor({flushMinDelay:e=L5,flushMaxDelay:n=P5,minReplayDuration:r=B5,maxReplayDuration:a=hT,stickySession:o=!0,useCompression:u=!0,workerUrl:d,_experiments:f={},maskAllText:h=!0,maskAllInputs:g=!0,blockAllMedia:v=!0,mutationBreadcrumbLimit:_=750,mutationLimit:b=1e4,slowClickTimeout:S=7e3,slowClickIgnoreSelectors:w=[],networkDetailAllowUrls:T=[],networkDetailDenyUrls:x=[],networkCaptureBodies:I=!0,networkRequestHeaders:D=[],networkResponseHeaders:q=[],mask:ee=[],maskAttributes:Q=["title","placeholder","aria-label"],unmask:O=[],block:z=[],unblock:ne=[],ignore:K=[],maskFn:te,beforeAddRecordingEvent:se,beforeErrorSampling:ce,onError:le}={}){this.name="Replay";const _e=a4({mask:ee,unmask:O,block:z,unblock:ne,ignore:K});if(this._recordingOptions={maskAllInputs:g,maskAllText:h,maskInputOptions:{password:!0},maskTextFn:te,maskInputFn:te,maskAttributeFn:(k,G,F)=>o4({maskAttributes:Q,maskAllText:h,privacyOptions:_e,key:k,value:G,el:F}),..._e,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:k=>{try{k.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!f.recordCrossOriginIframes},this._initialOptions={flushMinDelay:e,flushMaxDelay:n,minReplayDuration:Math.min(r,F5),maxReplayDuration:Math.min(a,hT),stickySession:o,useCompression:u,workerUrl:d,blockAllMedia:v,maskAllInputs:g,maskAllText:h,mutationBreadcrumbLimit:_,mutationLimit:b,slowClickTimeout:S,slowClickIgnoreSelectors:w,networkDetailAllowUrls:T,networkDetailDenyUrls:x,networkCaptureBodies:I,networkRequestHeaders:PT(D),networkResponseHeaders:PT(q),beforeAddRecordingEvent:se,beforeErrorSampling:ce,onError:le,_experiments:f},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${NT}`:NT,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&yv())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return LT}set _isInitialized(e){LT=e}afterAllSetup(e){!yv()||this._replay||(this._setup(e),this._initialize(e))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(e){var n;if((n=this._replay)!=null&&n.isEnabled())return this._replay.getSessionId(e)}getRecordingMode(){var e;if((e=this._replay)!=null&&e.isEnabled())return this._replay.recordingMode}_initialize(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}_setup(e){const n=d4(this._initialOptions,e);this._replay=new s4({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(e){try{const n=e.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}function d4(t,e){const n=e.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...t},a=ba(n.replaysSessionSampleRate),o=ba(n.replaysOnErrorSampleRate);return a==null&&o==null&&Aa(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),a!=null&&(r.sessionSampleRate=a),o!=null&&(r.errorSampleRate=o),r}function PT(t){return[...l4,...t.map(e=>e.toLowerCase())]}function f4(t){return t.split(",").some(e=>e.trim().startsWith("sentry-"))}function eC(t){try{return new URL(t,Ke.location.origin).href}catch{return}}function h4(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}function tC(t){try{return new Headers(t)}catch{return}}const UT=new WeakMap,Og=new Map,nC={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function p4(t,e){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:a,shouldCreateSpanForRequest:o,enableHTTPTimings:u,tracePropagationTargets:d,onRequestSpanStart:f,onRequestSpanEnd:h}={...nC,...e},g=typeof o=="function"?o:S=>!0,v=S=>m4(S,d),_={},b=t.getOptions().propagateTraceparent;n&&(t.addEventProcessor(S=>(S.type==="transaction"&&S.spans&&S.spans.forEach(w=>{if(w.op==="http.client"){const T=Og.get(w.span_id);T&&(w.timestamp=T/1e3,Og.delete(w.span_id))}}),S)),a&&VU(S=>{if(S.response){const w=UT.get(S.response);w&&S.endTimestamp&&Og.set(w,S.endTimestamp)}}),UR(S=>{const w=UU(S,g,v,_,{propagateTraceparent:b,onRequestSpanEnd:h});if(S.response&&S.fetchData.__span&&UT.set(S.response,S.fetchData.__span),w){const T=eC(S.fetchData.url),x=T?va(T).host:void 0;w.setAttributes({"http.url":T,"server.address":x}),u&&$T(w),f==null||f(w,{headers:S.headers})}})),r&&sA(S=>{var T;const w=g4(S,g,v,_,b,h);w&&(u&&$T(w),f==null||f(w,{headers:tC((T=S.xhr.__sentry_xhr_v3__)==null?void 0:T.request_headers)}))})}function $T(t){const{url:e}=Xe(t).data;if(!e||typeof e!="string")return;const n=Ea("resource",({entries:r})=>{r.forEach(a=>{h4(a)&&a.name.endsWith(e)&&(t.setAttributes(nA(a)),setTimeout(n))})})}function m4(t,e){const n=hl();if(n){let r,a;try{r=new URL(t,n),a=new URL(n).origin}catch{return!1}const o=r.origin===a;return e?Mi(r.toString(),e)||o&&Mi(r.pathname,e):o}else{const r=!!t.match(/^\/(?!\/)/);return e?Mi(t,e):r}}function g4(t,e,n,r,a,o){const u=t.xhr,d=u==null?void 0:u[da];if(!u||u.__sentry_own_request__||!d)return;const{url:f,method:h}=d,g=Nr()&&e(f);if(t.endTimestamp&&g){const x=u.__sentry_xhr_span_id__;if(!x)return;const I=r[x];I&&d.status_code!==void 0&&(qx(I,d.status_code),I.end(),o==null||o(I,{headers:tC(uA(u)),error:t.error}),delete r[x]);return}const v=eC(f),_=va(v||f),b=sU(f),S=!!bn(),w=g&&S?vl({name:`${h} ${b}`,attributes:{url:f,type:"xhr","http.method":h,"http.url":v,"server.address":_==null?void 0:_.host,[Bt]:"auto.http.browser",[zi]:"http.client",...(_==null?void 0:_.search)&&{"http.query":_==null?void 0:_.search},...(_==null?void 0:_.hash)&&{"http.fragment":_==null?void 0:_.hash}}}):new As;u.__sentry_xhr_span_id__=w.spanContext().spanId,r[u.__sentry_xhr_span_id__]=w,n(f)&&v4(u,Nr()&&S?w:void 0,a);const T=Fe();return T&&T.emit("beforeOutgoingRequestSpan",w,t),w}function v4(t,e,n){const{"sentry-trace":r,baggage:a,traceparent:o}=IR({span:e,propagateTraceparent:n});r&&_4(t,r,a,o)}function _4(t,e,n,r){var o;const a=(o=t.__sentry_xhr_v3__)==null?void 0:o.request_headers;if(!(a!=null&&a["sentry-trace"]||!t.setRequestHeader))try{if(t.setRequestHeader("sentry-trace",e),r&&!(a!=null&&a.traceparent)&&t.setRequestHeader("traceparent",r),n){const u=a==null?void 0:a.baggage;(!u||!f4(u))&&t.setRequestHeader("baggage",n)}}catch{}}function y4(){Ke.document?Ke.document.addEventListener("visibilitychange",()=>{const t=bn();if(!t)return;const e=cn(t);if(Ke.document.hidden&&e){const n="cancelled",{op:r,status:a}=Xe(e);_r&&ie.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),a||e.setStatus({code:jt,message:n}),e.setAttribute("sentry.cancellation_reason","document.hidden"),e.end()}}):_r&&ie.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const b4=3600,rC="sentry_previous_trace",S4="sentry.previous_trace";function E4(t,{linkPreviousTrace:e,consistentTraceSampling:n}){const r=e==="session-storage";let a=r?x4():void 0;t.on("spanStart",u=>{if(cn(u)!==u)return;const d=it().getPropagationContext();a=w4(a,u,d),r&&T4(a)});let o=!0;n&&t.on("beforeSampling",u=>{if(!a)return;const d=it(),f=d.getPropagationContext();if(o&&f.parentSpanId){o=!1;return}d.setPropagationContext({...f,dsc:{...f.dsc,sample_rate:String(a.sampleRate),sampled:String(Uv(a.spanContext))},sampleRand:a.sampleRand}),u.parentSampled=Uv(a.spanContext),u.parentSampleRate=a.sampleRate,u.spanAttributes={...u.spanAttributes,[Fx]:a.sampleRate}})}function w4(t,e,n){const r=Xe(e);function a(){var d,f;try{return Number((d=n.dsc)==null?void 0:d.sample_rate)??Number((f=r.data)==null?void 0:f[N_])}catch{return 0}}const o={spanContext:e.spanContext(),startTimestamp:r.start_timestamp,sampleRate:a(),sampleRand:n.sampleRand};if(!t)return o;const u=t.spanContext;return u.traceId===r.trace_id?t:(Date.now()/1e3-t.startTimestamp<=b4&&(_r&&ie.log(`Adding previous_trace \`${JSON.stringify(u)}\` link to span \`${JSON.stringify({op:r.op,...e.spanContext()})}\``),e.addLink({context:u,attributes:{[Z3]:"previous_trace"}}),e.setAttribute(S4,`${u.traceId}-${u.spanId}-${Uv(u)?1:0}`)),o)}function T4(t){try{Ke.sessionStorage.setItem(rC,JSON.stringify(t))}catch(e){_r&&ie.warn("Could not store previous trace in sessionStorage",e)}}function x4(){var t;try{const e=(t=Ke.sessionStorage)==null?void 0:t.getItem(rC);return JSON.parse(e)}catch{return}}function Uv(t){return t.traceFlags===1}const R4="BrowserTracing",A4={...Sf,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...nC},C4=((t={})=>{const e={name:void 0,source:void 0},n=Ke.document,{enableInp:r,enableElementTiming:a,enableLongTask:o,enableLongAnimationFrame:u,_experiments:{enableInteractions:d,enableStandaloneClsSpans:f,enableStandaloneLcpSpans:h},beforeStartSpan:g,idleTimeout:v,finalTimeout:_,childSpanTimeout:b,markBackgroundSpan:S,traceFetch:w,traceXHR:T,trackFetchStreamPerformance:x,shouldCreateSpanForRequest:I,enableHTTPTimings:D,ignoreResourceSpans:q,ignorePerformanceApiSpans:ee,instrumentPageLoad:Q,instrumentNavigation:O,detectRedirects:z,linkPreviousTrace:ne,consistentTraceSampling:K,enableReportPageLoaded:te,onRequestSpanStart:se,onRequestSpanEnd:ce}={...A4,...t};let le,_e,k;function G(F,ae,J=!0){const R=ae.op==="pageload",N=ae.name,j=g?g(ae):ae,W=j.attributes||{};if(N!==j.name&&(W[Dr]="custom",j.attributes=W),!J){const Ee=Ca();vl({...j,startTime:Ee}).end(Ee);return}e.name=j.name,e.source=W[Dr];const re=dR(j,{idleTimeout:v,finalTimeout:_,childSpanTimeout:b,disableAutoFinish:R,beforeSpanEnd:Ee=>{le==null||le(),nz(Ee,{recordClsOnPageloadSpan:!f,recordLcpOnPageloadSpan:!h,ignoreResourceSpans:q,ignorePerformanceApiSpans:ee}),jT(F,void 0);const we=it(),He=we.getPropagationContext();we.setPropagationContext({...He,traceId:re.spanContext().traceId,sampled:Is(re),dsc:ji(Ee)}),R&&(k=void 0)},trimIdleSpanEndTimestamp:!te});R&&te&&(k=re),jT(F,re);function fe(){n&&["interactive","complete"].includes(n.readyState)&&F.emit("idleSpanEnableAutoFinish",re)}R&&!te&&n&&(n.addEventListener("readystatechange",()=>{fe()}),fe())}return{name:R4,setup(F){if(C2(),le=K$({recordClsStandaloneSpans:f||!1,recordLcpStandaloneSpans:h||!1,client:F}),r&&Az(),a&&pz(),u&&Ye.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?J$():o&&W$(),d&&Q$(),z&&n){const J=()=>{_e=Vt()};addEventListener("click",J,{capture:!0}),addEventListener("keydown",J,{capture:!0,passive:!0})}function ae(){const J=rc(F);J&&!Xe(J).timestamp&&(_r&&ie.log(`[Tracing] Finishing current active span with op: ${Xe(J).op}`),J.setAttribute(Wu,"cancelled"),J.end())}F.on("startNavigationSpan",(J,R)=>{if(Fe()!==F)return;if(R!=null&&R.isRedirect){_r&&ie.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),G(F,{op:"navigation.redirect",...J},!1);return}_e=void 0,ae(),ei().setPropagationContext({traceId:$i(),sampleRand:Math.random(),propagationSpanId:Nr()?void 0:Ii()});const N=it();N.setPropagationContext({traceId:$i(),sampleRand:Math.random(),propagationSpanId:Nr()?void 0:Ii()}),N.setSDKProcessingMetadata({normalizedRequest:void 0}),G(F,{op:"navigation",...J,parentSpan:null,forceTransaction:!0})}),F.on("startPageLoadSpan",(J,R={})=>{if(Fe()!==F)return;ae();const N=R.sentryTrace||zT("sentry-trace"),j=R.baggage||zT("baggage"),W=y2(N,j),re=it();re.setPropagationContext(W),Nr()||(re.getPropagationContext().propagationSpanId=Ii()),re.setSDKProcessingMetadata({normalizedRequest:X_()}),G(F,{op:"pageload",...J})}),F.on("endPageloadSpan",()=>{te&&k&&(k.setAttribute(Wu,"reportPageLoaded"),k.end())})},afterAllSetup(F){let ae=hl();if(ne!=="off"&&E4(F,{linkPreviousTrace:ne,consistentTraceSampling:K}),Ke.location){if(Q){const J=zn();k4(F,{name:Ke.location.pathname,startTime:J?J/1e3:void 0,attributes:{[Dr]:"url",[Bt]:"auto.pageload.browser"}})}O&&Eh(({to:J,from:R})=>{if(R===void 0&&(ae==null?void 0:ae.indexOf(J))!==-1){ae=void 0;return}ae=void 0;const N=V_(J),j=rc(F),W=j&&z&&I4(j,_e);O4(F,{name:(N==null?void 0:N.pathname)||Ke.location.pathname,attributes:{[Dr]:"url",[Bt]:"auto.navigation.browser"}},{url:J,isRedirect:W})})}S&&y4(),d&&M4(F,v,_,b,e),r&&Oz(),p4(F,{traceFetch:w,traceXHR:T,trackFetchStreamPerformance:x,tracePropagationTargets:F.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:I,enableHTTPTimings:D,onRequestSpanStart:se,onRequestSpanEnd:ce})}}});function k4(t,e,n){t.emit("startPageLoadSpan",e,n),it().setTransactionName(e.name);const r=rc(t);return r&&t.emit("afterStartPageLoadSpan",r),r}function O4(t,e,n){const{url:r,isRedirect:a}=n||{};t.emit("beforeStartNavigationSpan",e,{isRedirect:a}),t.emit("startNavigationSpan",e,{isRedirect:a});const o=it();return o.setTransactionName(e.name),r&&!a&&o.setSDKProcessingMetadata({normalizedRequest:{...X_(),url:r}}),rc(t)}function zT(t){const e=Ke.document,n=e==null?void 0:e.querySelector(`meta[name=${t}]`);return(n==null?void 0:n.getAttribute("content"))||void 0}function M4(t,e,n,r,a){const o=Ke.document;let u;const d=()=>{const f="ui.action.click",h=rc(t);if(h){const g=Xe(h).op;if(["navigation","pageload"].includes(g)){_r&&ie.warn(`[Tracing] Did not create ${f} span because a pageload or navigation span is in progress.`);return}}if(u&&(u.setAttribute(Wu,"interactionInterrupted"),u.end(),u=void 0),!a.name){_r&&ie.warn(`[Tracing] Did not create ${f} transaction because _latestRouteName is missing.`);return}u=dR({name:a.name,op:f,attributes:{[Dr]:a.source||"url"}},{idleTimeout:e,finalTimeout:n,childSpanTimeout:r})};o&&addEventListener("click",d,{capture:!0})}const iC="_sentry_idleSpan";function rc(t){return t[iC]}function jT(t,e){Zn(t,iC,e)}const HT=1.5;function I4(t,e){const n=Xe(t),r=Ca(),a=n.start_timestamp;return!(r-a>HT||e&&r-e<=HT)}function D4(t){const e={...t};return MR(e,"react"),mR("react",{version:$.version}),M5(e)}var B=typeof window<"u"?window:void 0,nn=typeof globalThis<"u"?globalThis:B;typeof self>"u"&&(nn.self=nn),typeof File>"u"&&(nn.File=function(){});var sC=Array.prototype,BT=sC.forEach,FT=sC.indexOf,Wn=nn==null?void 0:nn.navigator,ue=nn==null?void 0:nn.document,Ln=nn==null?void 0:nn.location,$v=nn==null?void 0:nn.fetch,zv=nn!=null&&nn.XMLHttpRequest&&"withCredentials"in new nn.XMLHttpRequest?nn.XMLHttpRequest:void 0,qT=nn==null?void 0:nn.AbortController,Nn=Wn==null?void 0:Wn.userAgent,Se=B??{},xi={DEBUG:!1,LIB_VERSION:"1.307.0"};function GT(t,e,n,r,a,o,u){try{var d=t[o](u),f=d.value}catch(h){return void n(h)}d.done?e(f):Promise.resolve(f).then(r,a)}function YT(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function u(f){GT(o,r,a,u,d,"next",f)}function d(f){GT(o,r,a,u,d,"throw",f)}u(void 0)}))}}function he(){return he=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},he.apply(null,arguments)}function aC(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var N4=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],VT=function(t,e){if(e===void 0&&(e=[]),!t)return!1;var n=t.toLowerCase();return N4.concat(e).some((r=>{var a=r.toLowerCase();return n.indexOf(a)!==-1}))},L4=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function Ue(t,e){return t.indexOf(e)!==-1}var kh=function(t){return t.trim()},jv=function(t){return t.replace(/^\$/,"")},P4=Array.isArray,oC=Object.prototype,lC=oC.hasOwnProperty,Oh=oC.toString,et=P4||function(t){return Oh.call(t)==="[object Array]"},Ts=t=>typeof t=="function",Yt=t=>t===Object(t)&&!et(t),Uo=t=>{if(Yt(t)){for(var e in t)if(lC.call(t,e))return!1;return!0}return!1},oe=t=>t===void 0,Ht=t=>Oh.call(t)=="[object String]",Hv=t=>Ht(t)&&t.trim().length===0,ti=t=>t===null,Ze=t=>oe(t)||ti(t),Jr=t=>Oh.call(t)=="[object Number]",Ni=t=>Oh.call(t)==="[object Boolean]",U4=t=>t instanceof FormData,$4=t=>Ue(L4,t);function Bv(t){return t===null||typeof t!="object"}function Xf(t,e){return Object.prototype.toString.call(t)==="[object "+e+"]"}function uC(t){return!oe(Event)&&(function(e,n){try{return e instanceof n}catch{return!1}})(t,Event)}var z4=[!0,"true",1,"1","yes"],Mg=t=>Ue(z4,t),j4=[!1,"false",0,"0","no"];function Vr(t,e,n,r,a){return e>n&&(r.warn("min cannot be greater than max."),e=n),Jr(t)?t>n?(r.warn(" cannot be  greater than max: "+n+". Using max value instead."),n):t<e?(r.warn(" cannot be less than min: "+e+". Using min value instead."),e):t:(r.warn(" must be a number. using max or fallback. max: "+n+", fallback: "+a),Vr(a||n,e,n,r))}class H4{constructor(e){this.t={},this.i=e.i,this.o=Vr(e.bucketSize,0,100,e.h),this.m=Vr(e.refillRate,0,this.o,e.h),this.S=Vr(e.refillInterval,0,864e5,e.h)}$(e,n){var r=n-e.lastAccess,a=Math.floor(r/this.S);if(a>0){var o=a*this.m;e.tokens=Math.min(e.tokens+o,this.o),e.lastAccess=e.lastAccess+a*this.S}}consumeRateLimit(e){var n,r=Date.now(),a=String(e),o=this.t[a];return o?this.$(o,r):(o={tokens:this.o,lastAccess:r},this.t[a]=o),o.tokens===0||(o.tokens--,o.tokens===0&&((n=this.i)==null||n.call(this,e)),o.tokens===0)}stop(){this.t={}}}var sf,XT,Ig,B4=t=>t instanceof Error;function F4(t){var e=globalThis._posthogChunkIds;if(e){var n=Object.keys(e);return Ig&&n.length===XT||(XT=n.length,Ig=n.reduce(((r,a)=>{sf||(sf={});var o=sf[a];if(o)r[o[0]]=o[1];else for(var u=t(a),d=u.length-1;d>=0;d--){var f=u[d],h=f==null?void 0:f.filename,g=e[a];if(h&&g){r[h]=g,sf[a]=[h,g];break}}return r}),{})),Ig}}class q4{constructor(e,n,r){r===void 0&&(r=[]),this.coercers=e,this.stackParser=n,this.modifiers=r}buildFromUnknown(e,n){n===void 0&&(n={});var r=n&&n.mechanism||{handled:!0,type:"generic"},a=this.buildCoercingContext(r,n,0).apply(e),o=this.buildParsingContext(),u=this.parseStacktrace(a,o);return{$exception_list:this.convertToExceptionList(u,r),$exception_level:"error"}}modifyFrames(e){var n=this;return YT((function*(){for(var r of e)r.stacktrace&&r.stacktrace.frames&&et(r.stacktrace.frames)&&(r.stacktrace.frames=yield n.applyModifiers(r.stacktrace.frames));return e}))()}coerceFallback(e){var n;return{type:"Error",value:"Unknown error",stack:(n=e.syntheticException)==null?void 0:n.stack,synthetic:!0}}parseStacktrace(e,n){var r,a;return e.cause!=null&&(r=this.parseStacktrace(e.cause,n)),e.stack!=""&&e.stack!=null&&(a=this.applyChunkIds(this.stackParser(e.stack,e.synthetic?1:0),n.chunkIdMap)),he({},e,{cause:r,stack:a})}applyChunkIds(e,n){return e.map((r=>(r.filename&&n&&(r.chunk_id=n[r.filename]),r)))}applyCoercers(e,n){for(var r of this.coercers)if(r.match(e))return r.coerce(e,n);return this.coerceFallback(n)}applyModifiers(e){var n=this;return YT((function*(){var r=e;for(var a of n.modifiers)r=yield a(r);return r}))()}convertToExceptionList(e,n){var r,a,o,u={type:e.type,value:e.value,mechanism:{type:(r=n.type)!==null&&r!==void 0?r:"generic",handled:(a=n.handled)===null||a===void 0||a,synthetic:(o=e.synthetic)!==null&&o!==void 0&&o}};e.stack&&(u.stacktrace={type:"raw",frames:e.stack});var d=[u];return e.cause!=null&&d.push(...this.convertToExceptionList(e.cause,he({},n,{handled:!0}))),d}buildParsingContext(){return{chunkIdMap:F4(this.stackParser)}}buildCoercingContext(e,n,r){r===void 0&&(r=0);var a=(o,u)=>{if(u<=4){var d=this.buildCoercingContext(e,n,u);return this.applyCoercers(o,d)}};return he({},n,{syntheticException:r==0?n.syntheticException:void 0,mechanism:e,apply:o=>a(o,r),next:o=>a(o,r+1)})}}var tl="?";function Fv(t,e,n,r,a){var o={platform:t,filename:e,function:n==="<anonymous>"?tl:n,in_app:!0};return oe(r)||(o.lineno=r),oe(a)||(o.colno=a),o}var cC=(t,e)=>{var n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:tl,n?"safari-extension:"+e:"safari-web-extension:"+e]:[t,e]},G4=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Y4=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,V4=/\((\S*)(?::(\d+))(?::(\d+))\)/,X4=(t,e)=>{var n=G4.exec(t);if(n){var[,r,a,o]=n;return Fv(e,r,tl,+a,+o)}var u=Y4.exec(t);if(u){if(u[2]&&u[2].indexOf("eval")===0){var d=V4.exec(u[2]);d&&(u[2]=d[1],u[3]=d[2],u[4]=d[3])}var[f,h]=cC(u[1]||tl,u[2]);return Fv(e,h,f,u[3]?+u[3]:void 0,u[4]?+u[4]:void 0)}},K4=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,W4=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,J4=(t,e)=>{var n=K4.exec(t);if(n){if(n[3]&&n[3].indexOf(" > eval")>-1){var r=W4.exec(n[3]);r&&(n[1]=n[1]||"eval",n[3]=r[1],n[4]=r[2],n[5]="")}var a=n[3],o=n[1]||tl;return[o,a]=cC(o,a),Fv(e,a,o,n[4]?+n[4]:void 0,n[5]?+n[5]:void 0)}},KT=/\(error: (.*)\)/,WT=50;function Q4(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(a,o){o===void 0&&(o=0);for(var u=[],d=a.split(`
`),f=o;f<d.length;f++){var h=d[f];if(!(h.length>1024)){var g=KT.test(h)?h.replace(KT,"$1"):h;if(!g.match(/\S*Error: /)){for(var v of n){var _=v(g,t);if(_){u.push(_);break}}if(u.length>=WT)break}}}return(function(b){if(!b.length)return[];var S=Array.from(b);return S.reverse(),S.slice(0,WT).map((w=>{return he({},w,{filename:w.filename||(T=S,T[T.length-1]||{}).filename,function:w.function||tl});var T}))})(u)}}class Z4{match(e){return this.isDOMException(e)||this.isDOMError(e)}coerce(e,n){var r=Ht(e.stack);return{type:this.getType(e),value:this.getValue(e),stack:r?e.stack:void 0,cause:e.cause?n.next(e.cause):void 0,synthetic:!1}}getType(e){return this.isDOMError(e)?"DOMError":"DOMException"}getValue(e){var n=e.name||(this.isDOMError(e)?"DOMError":"DOMException");return e.message?n+": "+e.message:n}isDOMException(e){return Xf(e,"DOMException")}isDOMError(e){return Xf(e,"DOMError")}}class e6{match(e){return(n=>n instanceof Error)(e)}coerce(e,n){return{type:this.getType(e),value:this.getMessage(e,n),stack:this.getStack(e),cause:e.cause?n.next(e.cause):void 0,synthetic:!1}}getType(e){return e.name||e.constructor.name}getMessage(e,n){var r=e.message;return r.error&&typeof r.error.message=="string"?String(r.error.message):String(r)}getStack(e){return e.stacktrace||e.stack||void 0}}class t6{constructor(){}match(e){return Xf(e,"ErrorEvent")&&e.error!=null}coerce(e,n){var r,a=n.apply(e.error);return a||{type:"ErrorEvent",value:e.message,stack:(r=n.syntheticException)==null?void 0:r.stack,synthetic:!0}}}var n6=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class r6{match(e){return typeof e=="string"}coerce(e,n){var r,[a,o]=this.getInfos(e);return{type:a??"Error",value:o??e,stack:(r=n.syntheticException)==null?void 0:r.stack,synthetic:!0}}getInfos(e){var n="Error",r=e,a=e.match(n6);return a&&(n=a[1],r=a[2]),[n,r]}}var i6=["fatal","error","warning","log","info","debug"];function dC(t,e){e===void 0&&(e=40);var n=Object.keys(t);if(n.sort(),!n.length)return"[object has no keys]";for(var r=n.length;r>0;r--){var a=n.slice(0,r).join(", ");if(!(a.length>e))return r===n.length||a.length<=e?a:a.slice(0,e)+"..."}return""}class s6{match(e){return typeof e=="object"&&e!==null}coerce(e,n){var r,a=this.getErrorPropertyFromObject(e);return a?n.apply(a):{type:this.getType(e),value:this.getValue(e),stack:(r=n.syntheticException)==null?void 0:r.stack,level:this.isSeverityLevel(e.level)?e.level:"error",synthetic:!0}}getType(e){return uC(e)?e.constructor.name:"Error"}getValue(e){if("name"in e&&typeof e.name=="string"){var n="'"+e.name+"' captured as exception";return"message"in e&&typeof e.message=="string"&&(n+=" with message: '"+e.message+"'"),n}if("message"in e&&typeof e.message=="string")return e.message;var r=this.getObjectClassName(e);return(r&&r!=="Object"?"'"+r+"'":"Object")+" captured as exception with keys: "+dC(e)}isSeverityLevel(e){return Ht(e)&&!Hv(e)&&i6.indexOf(e)>=0}getErrorPropertyFromObject(e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];if(B4(r))return r}}getObjectClassName(e){try{var n=Object.getPrototypeOf(e);return n?n.constructor.name:void 0}catch{return}}}class a6{match(e){return uC(e)}coerce(e,n){var r,a=e.constructor.name;return{type:a,value:a+" captured as exception with keys: "+dC(e),stack:(r=n.syntheticException)==null?void 0:r.stack,synthetic:!0}}}class o6{match(e){return Bv(e)}coerce(e,n){var r;return{type:"Error",value:"Primitive value captured as exception: "+String(e),stack:(r=n.syntheticException)==null?void 0:r.stack,synthetic:!0}}}class l6{match(e){return Xf(e,"PromiseRejectionEvent")}coerce(e,n){var r,a=this.getUnhandledRejectionReason(e);return Bv(a)?{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(a),stack:(r=n.syntheticException)==null?void 0:r.stack,synthetic:!0}:n.apply(a)}getUnhandledRejectionReason(e){if(Bv(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}}var fC=function(t,e){var{debugEnabled:n}=e===void 0?{}:e,r={k:function(a){if(B&&(xi.DEBUG||Se.POSTHOG_DEBUG||n)&&!oe(B.console)&&B.console){for(var o=("__rrweb_original__"in B.console[a])?B.console[a].__rrweb_original__:B.console[a],u=arguments.length,d=new Array(u>1?u-1:0),f=1;f<u;f++)d[f-1]=arguments[f];o(t,...d)}},info:function(){for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];r.k("log",...o)},warn:function(){for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];r.k("warn",...o)},error:function(){for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];r.k("error",...o)},critical:function(){for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];console.error(t,...o)},uninitializedWarning:a=>{r.error("You must initialize PostHog before calling "+a)},createLogger:(a,o)=>fC(t+" "+a,o)};return r},de=fC("[PostHog.js]"),It=de.createLogger,u6=It("[ExternalScriptsLoader]"),JT=(t,e,n)=>{if(t.config.disable_external_dependency_loading)return u6.warn(e+" was requested but loading of external scripts is disabled."),n("Loading of external scripts is disabled");var r=ue==null?void 0:ue.querySelectorAll("script");if(r){for(var a,o=function(){if(r[u].src===e){var f=r[u];return f.__posthog_loading_callback_fired?{v:n()}:(f.addEventListener("load",(h=>{f.__posthog_loading_callback_fired=!0,n(void 0,h)})),f.onerror=h=>n(h),{v:void 0})}},u=0;u<r.length;u++)if(a=o())return a.v}var d=()=>{if(!ue)return n("document not found");var f=ue.createElement("script");if(f.type="text/javascript",f.crossOrigin="anonymous",f.src=e,f.onload=v=>{f.__posthog_loading_callback_fired=!0,n(void 0,v)},f.onerror=v=>n(v),t.config.prepare_external_dependency_script&&(f=t.config.prepare_external_dependency_script(f)),!f)return n("prepare_external_dependency_script returned null");var h,g=ue.querySelectorAll("body > script");g.length>0?(h=g[0].parentNode)==null||h.insertBefore(f,g[0]):ue.body.appendChild(f)};ue!=null&&ue.body?d():ue==null||ue.addEventListener("DOMContentLoaded",d)};Se.__PosthogExtensions__=Se.__PosthogExtensions__||{},Se.__PosthogExtensions__.loadExternalDependency=(t,e,n)=>{var r="/static/"+e+".js?v="+t.version;if(e==="remote-config"&&(r="/array/"+t.config.token+"/config.js"),e==="toolbar"){var a=3e5;r=r+"&t="+Math.floor(Date.now()/a)*a}var o=t.requestRouter.endpointFor("assets",r);JT(t,o,n)},Se.__PosthogExtensions__.loadSiteApp=(t,e,n)=>{var r=t.requestRouter.endpointFor("api",e);JT(t,r,n)};var Kf={};function xs(t,e,n){if(et(t)){if(BT&&t.forEach===BT)t.forEach(e,n);else if("length"in t&&t.length===+t.length){for(var r=0,a=t.length;r<a;r++)if(r in t&&e.call(n,t[r],r)===Kf)return}}}function ht(t,e,n){if(!Ze(t)){if(et(t))return xs(t,e,n);if(U4(t)){for(var r of t.entries())if(e.call(n,r[1],r[0])===Kf)return}else for(var a in t)if(lC.call(t,a)&&e.call(n,t[a],a)===Kf)return}}var Mt=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return xs(n,(function(a){for(var o in a)a[o]!==void 0&&(t[o]=a[o])})),t},bl=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return xs(n,(function(a){xs(a,(function(o){t.push(o)}))})),t};function Cf(t){for(var e=Object.keys(t),n=e.length,r=new Array(n);n--;)r[n]=[e[n],t[e[n]]];return r}var QT=function(t){try{return t()}catch{return}},c6=function(t){return function(){try{for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(this,n)}catch(a){de.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),de.critical(a)}}},by=function(t){var e={};return ht(t,(function(n,r){(Ht(n)&&n.length>0||Jr(n))&&(e[r]=n)})),e};function d6(t,e){return n=t,r=o=>Ht(o)&&!ti(e)?o.slice(0,e):o,a=new Set,(function o(u,d){return u!==Object(u)?r?r(u,d):u:a.has(u)?void 0:(a.add(u),et(u)?(f=[],xs(u,(h=>{f.push(o(h))}))):(f={},ht(u,((h,g)=>{a.has(h)||(f[g]=o(h,g))}))),f);var f})(n);var n,r,a}var f6=["herokuapp.com","vercel.app","netlify.app"];function h6(t){var e=t==null?void 0:t.hostname;if(!Ht(e))return!1;var n=e.split(".").slice(-2).join(".");for(var r of f6)if(n===r)return!1;return!0}function hC(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]}function $t(t,e,n,r){var{capture:a=!1,passive:o=!0}=r??{};t==null||t.addEventListener(e,n,{capture:a,passive:o})}var pC="$people_distinct_id",Iu="__alias",Du="__timers",ZT="$autocapture_disabled_server_side",qv="$heatmaps_enabled_server_side",e1="$exception_capture_enabled_server_side",Gv="$error_tracking_suppression_rules",t1="$error_tracking_capture_extension_exceptions",n1="$web_vitals_enabled_server_side",mC="$dead_clicks_enabled_server_side",r1="$web_vitals_allowed_metrics",Dg="$session_recording_remote_config",Wf="$sesid",gC="$session_is_sampled",$o="$enabled_feature_flags",Nu="$early_access_features",Yv="$feature_flag_details",Lu="$stored_person_properties",oa="$stored_group_properties",Vv="$surveys",af="$surveys_activated",Jf="$flag_call_reported",Ri="$user_state",Xv="$client_session_props",Kv="$capture_rate_limit",Wv="$initial_campaign_params",Jv="$initial_referrer_info",Qf="$initial_person_info",Zf="$epp",vC="__POSTHOG_TOOLBAR__",bu="$posthog_cookieless",p6=[pC,Iu,"__cmpns",Du,"$session_recording_enabled_server_side",qv,Wf,$o,Gv,Ri,Nu,Yv,oa,Lu,Vv,Jf,Xv,Kv,Wv,Jv,Zf,Qf,"$conversations_widget_session_id","$conversations_ticket_id","$conversations_widget_state","$conversations_user_traits"];function i1(t){return t instanceof Element&&(t.id===vC||!(t.closest==null||!t.closest(".toolbar-global-fade-container")))}function Mh(t){return!!t&&t.nodeType===1}function Rs(t,e){return!!t&&!!t.tagName&&t.tagName.toLowerCase()===e.toLowerCase()}function _C(t){return!!t&&t.nodeType===3}function yC(t){return!!t&&t.nodeType===11}function Sy(t){return t?kh(t).split(/\s+/):[]}function s1(t){var e=B==null?void 0:B.location.href;return!!(e&&t&&t.some((n=>e.match(n))))}function eh(t){var e="";switch(typeof t.className){case"string":e=t.className;break;case"object":e=(t.className&&"baseVal"in t.className?t.className.baseVal:null)||t.getAttribute("class")||"";break;default:e=""}return Sy(e)}function bC(t){return Ze(t)?null:kh(t).split(/(\s+)/).filter((e=>ic(e))).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Tc(t){var e="";return Qv(t)&&!xC(t)&&t.childNodes&&t.childNodes.length&&ht(t.childNodes,(function(n){var r;_C(n)&&n.textContent&&(e+=(r=bC(n.textContent))!==null&&r!==void 0?r:"")})),kh(e)}function SC(t){return oe(t.target)?t.srcElement||null:(e=t.target)!=null&&e.shadowRoot?t.composedPath()[0]||null:t.target||null;var e}var Ey=["a","button","form","input","select","textarea","label"];function EC(t,e){if(oe(e))return!0;var n,r=function(o){if(e.some((u=>o.matches(u))))return{v:!0}};for(var a of t)if(n=r(a))return n.v;return!1}function wC(t){var e=t.parentNode;return!(!e||!Mh(e))&&e}var m6=["next","previous","prev",">","<"],a1=10,o1=[".ph-no-rageclick",".ph-no-capture"];function g6(t,e){if(!B||wy(t))return!1;var n,r,a;if(Ni(e)?(n=!!e&&o1,r=void 0):(n=(a=e==null?void 0:e.css_selector_ignorelist)!==null&&a!==void 0?a:o1,r=e==null?void 0:e.content_ignorelist),n===!1)return!1;var{targetElementList:o}=TC(t,!1);return!(function(u,d){if(u===!1||oe(u))return!1;var f;if(u===!0)f=m6;else{if(!et(u))return!1;if(u.length>a1)return de.error("[PostHog] content_ignorelist array cannot exceed "+a1+" items. Use css_selector_ignorelist for more complex matching."),!1;f=u.map((h=>h.toLowerCase()))}return d.some((h=>{var{safeText:g,ariaLabel:v}=h;return f.some((_=>g.includes(_)||v.includes(_)))}))})(r,o.map((u=>{var d;return{safeText:Tc(u).toLowerCase(),ariaLabel:((d=u.getAttribute("aria-label"))==null?void 0:d.toLowerCase().trim())||""}})))&&!EC(o,n)}var wy=t=>!t||Rs(t,"html")||!Mh(t),TC=(t,e)=>{if(!B||wy(t))return{parentIsUsefulElement:!1,targetElementList:[]};for(var n=!1,r=[t],a=t;a.parentNode&&!Rs(a,"body");)if(yC(a.parentNode))r.push(a.parentNode.host),a=a.parentNode.host;else{var o=wC(a);if(!o)break;if(e||Ey.indexOf(o.tagName.toLowerCase())>-1)n=!0;else{var u=B.getComputedStyle(o);u&&u.getPropertyValue("cursor")==="pointer"&&(n=!0)}r.push(o),a=o}return{parentIsUsefulElement:n,targetElementList:r}};function v6(t,e,n,r,a){var o,u,d,f;if(n===void 0&&(n=void 0),!B||wy(t)||(o=n)!=null&&o.url_allowlist&&!s1(n.url_allowlist)||(u=n)!=null&&u.url_ignorelist&&s1(n.url_ignorelist))return!1;if((d=n)!=null&&d.dom_event_allowlist){var h=n.dom_event_allowlist;if(h&&!h.some((S=>e.type===S)))return!1}var{parentIsUsefulElement:g,targetElementList:v}=TC(t,r);if(!(function(S,w){var T=w==null?void 0:w.element_allowlist;if(oe(T))return!0;var x,I=function(q){if(T.some((ee=>q.tagName.toLowerCase()===ee)))return{v:!0}};for(var D of S)if(x=I(D))return x.v;return!1})(v,n)||!EC(v,(f=n)==null?void 0:f.css_selector_allowlist))return!1;var _=B.getComputedStyle(t);if(_&&_.getPropertyValue("cursor")==="pointer"&&e.type==="click")return!0;var b=t.tagName.toLowerCase();switch(b){case"html":return!1;case"form":return(a||["submit"]).indexOf(e.type)>=0;case"input":case"select":case"textarea":return(a||["change","click"]).indexOf(e.type)>=0;default:return g?(a||["click"]).indexOf(e.type)>=0:(a||["click"]).indexOf(e.type)>=0&&(Ey.indexOf(b)>-1||t.getAttribute("contenteditable")==="true")}}function Qv(t){for(var e=t;e.parentNode&&!Rs(e,"body");e=e.parentNode){var n=eh(e);if(Ue(n,"ph-sensitive")||Ue(n,"ph-no-capture"))return!1}if(Ue(eh(t),"ph-include"))return!0;var r=t.type||"";if(Ht(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var a=t.name||t.id||"";return!(Ht(a)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(a.replace(/[^a-zA-Z0-9]/g,"")))}function xC(t){return!!(Rs(t,"input")&&!["button","checkbox","submit","reset"].includes(t.type)||Rs(t,"select")||Rs(t,"textarea")||t.getAttribute("contenteditable")==="true")}var RC="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",_6=new RegExp("^(?:"+RC+")$"),y6=new RegExp(RC),AC="\\d{3}-?\\d{2}-?\\d{4}",b6=new RegExp("^("+AC+")$"),S6=new RegExp("("+AC+")");function ic(t,e){return e===void 0&&(e=!0),!(Ze(t)||Ht(t)&&(t=kh(t),(e?_6:y6).test((t||"").replace(/[- ]/g,""))||(e?b6:S6).test(t)))}function CC(t){var e=Tc(t);return ic(e=(e+" "+kC(t)).trim())?e:""}function kC(t){var e="";return t&&t.childNodes&&t.childNodes.length&&ht(t.childNodes,(function(n){var r;if(n&&((r=n.tagName)==null?void 0:r.toLowerCase())==="span")try{var a=Tc(n);e=(e+" "+a).trim(),n.childNodes&&n.childNodes.length&&(e=(e+" "+kC(n)).trim())}catch(o){de.error("[AutoCapture]",o)}})),e}function E6(t){return(function(e){var n=e.map((r=>{var a,o,u="";if(r.tag_name&&(u+=r.tag_name),r.attr_class)for(var d of(r.attr_class.sort(),r.attr_class))u+="."+d.replace(/"/g,"");var f=he({},r.text?{text:r.text}:{},{"nth-child":(a=r.nth_child)!==null&&a!==void 0?a:0,"nth-of-type":(o=r.nth_of_type)!==null&&o!==void 0?o:0},r.href?{href:r.href}:{},r.attr_id?{attr_id:r.attr_id}:{},r.attributes),h={};return Cf(f).sort(((g,v)=>{var[_]=g,[b]=v;return _.localeCompare(b)})).forEach((g=>{var[v,_]=g;return h[l1(v.toString())]=l1(_.toString())})),u+=":",u+=Cf(h).map((g=>{var[v,_]=g;return v+'="'+_+'"'})).join("")}));return n.join(";")})((function(e){return e.map((n=>{var r,a,o={text:(r=n.$el_text)==null?void 0:r.slice(0,400),tag_name:n.tag_name,href:(a=n.attr__href)==null?void 0:a.slice(0,2048),attr_class:w6(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return Cf(n).filter((u=>{var[d]=u;return d.indexOf("attr__")===0})).forEach((u=>{var[d,f]=u;return o.attributes[d]=f})),o}))})(t))}function l1(t){return t.replace(/"|\\"/g,'\\"')}function w6(t){var e=t.attr__class;return e?et(e)?e:Sy(e):void 0}class OC{constructor(e){this.disabled=e===!1;var n=Yt(e)?e:{};this.thresholdPx=n.threshold_px||30,this.timeoutMs=n.timeout_ms||1e3,this.clickCount=n.click_count||3,this.clicks=[]}isRageClick(e,n,r){if(this.disabled)return!1;var a=this.clicks[this.clicks.length-1];if(a&&Math.abs(e-a.x)+Math.abs(n-a.y)<this.thresholdPx&&r-a.timestamp<this.timeoutMs){if(this.clicks.push({x:e,y:n,timestamp:r}),this.clicks.length===this.clickCount)return!0}else this.clicks=[{x:e,y:n,timestamp:r}];return!1}}var Ng="$copy_autocapture",Ci=(function(t){return t.GZipJS="gzip-js",t.Base64="base64",t})({}),th=t=>{var e=ue==null?void 0:ue.createElement("a");return oe(e)?null:(e.href=t,e)},T6=function(t,e){var n,r;e===void 0&&(e="&");var a=[];return ht(t,(function(o,u){oe(o)||oe(u)||u==="undefined"||(n=encodeURIComponent((d=>d instanceof File)(o)?o.name:o.toString()),r=encodeURIComponent(u),a[a.length]=r+"="+n)})),a.join(e)},nh=function(t,e){for(var n,r=((t.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),a=0;a<r.length;a++){var o=r[a].split("=");if(o[0]===e){n=o;break}}if(!et(n)||n.length<2)return"";var u=n[1];try{u=decodeURIComponent(u)}catch{de.error("Skipping decoding for malformed query param: "+u)}return u.replace(/\+/g," ")},xc=function(t,e,n){if(!t||!e||!e.length)return t;for(var r=t.split("#"),a=r[0]||"",o=r[1],u=a.split("?"),d=u[1],f=u[0],h=(d||"").split("&"),g=[],v=0;v<h.length;v++){var _=h[v].split("=");et(_)&&(e.includes(_[0])?g.push(_[0]+"="+n):g.push(h[v]))}var b=f;return d!=null&&(b+="?"+g.join("&")),o!=null&&(b+="#"+o),b},rh=function(t,e){var n=t.match(new RegExp(e+"=([^&]*)"));return n?n[1]:null},u1=It("[AutoCapture]");function Lg(t,e){return e.length>t?e.slice(0,t)+"...":e}function x6(t){if(t.previousElementSibling)return t.previousElementSibling;var e=t;do e=e.previousSibling;while(e&&!Mh(e));return e}function R6(t,e,n,r){var a=t.tagName.toLowerCase(),o={tag_name:a};Ey.indexOf(a)>-1&&!n&&(a.toLowerCase()==="a"||a.toLowerCase()==="button"?o.$el_text=Lg(1024,CC(t)):o.$el_text=Lg(1024,Tc(t)));var u=eh(t);u.length>0&&(o.classes=u.filter((function(g){return g!==""}))),ht(t.attributes,(function(g){var v;if((!xC(t)||["name","id","class","aria-label"].indexOf(g.name)!==-1)&&(r==null||!r.includes(g.name))&&!e&&ic(g.value)&&(v=g.name,!Ht(v)||v.substring(0,10)!=="_ngcontent"&&v.substring(0,7)!=="_nghost")){var _=g.value;g.name==="class"&&(_=Sy(_).join(" ")),o["attr__"+g.name]=Lg(1024,_)}}));for(var d=1,f=1,h=t;h=x6(h);)d++,h.tagName===t.tagName&&f++;return o.nth_child=d,o.nth_of_type=f,o}function A6(t,e){for(var n,r,{e:a,maskAllElementAttributes:o,maskAllText:u,elementAttributeIgnoreList:d,elementsChainAsString:f}=e,h=[t],g=t;g.parentNode&&!Rs(g,"body");)yC(g.parentNode)?(h.push(g.parentNode.host),g=g.parentNode.host):(h.push(g.parentNode),g=g.parentNode);var v,_=[],b={},S=!1,w=!1;if(ht(h,(q=>{var ee=Qv(q);q.tagName.toLowerCase()==="a"&&(S=q.getAttribute("href"),S=ee&&S&&ic(S)&&S),Ue(eh(q),"ph-no-capture")&&(w=!0),_.push(R6(q,o,u,d));var Q=(function(O){if(!Qv(O))return{};var z={};return ht(O.attributes,(function(ne){if(ne.name&&ne.name.indexOf("data-ph-capture-attribute")===0){var K=ne.name.replace("data-ph-capture-attribute-",""),te=ne.value;K&&te&&ic(te)&&(z[K]=te)}})),z})(q);Mt(b,Q)})),w)return{props:{},explicitNoCapture:w};if(u||(t.tagName.toLowerCase()==="a"||t.tagName.toLowerCase()==="button"?_[0].$el_text=CC(t):_[0].$el_text=Tc(t)),S){var T,x;_[0].attr__href=S;var I=(T=th(S))==null?void 0:T.host,D=B==null||(x=B.location)==null?void 0:x.host;I&&D&&I!==D&&(v=S)}return{props:Mt({$event_type:a.type,$ce_version:1},f?{}:{$elements:_},{$elements_chain:E6(_)},(n=_[0])!=null&&n.$el_text?{$el_text:(r=_[0])==null?void 0:r.$el_text}:{},v&&a.type==="click"?{$external_click_url:v}:{},b)}}class C6{constructor(e){this.P=!1,this.T=null,this.C=!1,this.instance=e,this.rageclicks=new OC(e.config.rageclick),this.R=null}get I(){var e,n,r=Yt(this.instance.config.autocapture)?this.instance.config.autocapture:{};return r.url_allowlist=(e=r.url_allowlist)==null?void 0:e.map((a=>new RegExp(a))),r.url_ignorelist=(n=r.url_ignorelist)==null?void 0:n.map((a=>new RegExp(a))),r}F(){if(this.isBrowserSupported()){if(B&&ue){var e=r=>{r=r||(B==null?void 0:B.event);try{this.M(r)}catch(a){u1.error("Failed to capture event",a)}};if($t(ue,"submit",e,{capture:!0}),$t(ue,"change",e,{capture:!0}),$t(ue,"click",e,{capture:!0}),this.I.capture_copied_text){var n=r=>{r=r||(B==null?void 0:B.event),this.M(r,Ng)};$t(ue,"copy",n,{capture:!0}),$t(ue,"cut",n,{capture:!0})}}}else u1.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.P&&(this.F(),this.P=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this.C=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[ZT]:!!e.autocapture_opt_out}),this.T=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this.R=e}getElementSelectors(e){var n,r=[];return(n=this.R)==null||n.forEach((a=>{var o=ue==null?void 0:ue.querySelectorAll(a);o==null||o.forEach((u=>{e===u&&r.push(a)}))})),r}get isEnabled(){var e,n,r=(e=this.instance.persistence)==null?void 0:e.props[ZT],a=this.T;if(ti(a)&&!Ni(r)&&!this.instance.O())return!1;var o=(n=this.T)!==null&&n!==void 0?n:!!r;return!!this.instance.config.autocapture&&!o}M(e,n){if(n===void 0&&(n="$autocapture"),this.isEnabled){var r,a=SC(e);_C(a)&&(a=a.parentNode||null),n==="$autocapture"&&e.type==="click"&&e instanceof MouseEvent&&this.instance.config.rageclick&&(r=this.rageclicks)!=null&&r.isRageClick(e.clientX,e.clientY,e.timeStamp||new Date().getTime())&&g6(a,this.instance.config.rageclick)&&this.M(e,"$rageclick");var o=n===Ng;if(a&&v6(a,e,this.I,o,o?["copy","cut"]:void 0)){var{props:u,explicitNoCapture:d}=A6(a,{e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.I.element_attribute_ignorelist,elementsChainAsString:this.C});if(d)return!1;var f=this.getElementSelectors(a);if(f&&f.length>0&&(u.$element_selectors=f),n===Ng){var h,g=bC(B==null||(h=B.getSelection())==null?void 0:h.toString()),v=e.type||"clipboard";if(!g)return!1;u.$selected_content=g,u.$copy_type=v}return this.instance.capture(n,u),!0}}}isBrowserSupported(){return Ts(ue==null?void 0:ue.querySelectorAll)}}Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Number.isInteger||(Number.isInteger=function(t){return Jr(t)&&isFinite(t)&&Math.floor(t)===t});var c1="0123456789abcdef";class ih{constructor(e){if(this.bytes=e,e.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(e,n,r,a){if(!Number.isInteger(e)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(a)||e<0||n<0||r<0||a<0||e>0xffffffffffff||n>4095||r>1073741823||a>4294967295)throw new RangeError("invalid field value");var o=new Uint8Array(16);return o[0]=e/Math.pow(2,40),o[1]=e/Math.pow(2,32),o[2]=e/Math.pow(2,24),o[3]=e/Math.pow(2,16),o[4]=e/Math.pow(2,8),o[5]=e,o[6]=112|n>>>8,o[7]=n,o[8]=128|r>>>24,o[9]=r>>>16,o[10]=r>>>8,o[11]=r,o[12]=a>>>24,o[13]=a>>>16,o[14]=a>>>8,o[15]=a,new ih(o)}toString(){for(var e="",n=0;n<this.bytes.length;n++)e=e+c1.charAt(this.bytes[n]>>>4)+c1.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(e+="-");if(e.length!==36)throw new Error("Invalid UUIDv7 was generated");return e}clone(){return new ih(this.bytes.slice(0))}equals(e){return this.compareTo(e)===0}compareTo(e){for(var n=0;n<16;n++){var r=this.bytes[n]-e.bytes[n];if(r!==0)return Math.sign(r)}return 0}}class k6{constructor(){this.A=0,this.D=0,this.j=new O6}generate(){var e=this.generateOrAbort();if(oe(e)){this.A=0;var n=this.generateOrAbort();if(oe(n))throw new Error("Could not generate UUID after timestamp reset");return n}return e}generateOrAbort(){var e=Date.now();if(e>this.A)this.A=e,this.L();else{if(!(e+1e4>this.A))return;this.D++,this.D>4398046511103&&(this.A++,this.L())}return ih.fromFieldsV7(this.A,Math.trunc(this.D/Math.pow(2,30)),this.D&Math.pow(2,30)-1,this.j.nextUint32())}L(){this.D=1024*this.j.nextUint32()+(1023&this.j.nextUint32())}}var d1,MC=t=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var e=0;e<t.length;e++)t[e]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return t};B&&!oe(B.crypto)&&crypto.getRandomValues&&(MC=t=>crypto.getRandomValues(t));class O6{constructor(){this.N=new Uint32Array(8),this.U=1/0}nextUint32(){return this.U>=this.N.length&&(MC(this.N),this.U=0),this.N[this.U++]}}var Es=()=>M6().toString(),M6=()=>(d1||(d1=new k6)).generate(),Su="",I6=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function D6(t,e){if(e){var n=(function(a,o){if(o===void 0&&(o=ue),Su)return Su;if(!o||["localhost","127.0.0.1"].includes(a))return"";for(var u=a.split("."),d=Math.min(u.length,8),f="dmn_chk_"+Es();!Su&&d--;){var h=u.slice(d).join("."),g=f+"=1;domain=."+h+";path=/";o.cookie=g+";max-age=3",o.cookie.includes(f)&&(o.cookie=g+";max-age=0",Su=h)}return Su})(t);if(!n){var r=(a=>{var o=a.match(I6);return o?o[0]:""})(t);r!==n&&de.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var Kr={H:()=>!!ue,B:function(t){de.error("cookieStore error: "+t)},q:function(t){if(ue){try{for(var e=t+"=",n=ue.cookie.split(";").filter((o=>o.length)),r=0;r<n.length;r++){for(var a=n[r];a.charAt(0)==" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return decodeURIComponent(a.substring(e.length,a.length))}}catch{}return null}},W:function(t){var e;try{e=JSON.parse(Kr.q(t))||{}}catch{}return e},G:function(t,e,n,r,a){if(ue)try{var o="",u="",d=D6(ue.location.hostname,r);if(n){var f=new Date;f.setTime(f.getTime()+24*n*60*60*1e3),o="; expires="+f.toUTCString()}a&&(u="; secure");var h=t+"="+encodeURIComponent(JSON.stringify(e))+o+"; SameSite=Lax; path=/"+d+u;return h.length>3686.4&&de.warn("cookieStore warning: large cookie, len="+h.length),ue.cookie=h,h}catch{return}},V:function(t,e){if(ue!=null&&ue.cookie)try{Kr.G(t,"",-1,e)}catch{return}}},Pg=null,wt={H:function(){if(!ti(Pg))return Pg;var t=!0;if(oe(B))t=!1;else try{var e="__mplssupport__";wt.G(e,"xyz"),wt.q(e)!=='"xyz"'&&(t=!1),wt.V(e)}catch{t=!1}return t||de.error("localStorage unsupported; falling back to cookie store"),Pg=t,t},B:function(t){de.error("localStorage error: "+t)},q:function(t){try{return B==null?void 0:B.localStorage.getItem(t)}catch(e){wt.B(e)}return null},W:function(t){try{return JSON.parse(wt.q(t))||{}}catch{}return null},G:function(t,e){try{B==null||B.localStorage.setItem(t,JSON.stringify(e))}catch(n){wt.B(n)}},V:function(t){try{B==null||B.localStorage.removeItem(t)}catch(e){wt.B(e)}}},N6=["distinct_id",Wf,gC,Zf,Qf],of=he({},wt,{W:function(t){try{var e={};try{e=Kr.W(t)||{}}catch{}var n=Mt(e,JSON.parse(wt.q(t)||"{}"));return wt.G(t,n),n}catch{}return null},G:function(t,e,n,r,a,o){try{wt.G(t,e,void 0,void 0,o);var u={};N6.forEach((d=>{e[d]&&(u[d]=e[d])})),Object.keys(u).length&&Kr.G(t,u,n,r,a,o)}catch(d){wt.B(d)}},V:function(t,e){try{B==null||B.localStorage.removeItem(t),Kr.V(t,e)}catch(n){wt.B(n)}}}),lf={},L6={H:function(){return!0},B:function(t){de.error("memoryStorage error: "+t)},q:function(t){return lf[t]||null},W:function(t){return lf[t]||null},G:function(t,e){lf[t]=e},V:function(t){delete lf[t]}},ra=null,tn={H:function(){if(!ti(ra))return ra;if(ra=!0,oe(B))ra=!1;else try{var t="__support__";tn.G(t,"xyz"),tn.q(t)!=='"xyz"'&&(ra=!1),tn.V(t)}catch{ra=!1}return ra},B:function(t){de.error("sessionStorage error: ",t)},q:function(t){try{return B==null?void 0:B.sessionStorage.getItem(t)}catch(e){tn.B(e)}return null},W:function(t){try{return JSON.parse(tn.q(t))||null}catch{}return null},G:function(t,e){try{B==null||B.sessionStorage.setItem(t,JSON.stringify(e))}catch(n){tn.B(n)}},V:function(t){try{B==null||B.sessionStorage.removeItem(t)}catch(e){tn.B(e)}}},Ai=(function(t){return t[t.PENDING=-1]="PENDING",t[t.DENIED=0]="DENIED",t[t.GRANTED=1]="GRANTED",t})({});class P6{constructor(e){this._instance=e}get I(){return this._instance.config}get consent(){return this.J()?Ai.DENIED:this.K}isOptedOut(){return this.I.cookieless_mode==="always"||this.consent===Ai.DENIED||this.consent===Ai.PENDING&&(this.I.opt_out_capturing_by_default||this.I.cookieless_mode==="on_reject")}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===Ai.DENIED}optInOut(e){this.Y.G(this.X,e?1:0,this.I.cookie_expiration,this.I.cross_subdomain_cookie,this.I.secure_cookie)}reset(){this.Y.V(this.X,this.I.cross_subdomain_cookie)}get X(){var{token:e,opt_out_capturing_cookie_prefix:n,consent_persistence_name:r}=this._instance.config;return r||(n?n+e:"__ph_opt_in_out_"+e)}get K(){var e=this.Y.q(this.X);return Mg(e)?Ai.GRANTED:Ue(j4,e)?Ai.DENIED:Ai.PENDING}get Y(){if(!this.Z){var e=this.I.opt_out_capturing_persistence_type;this.Z=e==="localStorage"?wt:Kr;var n=e==="localStorage"?Kr:wt;n.q(this.X)&&(this.Z.q(this.X)||this.optInOut(Mg(n.q(this.X))),n.V(this.X,this.I.cross_subdomain_cookie))}return this.Z}J(){return!!this.I.respect_dnt&&!!hC([Wn==null?void 0:Wn.doNotTrack,Wn==null?void 0:Wn.msDoNotTrack,Se.doNotTrack],(e=>Mg(e)))}}var uf=It("[Dead Clicks]"),U6=()=>!0,$6=t=>{var e,n=!((e=t.instance.persistence)==null||!e.get_property(mC)),r=t.instance.config.capture_dead_clicks;return Ni(r)?r:!!Yt(r)||n};class IC{get lazyLoadedDeadClicksAutocapture(){return this.tt}constructor(e,n,r){this.instance=e,this.isEnabled=n,this.onCapture=r,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[mC]:e==null?void 0:e.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.it((()=>{this.et()}))}it(e){var n,r;(n=Se.__PosthogExtensions__)!=null&&n.initDeadClicksAutocapture&&e(),(r=Se.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this.instance,"dead-clicks-autocapture",(a=>{a?uf.error("failed to load script",a):e()}))}et(){var e;if(ue){if(!this.tt&&(e=Se.__PosthogExtensions__)!=null&&e.initDeadClicksAutocapture){var n=Yt(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};n.__onCapture=this.onCapture,this.tt=Se.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,n),this.tt.start(ue),uf.info("starting...")}}else uf.error("`document` not found. Cannot start.")}stop(){this.tt&&(this.tt.stop(),this.tt=void 0,uf.info("stopping..."))}}var Eu=It("[ExceptionAutocapture]");class z6{constructor(e){var n,r,a;this.rt=()=>{var o;if(B&&this.isEnabled&&(o=Se.__PosthogExtensions__)!=null&&o.errorWrappingFunctions){var u=Se.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,d=Se.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,f=Se.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.st&&this.I.capture_unhandled_errors&&(this.st=u(this.captureException.bind(this))),!this.nt&&this.I.capture_unhandled_rejections&&(this.nt=d(this.captureException.bind(this))),!this.ot&&this.I.capture_console_errors&&(this.ot=f(this.captureException.bind(this)))}catch(h){Eu.error("failed to start",h),this.lt()}}},this._instance=e,this.ut=!((n=this._instance.persistence)==null||!n.props[e1]),this.I=this.ht(),this.dt=new H4({refillRate:(r=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&r!==void 0?r:1,bucketSize:(a=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&a!==void 0?a:10,refillInterval:1e4,h:Eu}),this.startIfEnabled()}ht(){var e=this._instance.config.capture_exceptions,n={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return Yt(e)?n=he({},n,e):(oe(e)?this.ut:e)&&(n=he({},n,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),n}get isEnabled(){return this.I.capture_console_errors||this.I.capture_unhandled_errors||this.I.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(Eu.info("enabled"),this.it(this.rt))}it(e){var n,r;(n=Se.__PosthogExtensions__)!=null&&n.errorWrappingFunctions&&e(),(r=Se.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"exception-autocapture",(a=>{if(a)return Eu.error("failed to load script",a);e()}))}lt(){var e,n,r;(e=this.st)==null||e.call(this),this.st=void 0,(n=this.nt)==null||n.call(this),this.nt=void 0,(r=this.ot)==null||r.call(this),this.ot=void 0}onRemoteConfig(e){var n=e.autocaptureExceptions;this.ut=!!n||!1,this.I=this.ht(),this._instance.persistence&&this._instance.persistence.register({[e1]:this.ut}),this.startIfEnabled()}captureException(e){var n,r,a=(n=e==null||(r=e.$exception_list)==null||(r=r[0])==null?void 0:r.type)!==null&&n!==void 0?n:"Exception";this.dt.consumeRateLimit(a)?Eu.info("Skipping exception capture because of client rate limiting.",{exception:a}):this._instance.exceptions.sendExceptionEvent(e)}}function f1(t,e,n){try{if(!(e in t))return()=>{};var r=t[e],a=n(r);return Ts(a)&&(a.prototype=a.prototype||{},Object.defineProperties(a,{__posthog_wrapped__:{enumerable:!1,value:!0}})),t[e]=a,()=>{t[e]=r}}catch{return()=>{}}}class j6{constructor(e){var n;this._instance=e,this.vt=(B==null||(n=B.location)==null?void 0:n.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(de.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.ct&&this.ct(),this.ct=void 0,de.info("History API monitoring stopped")}monitorHistoryChanges(){var e,n;if(B&&B.history){var r=this;(e=B.history.pushState)!=null&&e.__posthog_wrapped__||f1(B.history,"pushState",(a=>function(o,u,d){a.call(this,o,u,d),r.ft("pushState")})),(n=B.history.replaceState)!=null&&n.__posthog_wrapped__||f1(B.history,"replaceState",(a=>function(o,u,d){a.call(this,o,u,d),r.ft("replaceState")})),this.gt()}}ft(e){try{var n,r=B==null||(n=B.location)==null?void 0:n.pathname;if(!r)return;r!==this.vt&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:e}),this.vt=r}catch(a){de.error("Error capturing "+e+" pageview",a)}}gt(){if(!this.ct){var e=()=>{this.ft("popstate")};$t(B,"popstate",e),this.ct=()=>{B&&B.removeEventListener("popstate",e)}}}}var Ug=It("[SegmentIntegration]");function H6(t,e){var n=t.config.segment;if(!n)return e();(function(r,a){var o=r.config.segment;if(!o)return a();var u=f=>{var h=()=>f.anonymousId()||Es();r.config.get_device_id=h,f.id()&&(r.register({distinct_id:f.id(),$device_id:h()}),r.persistence.set_property(Ri,"identified")),a()},d=o.user();"then"in d&&Ts(d.then)?d.then((f=>u(f))):u(d)})(t,(()=>{n.register((r=>{Promise&&Promise.resolve||Ug.warn("This browser does not have Promise support, and can not use the segment integration");var a=(o,u)=>{if(!u)return o;o.event.userId||o.event.anonymousId===r.get_distinct_id()||(Ug.info("No userId set, resetting PostHog"),r.reset()),o.event.userId&&o.event.userId!==r.get_distinct_id()&&(Ug.info("UserId set, identifying with PostHog"),r.identify(o.event.userId));var d=r.calculateEventProperties(u,o.event.properties);return o.event.properties=Object.assign({},d,o.event.properties),o};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:o=>a(o,o.event.event),page:o=>a(o,"$pageview"),identify:o=>a(o,"$identify"),screen:o=>a(o,"$screen")}})(t)).then((()=>{e()}))}))}var DC="posthog-js";function NC(t,e){var{organization:n,projectId:r,prefix:a,severityAllowList:o=["error"],sendExceptionsToPostHog:u=!0}=e===void 0?{}:e;return d=>{var f,h,g,v,_;if(!(o==="*"||o.includes(d.level))||!t.__loaded)return d;d.tags||(d.tags={});var b=t.requestRouter.endpointFor("ui","/project/"+t.config.token+"/person/"+t.get_distinct_id());d.tags["PostHog Person URL"]=b,t.sessionRecordingStarted()&&(d.tags["PostHog Recording URL"]=t.get_session_replay_url({withTimestamp:!0}));var S=((f=d.exception)==null?void 0:f.values)||[],w=S.map((x=>he({},x,{stacktrace:x.stacktrace?he({},x.stacktrace,{type:"raw",frames:(x.stacktrace.frames||[]).map((I=>he({},I,{platform:"web:javascript"})))}):void 0}))),T={$exception_message:((h=S[0])==null?void 0:h.value)||d.message,$exception_type:(g=S[0])==null?void 0:g.type,$exception_level:d.level,$exception_list:w,$sentry_event_id:d.event_id,$sentry_exception:d.exception,$sentry_exception_message:((v=S[0])==null?void 0:v.value)||d.message,$sentry_exception_type:(_=S[0])==null?void 0:_.type,$sentry_tags:d.tags};return n&&r&&(T.$sentry_url=(a||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+d.event_id),u&&t.exceptions.sendExceptionEvent(T),d}}class B6{constructor(e,n,r,a,o,u){this.name=DC,this.setupOnce=function(d){d(NC(e,{organization:n,projectId:r,prefix:a,severityAllowList:o,sendExceptionsToPostHog:u==null||u}))}}}var F6=B!=null&&B.location?rh(B.location.hash,"__posthog")||rh(location.hash,"state"):null,h1="_postHogToolbarParams",p1=It("[Toolbar]"),vs=(function(t){return t[t.UNINITIALIZED=0]="UNINITIALIZED",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t})(vs||{});class q6{constructor(e){this.instance=e}_t(e){Se.ph_toolbar_state=e}yt(){var e;return(e=Se.ph_toolbar_state)!==null&&e!==void 0?e:vs.UNINITIALIZED}maybeLoadToolbar(e,n,r){if(e===void 0&&(e=void 0),n===void 0&&(n=void 0),r===void 0&&(r=void 0),!B||!ue)return!1;e=e??B.location,r=r??B.history;try{if(!n){try{B.localStorage.setItem("test","test"),B.localStorage.removeItem("test")}catch{return!1}n=B==null?void 0:B.localStorage}var a,o=F6||rh(e.hash,"__posthog")||rh(e.hash,"state"),u=o?QT((()=>JSON.parse(atob(decodeURIComponent(o)))))||QT((()=>JSON.parse(decodeURIComponent(o)))):null;return u&&u.action==="ph_authorize"?((a=u).source="url",a&&Object.keys(a).length>0&&(u.desiredHash?e.hash=u.desiredHash:r?r.replaceState(r.state,"",e.pathname+e.search):e.hash="")):((a=JSON.parse(n.getItem(h1)||"{}")).source="localstorage",delete a.userIntent),!(!a.token||this.instance.config.token!==a.token)&&(this.loadToolbar(a),!0)}catch{return!1}}bt(e){var n=Se.ph_load_toolbar||Se.ph_load_editor;!Ze(n)&&Ts(n)?n(e,this.instance):p1.warn("No toolbar load function found")}loadToolbar(e){var n=!(ue==null||!ue.getElementById(vC));if(!B||n)return!1;var r=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,a=he({token:this.instance.config.token},e,{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(B.localStorage.setItem(h1,JSON.stringify(he({},a,{source:void 0}))),this.yt()===vs.LOADED)this.bt(a);else if(this.yt()===vs.UNINITIALIZED){var o;this._t(vs.LOADING),(o=Se.__PosthogExtensions__)==null||o.loadExternalDependency==null||o.loadExternalDependency(this.instance,"toolbar",(u=>{if(u)return p1.error("[Toolbar] Failed to load",u),void this._t(vs.UNINITIALIZED);this._t(vs.LOADED),this.bt(a)})),$t(B,"turbolinks:load",(()=>{this._t(vs.UNINITIALIZED),this.loadToolbar(a)}))}return!0}wt(e){return this.loadToolbar(e)}maybeLoadEditor(e,n,r){return e===void 0&&(e=void 0),n===void 0&&(n=void 0),r===void 0&&(r=void 0),this.maybeLoadToolbar(e,n,r)}}var G6=It("[TracingHeaders]");class Y6{constructor(e){this.xt=void 0,this.Et=void 0,this.rt=()=>{var n,r;oe(this.xt)&&((n=Se.__PosthogExtensions__)==null||(n=n.tracingHeadersPatchFns)==null||n._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),oe(this.Et)&&((r=Se.__PosthogExtensions__)==null||(r=r.tracingHeadersPatchFns)==null||r._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=e}it(e){var n,r;(n=Se.__PosthogExtensions__)!=null&&n.tracingHeadersPatchFns&&e(),(r=Se.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"tracing-headers",(a=>{if(a)return G6.error("failed to load script",a);e()}))}startIfEnabledOrStop(){var e,n;this._instance.config.__add_tracing_headers?this.it(this.rt):((e=this.xt)==null||e.call(this),(n=this.Et)==null||n.call(this),this.xt=void 0,this.Et=void 0)}}var mr="Mobile",sh="iOS",Xr="Android",sc="Tablet",LC=Xr+" "+sc,PC="iPad",UC="Apple",$C=UC+" Watch",ac="Safari",nl="BlackBerry",zC="Samsung",jC=zC+"Browser",HC=zC+" Internet",wa="Chrome",V6=wa+" OS",BC=wa+" "+sh,Ty="Internet Explorer",FC=Ty+" "+mr,xy="Opera",X6=xy+" Mini",Ry="Edge",qC="Microsoft "+Ry,Fo="Firefox",GC=Fo+" "+sh,oc="Nintendo",lc="PlayStation",qo="Xbox",YC=Xr+" "+mr,VC=mr+" "+ac,Pu="Windows",Zv=Pu+" Phone",m1="Nokia",e_="Ouya",XC="Generic",K6=XC+" "+mr.toLowerCase(),KC=XC+" "+sc.toLowerCase(),t_="Konqueror",gn="(\\d+(\\.\\d+)?)",$g=new RegExp("Version/"+gn),W6=new RegExp(qo,"i"),J6=new RegExp(lc+" \\w+","i"),Q6=new RegExp(oc+" \\w+","i"),Ay=new RegExp(nl+"|PlayBook|BB10","i"),Z6={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},e8=(t,e)=>e&&Ue(e,UC)||(function(n){return Ue(n,ac)&&!Ue(n,wa)&&!Ue(n,Xr)})(t),WC=function(t,e){return e=e||"",Ue(t," OPR/")&&Ue(t,"Mini")?X6:Ue(t," OPR/")?xy:Ay.test(t)?nl:Ue(t,"IE"+mr)||Ue(t,"WPDesktop")?FC:Ue(t,jC)?HC:Ue(t,Ry)||Ue(t,"Edg/")?qC:Ue(t,"FBIOS")?"Facebook "+mr:Ue(t,"UCWEB")||Ue(t,"UCBrowser")?"UC Browser":Ue(t,"CriOS")?BC:Ue(t,"CrMo")||Ue(t,wa)?wa:Ue(t,Xr)&&Ue(t,ac)?YC:Ue(t,"FxiOS")?GC:Ue(t.toLowerCase(),t_.toLowerCase())?t_:e8(t,e)?Ue(t,mr)?VC:ac:Ue(t,Fo)?Fo:Ue(t,"MSIE")||Ue(t,"Trident/")?Ty:Ue(t,"Gecko")?Fo:""},t8={[FC]:[new RegExp("rv:"+gn)],[qC]:[new RegExp(Ry+"?\\/"+gn)],[wa]:[new RegExp("("+wa+"|CrMo)\\/"+gn)],[BC]:[new RegExp("CriOS\\/"+gn)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+gn)],[ac]:[$g],[VC]:[$g],[xy]:[new RegExp("(Opera|OPR)\\/"+gn)],[Fo]:[new RegExp(Fo+"\\/"+gn)],[GC]:[new RegExp("FxiOS\\/"+gn)],[t_]:[new RegExp("Konqueror[:/]?"+gn,"i")],[nl]:[new RegExp(nl+" "+gn),$g],[YC]:[new RegExp("android\\s"+gn,"i")],[HC]:[new RegExp(jC+"\\/"+gn)],[Ty]:[new RegExp("(rv:|MSIE )"+gn)],Mozilla:[new RegExp("rv:"+gn)]},n8=function(t,e){var n=WC(t,e),r=t8[n];if(oe(r))return null;for(var a=0;a<r.length;a++){var o=r[a],u=t.match(o);if(u)return parseFloat(u[u.length-2])}return null},g1=[[new RegExp(qo+"; "+qo+" (.*?)[);]","i"),t=>[qo,t&&t[1]||""]],[new RegExp(oc,"i"),[oc,""]],[new RegExp(lc,"i"),[lc,""]],[Ay,[nl,""]],[new RegExp(Pu,"i"),(t,e)=>{if(/Phone/.test(e)||/WPDesktop/.test(e))return[Zv,""];if(new RegExp(mr).test(e)&&!/IEMobile\b/.test(e))return[Pu+" "+mr,""];var n=/Windows NT ([0-9.]+)/i.exec(e);if(n&&n[1]){var r=n[1],a=Z6[r]||"";return/arm/i.test(e)&&(a="RT"),[Pu,a]}return[Pu,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,t=>{if(t&&t[3]){var e=[t[3],t[4],t[5]||"0"];return[sh,e.join(".")]}return[sh,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,t=>{var e="";return t&&t.length>=3&&(e=oe(t[2])?t[3]:t[2]),["watchOS",e]}],[new RegExp("("+Xr+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Xr+")","i"),t=>{if(t&&t[2]){var e=[t[2],t[3],t[4]||"0"];return[Xr,e.join(".")]}return[Xr,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,t=>{var e=["Mac OS X",""];if(t&&t[1]){var n=[t[1],t[2],t[3]||"0"];e[1]=n.join(".")}return e}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[V6,""]],[/Linux|debian/i,["Linux",""]]],v1=function(t){return Q6.test(t)?oc:J6.test(t)?lc:W6.test(t)?qo:new RegExp(e_,"i").test(t)?e_:new RegExp("("+Zv+"|WPDesktop)","i").test(t)?Zv:/iPad/.test(t)?PC:/iPod/.test(t)?"iPod Touch":/iPhone/.test(t)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(t)?$C:Ay.test(t)?nl:/(kobo)\s(ereader|touch)/i.test(t)?"Kobo":new RegExp(m1,"i").test(t)?m1:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(t)||/(kf[a-z]+)( bui|\)).+silk\//i.test(t)?"Kindle Fire":/(Android|ZTE)/i.test(t)?!new RegExp(mr).test(t)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(t)?/pixel[\daxl ]{1,6}/i.test(t)&&!/pixel c/i.test(t)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(t)||/lmy47v/i.test(t)&&!/QTAQZ3/i.test(t)?Xr:LC:Xr:new RegExp("(pda|"+mr+")","i").test(t)?K6:new RegExp(sc,"i").test(t)&&!new RegExp(sc+" pc","i").test(t)?KC:""},cf="https?://(.*)",Sl=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],r8=bl(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],Sl),Rc="<masked>",i8=["li_fat_id"];function JC(t,e,n){if(!ue)return{};var r,a=e?bl([],Sl,n||[]):[],o=QC(xc(ue.URL,a,Rc),t),u=(r={},ht(i8,(function(d){var f=Kr.q(d);r[d]=f||null})),r);return Mt(u,o)}function QC(t,e){var n=r8.concat(e||[]),r={};return ht(n,(function(a){var o=nh(t,a);r[a]=o||null})),r}function ZC(t){var e=(function(o){return o?o.search(cf+"google.([^/?]*)")===0?"google":o.search(cf+"bing.com")===0?"bing":o.search(cf+"yahoo.com")===0?"yahoo":o.search(cf+"duckduckgo.com")===0?"duckduckgo":null:null})(t),n=e!="yahoo"?"q":"p",r={};if(!ti(e)){r.$search_engine=e;var a=ue?nh(ue.referrer,n):"";a.length&&(r.ph_keyword=a)}return r}function _1(){return navigator.language||navigator.userLanguage}function ek(){return(ue==null?void 0:ue.referrer)||"$direct"}function tk(t,e){var n=t?bl([],Sl,e||[]):[],r=Ln==null?void 0:Ln.href.substring(0,1e3);return{r:ek().substring(0,1e3),u:r?xc(r,n,Rc):void 0}}function nk(t){var e,{r:n,u:r}=t,a={$referrer:n,$referring_domain:n==null?void 0:n=="$direct"?"$direct":(e=th(n))==null?void 0:e.host};if(r){a.$current_url=r;var o=th(r);a.$host=o==null?void 0:o.host,a.$pathname=o==null?void 0:o.pathname;var u=QC(r);Mt(a,u)}if(n){var d=ZC(n);Mt(a,d)}return a}function rk(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function s8(){try{return new Date().getTimezoneOffset()}catch{return}}function a8(t,e){if(!Nn)return{};var n,r,a,o=t?bl([],Sl,e||[]):[],[u,d]=(function(f){for(var h=0;h<g1.length;h++){var[g,v]=g1[h],_=g.exec(f),b=_&&(Ts(v)?v(_,f):v);if(b)return b}return["",""]})(Nn);return Mt(by({$os:u,$os_version:d,$browser:WC(Nn,navigator.vendor),$device:v1(Nn),$device_type:(r=Nn,a=v1(r),a===PC||a===LC||a==="Kobo"||a==="Kindle Fire"||a===KC?sc:a===oc||a===qo||a===lc||a===e_?"Console":a===$C?"Wearable":a?mr:"Desktop"),$timezone:rk(),$timezone_offset:s8()}),{$current_url:xc(Ln==null?void 0:Ln.href,o,Rc),$host:Ln==null?void 0:Ln.host,$pathname:Ln==null?void 0:Ln.pathname,$raw_user_agent:Nn.length>1e3?Nn.substring(0,997)+"...":Nn,$browser_version:n8(Nn,navigator.vendor),$browser_language:_1(),$browser_language_prefix:(n=_1(),typeof n=="string"?n.split("-")[0]:void 0),$screen_height:B==null?void 0:B.screen.height,$screen_width:B==null?void 0:B.screen.width,$viewport_height:B==null?void 0:B.innerHeight,$viewport_width:B==null?void 0:B.innerWidth,$lib:"web",$lib_version:xi.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var ps=It("[Web Vitals]"),y1=9e5;class o8{constructor(e){var n;this.St=!1,this.P=!1,this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.$t=()=>{clearTimeout(this.kt),this.N.metrics.length!==0&&(this._instance.capture("$web_vitals",this.N.metrics.reduce(((r,a)=>he({},r,{["$web_vitals_"+a.name+"_event"]:he({},a),["$web_vitals_"+a.name+"_value"]:a.value})),{})),this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Pt=r=>{var a,o=(a=this._instance.sessionManager)==null?void 0:a.checkAndGetSessionAndWindowId(!0);if(oe(o))ps.error("Could not read session ID. Dropping metrics!");else{this.N=this.N||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var u=this.Tt();oe(u)||(Ze(r==null?void 0:r.name)||Ze(r==null?void 0:r.value)?ps.error("Invalid metric received",r):this.Ct&&r.value>=this.Ct?ps.error("Ignoring metric with value >= "+this.Ct,r):(this.N.url!==u&&(this.$t(),this.kt=setTimeout(this.$t,this.flushToCaptureTimeoutMs)),oe(this.N.url)&&(this.N.url=u),this.N.firstMetricTimestamp=oe(this.N.firstMetricTimestamp)?Date.now():this.N.firstMetricTimestamp,r.attribution&&r.attribution.interactionTargetElement&&(r.attribution.interactionTargetElement=void 0),this.N.metrics.push(he({},r,{$current_url:u,$session_id:o.sessionId,$window_id:o.windowId,timestamp:Date.now()})),this.N.metrics.length===this.allowedMetrics.length&&this.$t()))}},this.rt=()=>{var r,a,o,u,d=Se.__PosthogExtensions__;oe(d)||oe(d.postHogWebVitalsCallbacks)||({onLCP:r,onCLS:a,onFCP:o,onINP:u}=d.postHogWebVitalsCallbacks),r&&a&&o&&u?(this.allowedMetrics.indexOf("LCP")>-1&&r(this.Pt.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&a(this.Pt.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&o(this.Pt.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&u(this.Pt.bind(this)),this.P=!0):ps.error("web vitals callbacks not loaded - not starting")},this._instance=e,this.St=!((n=this._instance.persistence)==null||!n.props[n1]),this.startIfEnabled()}get allowedMetrics(){var e,n,r=Yt(this._instance.config.capture_performance)?(e=this._instance.config.capture_performance)==null?void 0:e.web_vitals_allowed_metrics:void 0;return oe(r)?((n=this._instance.persistence)==null?void 0:n.props[r1])||["CLS","FCP","INP","LCP"]:r}get flushToCaptureTimeoutMs(){return(Yt(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get Ct(){var e=Yt(this._instance.config.capture_performance)&&Jr(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:y1;return 0<e&&e<=6e4?y1:e}get isEnabled(){var e=Ln==null?void 0:Ln.protocol;if(e!=="http:"&&e!=="https:")return ps.info("Web Vitals are disabled on non-http/https protocols"),!1;var n=Yt(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:Ni(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return Ni(n)?n:this.St}startIfEnabled(){this.isEnabled&&!this.P&&(ps.info("enabled, starting..."),this.it(this.rt))}onRemoteConfig(e){var n=Yt(e.capturePerformance)&&!!e.capturePerformance.web_vitals,r=Yt(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[n1]:n}),this._instance.persistence.register({[r1]:r})),this.St=n,this.startIfEnabled()}it(e){var n,r;(n=Se.__PosthogExtensions__)!=null&&n.postHogWebVitalsCallbacks&&e(),(r=Se.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"web-vitals",(a=>{a?ps.error("failed to load script",a):e()}))}Tt(){var e=B?B.location.href:void 0;if(e){var n=this._instance.config.mask_personal_data_properties,r=this._instance.config.custom_personal_data_properties,a=n?bl([],Sl,r||[]):[];return xc(e,a,Rc)}ps.error("Could not determine current URL")}}var l8=It("[Heatmaps]");function b1(t){return Yt(t)&&"clientX"in t&&"clientY"in t&&Jr(t.clientX)&&Jr(t.clientY)}class u8{constructor(e){var n;this.St=!1,this.P=!1,this.Rt=null,this.instance=e,this.St=!((n=this.instance.persistence)==null||!n.props[qv]),this.rageclicks=new OC(e.config.rageclick)}get flushIntervalMilliseconds(){var e=5e3;return Yt(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return oe(this.instance.config.capture_heatmaps)?oe(this.instance.config.enable_heatmaps)?this.St:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.P)return;l8.info("starting..."),this.It(),this.Ft()}else{var e;clearInterval((e=this.Rt)!==null&&e!==void 0?e:void 0),this.Mt(),this.getAndClearBuffer()}}onRemoteConfig(e){var n=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[qv]:n}),this.St=n,this.startIfEnabled()}getAndClearBuffer(){var e=this.N;return this.N=void 0,e}Ot(e){this.At(e.originalEvent,"deadclick")}Ft(){this.Rt&&clearInterval(this.Rt),this.Rt=(function(e){return(e==null?void 0:e.visibilityState)==="visible"})(ue)?setInterval(this.Dt.bind(this),this.flushIntervalMilliseconds):null}It(){B&&ue&&(this.jt=this.Dt.bind(this),$t(B,"beforeunload",this.jt),this.Lt=e=>this.At(e||(B==null?void 0:B.event)),$t(ue,"click",this.Lt,{capture:!0}),this.Nt=e=>this.Ut(e||(B==null?void 0:B.event)),$t(ue,"mousemove",this.Nt,{capture:!0}),this.zt=new IC(this.instance,U6,this.Ot.bind(this)),this.zt.startIfEnabled(),this.Ht=this.Ft.bind(this),$t(ue,"visibilitychange",this.Ht),this.P=!0)}Mt(){var e;B&&ue&&(this.jt&&B.removeEventListener("beforeunload",this.jt),this.Lt&&ue.removeEventListener("click",this.Lt,{capture:!0}),this.Nt&&ue.removeEventListener("mousemove",this.Nt,{capture:!0}),this.Ht&&ue.removeEventListener("visibilitychange",this.Ht),clearTimeout(this.Bt),(e=this.zt)==null||e.stop(),this.P=!1)}qt(e,n){var r=this.instance.scrollManager.scrollY(),a=this.instance.scrollManager.scrollX(),o=this.instance.scrollManager.scrollElement(),u=(function(d,f,h){for(var g=d;g&&Mh(g)&&!Rs(g,"body");){if(g===h)return!1;if(Ue(f,B==null?void 0:B.getComputedStyle(g).position))return!0;g=wC(g)}return!1})(SC(e),["fixed","sticky"],o);return{x:e.clientX+(u?0:a),y:e.clientY+(u?0:r),target_fixed:u,type:n}}At(e,n){var r;if(n===void 0&&(n="click"),!i1(e.target)&&b1(e)){var a=this.qt(e,n);(r=this.rageclicks)!=null&&r.isRageClick(e.clientX,e.clientY,new Date().getTime())&&this.Wt(he({},a,{type:"rageclick"})),this.Wt(a)}}Ut(e){!i1(e.target)&&b1(e)&&(clearTimeout(this.Bt),this.Bt=setTimeout((()=>{this.Wt(this.qt(e,"mousemove"))}),500))}Wt(e){if(B){var n=B.location.href,r=this.instance.config.mask_personal_data_properties,a=this.instance.config.custom_personal_data_properties,o=r?bl([],Sl,a||[]):[],u=xc(n,o,Rc);this.N=this.N||{},this.N[u]||(this.N[u]=[]),this.N[u].push(e)}}Dt(){this.N&&!Uo(this.N)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class c8{constructor(e){this._instance=e}doPageView(e,n){var r,a=this.Gt(e,n);return this.Vt={pathname:(r=B==null?void 0:B.location.pathname)!==null&&r!==void 0?r:"",pageViewId:n,timestamp:e},this._instance.scrollManager.resetContext(),a}doPageLeave(e){var n;return this.Gt(e,(n=this.Vt)==null?void 0:n.pageViewId)}doEvent(){var e;return{$pageview_id:(e=this.Vt)==null?void 0:e.pageViewId}}Gt(e,n){var r=this.Vt;if(!r)return{$pageview_id:n};var a={$pageview_id:n,$prev_pageview_id:r.pageViewId},o=this._instance.scrollManager.getContext();if(o&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:u,lastScrollY:d,maxScrollY:f,maxContentHeight:h,lastContentY:g,maxContentY:v}=o;if(!(oe(u)||oe(d)||oe(f)||oe(h)||oe(g)||oe(v))){u=Math.ceil(u),d=Math.ceil(d),f=Math.ceil(f),h=Math.ceil(h),g=Math.ceil(g),v=Math.ceil(v);var _=u<=1?1:Vr(d/u,0,1,de),b=u<=1?1:Vr(f/u,0,1,de),S=h<=1?1:Vr(g/h,0,1,de),w=h<=1?1:Vr(v/h,0,1,de);a=Mt(a,{$prev_pageview_last_scroll:d,$prev_pageview_last_scroll_percentage:_,$prev_pageview_max_scroll:f,$prev_pageview_max_scroll_percentage:b,$prev_pageview_last_content:g,$prev_pageview_last_content_percentage:S,$prev_pageview_max_content:v,$prev_pageview_max_content_percentage:w})}}return r.pathname&&(a.$prev_pageview_pathname=r.pathname),r.timestamp&&(a.$prev_pageview_duration=(e.getTime()-r.timestamp.getTime())/1e3),a}}var gr=Uint8Array,Un=Uint16Array,rl=Uint32Array,Cy=new gr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ky=new gr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),S1=new gr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ik=function(t,e){for(var n=new Un(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];var a=new rl(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)a[o]=o-n[r]<<5|r;return[n,a]},sk=ik(Cy,2),d8=sk[0],n_=sk[1];d8[28]=258,n_[258]=28;for(var E1=ik(ky,0)[1],ak=new Un(32768),vt=0;vt<32768;++vt){var ia=(43690&vt)>>>1|(21845&vt)<<1;ia=(61680&(ia=(52428&ia)>>>2|(13107&ia)<<2))>>>4|(3855&ia)<<4,ak[vt]=((65280&ia)>>>8|(255&ia)<<8)>>>1}var Gu=function(t,e,n){for(var r=t.length,a=0,o=new Un(e);a<r;++a)++o[t[a]-1];var u,d=new Un(e);for(a=0;a<e;++a)d[a]=d[a-1]+o[a-1]<<1;for(u=new Un(r),a=0;a<r;++a)u[a]=ak[d[t[a]-1]++]>>>15-t[a];return u},Ta=new gr(288);for(vt=0;vt<144;++vt)Ta[vt]=8;for(vt=144;vt<256;++vt)Ta[vt]=9;for(vt=256;vt<280;++vt)Ta[vt]=7;for(vt=280;vt<288;++vt)Ta[vt]=8;var ah=new gr(32);for(vt=0;vt<32;++vt)ah[vt]=5;var f8=Gu(Ta,9),h8=Gu(ah,5),ok=function(t){return(t/8>>0)+(7&t&&1)},lk=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof Un?Un:t instanceof rl?rl:gr)(n-e);return r.set(t.subarray(e,n)),r},wi=function(t,e,n){n<<=7&e;var r=e/8>>0;t[r]|=n,t[r+1]|=n>>>8},wu=function(t,e,n){n<<=7&e;var r=e/8>>0;t[r]|=n,t[r+1]|=n>>>8,t[r+2]|=n>>>16},zg=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var a=n.length,o=n.slice();if(!a)return[new gr(0),0];if(a==1){var u=new gr(n[0].s+1);return u[n[0].s]=1,[u,1]}n.sort((function(ee,Q){return ee.f-Q.f})),n.push({s:-1,f:25001});var d=n[0],f=n[1],h=0,g=1,v=2;for(n[0]={s:-1,f:d.f+f.f,l:d,r:f};g!=a-1;)d=n[n[h].f<n[v].f?h++:v++],f=n[h!=g&&n[h].f<n[v].f?h++:v++],n[g++]={s:-1,f:d.f+f.f,l:d,r:f};var _=o[0].s;for(r=1;r<a;++r)o[r].s>_&&(_=o[r].s);var b=new Un(_+1),S=r_(n[g-1],b,0);if(S>e){r=0;var w=0,T=S-e,x=1<<T;for(o.sort((function(ee,Q){return b[Q.s]-b[ee.s]||ee.f-Q.f}));r<a;++r){var I=o[r].s;if(!(b[I]>e))break;w+=x-(1<<S-b[I]),b[I]=e}for(w>>>=T;w>0;){var D=o[r].s;b[D]<e?w-=1<<e-b[D]++-1:++r}for(;r>=0&&w;--r){var q=o[r].s;b[q]==e&&(--b[q],++w)}S=e}return[new gr(b),S]},r_=function(t,e,n){return t.s==-1?Math.max(r_(t.l,e,n+1),r_(t.r,e,n+1)):e[t.s]=n},w1=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Un(++e),r=0,a=t[0],o=1,u=function(f){n[r++]=f},d=1;d<=e;++d)if(t[d]==a&&d!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(a),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(a);o=1,a=t[d]}return[n.subarray(0,r),e]},Tu=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},i_=function(t,e,n){var r=n.length,a=ok(e+2);t[a]=255&r,t[a+1]=r>>>8,t[a+2]=255^t[a],t[a+3]=255^t[a+1];for(var o=0;o<r;++o)t[a+o+4]=n[o];return 8*(a+4+r)},T1=function(t,e,n,r,a,o,u,d,f,h,g){wi(e,g++,n),++a[256];for(var v=zg(a,15),_=v[0],b=v[1],S=zg(o,15),w=S[0],T=S[1],x=w1(_),I=x[0],D=x[1],q=w1(w),ee=q[0],Q=q[1],O=new Un(19),z=0;z<I.length;++z)O[31&I[z]]++;for(z=0;z<ee.length;++z)O[31&ee[z]]++;for(var ne=zg(O,7),K=ne[0],te=ne[1],se=19;se>4&&!K[S1[se-1]];--se);var ce,le,_e,k,G=h+5<<3,F=Tu(a,Ta)+Tu(o,ah)+u,ae=Tu(a,_)+Tu(o,w)+u+14+3*se+Tu(O,K)+(2*O[16]+3*O[17]+7*O[18]);if(G<=F&&G<=ae)return i_(e,g,t.subarray(f,f+h));if(wi(e,g,1+(ae<F)),g+=2,ae<F){ce=Gu(_,b),le=_,_e=Gu(w,T),k=w;var J=Gu(K,te);for(wi(e,g,D-257),wi(e,g+5,Q-1),wi(e,g+10,se-4),g+=14,z=0;z<se;++z)wi(e,g+3*z,K[S1[z]]);g+=3*se;for(var R=[I,ee],N=0;N<2;++N){var j=R[N];for(z=0;z<j.length;++z){var W=31&j[z];wi(e,g,J[W]),g+=K[W],W>15&&(wi(e,g,j[z]>>>5&127),g+=j[z]>>>12)}}}else ce=f8,le=Ta,_e=h8,k=ah;for(z=0;z<d;++z)if(r[z]>255){W=r[z]>>>18&31,wu(e,g,ce[W+257]),g+=le[W+257],W>7&&(wi(e,g,r[z]>>>23&31),g+=Cy[W]);var re=31&r[z];wu(e,g,_e[re]),g+=k[re],re>3&&(wu(e,g,r[z]>>>5&8191),g+=ky[re])}else wu(e,g,ce[r[z]]),g+=le[r[z]];return wu(e,g,ce[256]),g+le[256]},p8=new rl([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),m8=(function(){for(var t=new rl(256),e=0;e<256;++e){for(var n=e,r=9;--r;)n=(1&n&&3988292384)^n>>>1;t[e]=n}return t})(),g8=function(t,e,n,r,a){return(function(o,u,d,f,h,g){var v=o.length,_=new gr(f+v+5*(1+Math.floor(v/7e3))+h),b=_.subarray(f,_.length-h),S=0;if(!u||v<8)for(var w=0;w<=v;w+=65535){var T=w+65535;T<v?S=i_(b,S,o.subarray(w,T)):(b[w]=g,S=i_(b,S,o.subarray(w,v)))}else{for(var x=p8[u-1],I=x>>>13,D=8191&x,q=(1<<d)-1,ee=new Un(32768),Q=new Un(q+1),O=Math.ceil(d/3),z=2*O,ne=function(fn){return(o[fn]^o[fn+1]<<O^o[fn+2]<<z)&q},K=new rl(25e3),te=new Un(288),se=new Un(32),ce=0,le=0,_e=(w=0,0),k=0,G=0;w<v;++w){var F=ne(w),ae=32767&w,J=Q[F];if(ee[ae]=J,Q[F]=ae,k<=w){var R=v-w;if((ce>7e3||_e>24576)&&R>423){S=T1(o,b,0,K,te,se,le,_e,G,w-G,S),_e=ce=le=0,G=w;for(var N=0;N<286;++N)te[N]=0;for(N=0;N<30;++N)se[N]=0}var j=2,W=0,re=D,fe=ae-J&32767;if(R>2&&F==ne(w-fe))for(var Ee=Math.min(I,R)-1,we=Math.min(32767,w),He=Math.min(258,R);fe<=we&&--re&&ae!=J;){if(o[w+j]==o[w+j-fe]){for(var pt=0;pt<He&&o[w+pt]==o[w+pt-fe];++pt);if(pt>j){if(j=pt,W=fe,pt>Ee)break;var Sn=Math.min(fe,pt-2),dn=0;for(N=0;N<Sn;++N){var Pr=w-fe+N+32768&32767,Tt=Pr-ee[Pr]+32768&32767;Tt>dn&&(dn=Tt,J=Pr)}}}fe+=(ae=J)-(J=ee[ae])+32768&32767}if(W){K[_e++]=268435456|n_[j]<<18|E1[W];var rn=31&n_[j],jn=31&E1[W];le+=Cy[rn]+ky[jn],++te[257+rn],++se[jn],k=w+j,++ce}else K[_e++]=o[w],++te[o[w]]}}S=T1(o,b,g,K,te,se,le,_e,G,w-G,S)}return lk(_,0,f+ok(S)+h)})(t,e.level==null?6:e.level,e.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+e.mem,n,r,!0)},jg=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8};function v8(t,e){e===void 0&&(e={});var n=(function(){var d=4294967295;return{p:function(f){for(var h=d,g=0;g<f.length;++g)h=m8[255&h^f[g]]^h>>>8;d=h},d:function(){return 4294967295^d}}})(),r=t.length;n.p(t);var a,o=g8(t,e,10+((a=e).filename&&a.filename.length+1||0),8),u=o.length;return(function(d,f){var h=f.filename;if(d[0]=31,d[1]=139,d[2]=8,d[8]=f.level<2?4:f.level==9?2:0,d[9]=3,f.mtime!=0&&jg(d,4,Math.floor(new Date(f.mtime||Date.now())/1e3)),h){d[3]=8;for(var g=0;g<=h.length;++g)d[g+10]=h.charCodeAt(g)}})(o,e),jg(o,u-8,n.d()),jg(o,u-4,r),o}var _8=function(t){var e,n,r,a,o="";for(e=n=0,r=(t=(t+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,a=0;a<r;a++){var u=t.charCodeAt(a),d=null;u<128?n++:d=u>127&&u<2048?String.fromCharCode(u>>6|192,63&u|128):String.fromCharCode(u>>12|224,u>>6&63|128,63&u|128),ti(d)||(n>e&&(o+=t.substring(e,n)),o+=d,e=n=a+1)}return n>e&&(o+=t.substring(e,t.length)),o},y8=!!zv||!!$v,x1="text/plain",oh=function(t,e,n){var r;n===void 0&&(n=!0);var[a,o]=t.split("?"),u=he({},e),d=(r=o==null?void 0:o.split("&").map((h=>{var g,[v,_]=h.split("="),b=n&&(g=u[v])!==null&&g!==void 0?g:_;return delete u[v],v+"="+b})))!==null&&r!==void 0?r:[],f=T6(u);return f&&d.push(f),a+"?"+d.join("&")},Uu=(t,e)=>JSON.stringify(t,((n,r)=>typeof r=="bigint"?r.toString():r),e),Hg=t=>{var{data:e,compression:n}=t;if(e){if(n===Ci.GZipJS){var r=v8((function(f,h){var g=f.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(f);for(var v=new gr(f.length+(f.length>>>1)),_=0,b=function(x){v[_++]=x},S=0;S<g;++S){if(_+5>v.length){var w=new gr(_+8+(g-S<<1));w.set(v),v=w}var T=f.charCodeAt(S);T<128||h?b(T):T<2048?(b(192|T>>>6),b(128|63&T)):T>55295&&T<57344?(b(240|(T=65536+(1047552&T)|1023&f.charCodeAt(++S))>>>18),b(128|T>>>12&63),b(128|T>>>6&63),b(128|63&T)):(b(224|T>>>12),b(128|T>>>6&63),b(128|63&T))}return lk(v,0,_)})(Uu(e)),{mtime:0}),a=new Blob([r],{type:x1});return{contentType:x1,body:a,estimatedSize:a.size}}if(n===Ci.Base64){var o=(function(f){var h,g,v,_,b,S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",w=0,T=0,x="",I=[];if(!f)return f;f=_8(f);do h=(b=f.charCodeAt(w++)<<16|f.charCodeAt(w++)<<8|f.charCodeAt(w++))>>18&63,g=b>>12&63,v=b>>6&63,_=63&b,I[T++]=S.charAt(h)+S.charAt(g)+S.charAt(v)+S.charAt(_);while(w<f.length);switch(x=I.join(""),f.length%3){case 1:x=x.slice(0,-2)+"==";break;case 2:x=x.slice(0,-1)+"="}return x})(Uu(e)),u=(f=>"data="+encodeURIComponent(typeof f=="string"?f:Uu(f)))(o);return{contentType:"application/x-www-form-urlencoded",body:u,estimatedSize:new Blob([u]).size}}var d=Uu(e);return{contentType:"application/json",body:d,estimatedSize:new Blob([d]).size}}},kf=[];$v&&kf.push({transport:"fetch",method:t=>{var e,n,{contentType:r,body:a,estimatedSize:o}=(e=Hg(t))!==null&&e!==void 0?e:{},u=new Headers;ht(t.headers,(function(g,v){u.append(v,g)})),r&&u.append("Content-Type",r);var d=t.url,f=null;if(qT){var h=new qT;f={signal:h.signal,timeout:setTimeout((()=>h.abort()),t.timeout)}}$v(d,he({method:(t==null?void 0:t.method)||"GET",headers:u,keepalive:t.method==="POST"&&(o||0)<52428.8,body:a,signal:(n=f)==null?void 0:n.signal},t.fetchOptions)).then((g=>g.text().then((v=>{var _={statusCode:g.status,text:v};if(g.status===200)try{_.json=JSON.parse(v)}catch(b){de.error(b)}t.callback==null||t.callback(_)})))).catch((g=>{de.error(g),t.callback==null||t.callback({statusCode:0,text:g})})).finally((()=>f?clearTimeout(f.timeout):null))}}),zv&&kf.push({transport:"XHR",method:t=>{var e,n=new zv;n.open(t.method||"GET",t.url,!0);var{contentType:r,body:a}=(e=Hg(t))!==null&&e!==void 0?e:{};ht(t.headers,(function(o,u){n.setRequestHeader(u,o)})),r&&n.setRequestHeader("Content-Type",r),t.timeout&&(n.timeout=t.timeout),t.disableXHRCredentials||(n.withCredentials=!0),n.onreadystatechange=()=>{if(n.readyState===4){var o={statusCode:n.status,text:n.responseText};if(n.status===200)try{o.json=JSON.parse(n.responseText)}catch{}t.callback==null||t.callback(o)}},n.send(a)}}),Wn!=null&&Wn.sendBeacon&&kf.push({transport:"sendBeacon",method:t=>{var e=oh(t.url,{beacon:"1"});try{var n,{contentType:r,body:a}=(n=Hg(t))!==null&&n!==void 0?n:{},o=typeof a=="string"?new Blob([a],{type:r}):a;Wn.sendBeacon(e,o)}catch{}}});var lh=function(t,e){if(!(function(n){try{new RegExp(n)}catch{return!1}return!0})(e))return!1;try{return new RegExp(e).test(t)}catch{return!1}};function R1(t,e,n){return Uu({distinct_id:t,userPropertiesToSet:e,userPropertiesToSetOnce:n})}var uk={exact:(t,e)=>e.some((n=>t.some((r=>n===r)))),is_not:(t,e)=>e.every((n=>t.every((r=>n!==r)))),regex:(t,e)=>e.some((n=>t.some((r=>lh(n,r))))),not_regex:(t,e)=>e.every((n=>t.every((r=>!lh(n,r))))),icontains:(t,e)=>e.map(df).some((n=>t.map(df).some((r=>n.includes(r))))),not_icontains:(t,e)=>e.map(df).every((n=>t.map(df).every((r=>!n.includes(r)))))},df=t=>t.toLowerCase();function ck(t,e){return!t||Object.entries(t).every((n=>{var[r,a]=n,o=e==null?void 0:e[r];if(oe(o)||ti(o))return!1;var u=[String(o)],d=uk[a.operator];return!!d&&d(a.values,u)}))}var Bg=It("[Error tracking]");class b8{constructor(e){var n,r;this.Jt=[],this.Kt=new q4([new Z4,new l6,new t6,new e6,new a6,new s6,new r6,new o6],Q4("web:javascript",X4,J4)),this._instance=e,this.Jt=(n=(r=this._instance.persistence)==null?void 0:r.get_property(Gv))!==null&&n!==void 0?n:[]}onRemoteConfig(e){var n,r,a,o=(n=(r=e.errorTracking)==null?void 0:r.suppressionRules)!==null&&n!==void 0?n:[],u=(a=e.errorTracking)==null?void 0:a.captureExtensionExceptions;this.Jt=o,this._instance.persistence&&this._instance.persistence.register({[Gv]:this.Jt,[t1]:u})}get Yt(){var e,n=!!this._instance.get_property(t1),r=this._instance.config.error_tracking.captureExtensionExceptions;return(e=r??n)!==null&&e!==void 0&&e}buildProperties(e,n){return this.Kt.buildFromUnknown(e,{syntheticException:n==null?void 0:n.syntheticException,mechanism:{handled:n==null?void 0:n.handled}})}sendExceptionEvent(e){var n=e.$exception_list;if(this.Xt(n)){if(this.Qt(n))return void Bg.info("Skipping exception capture because a suppression rule matched");if(!this.Yt&&this.Zt(n))return void Bg.info("Skipping exception capture because it was thrown by an extension");if(!this._instance.config.error_tracking.__capturePostHogExceptions&&this.ti(n))return void Bg.info("Skipping exception capture because it was thrown by the PostHog SDK")}return this._instance.capture("$exception",e,{_noTruncate:!0,_batchKey:"exceptionEvent"})}Qt(e){if(e.length===0)return!1;var n=e.reduce(((r,a)=>{var{type:o,value:u}=a;return Ht(o)&&o.length>0&&r.$exception_types.push(o),Ht(u)&&u.length>0&&r.$exception_values.push(u),r}),{$exception_types:[],$exception_values:[]});return this.Jt.some((r=>{var a=r.values.map((o=>{var u,d=uk[o.operator],f=et(o.value)?o.value:[o.value],h=(u=n[o.key])!==null&&u!==void 0?u:[];return f.length>0&&d(f,h)}));return r.type==="OR"?a.some(Boolean):a.every(Boolean)}))}Zt(e){return e.flatMap((n=>{var r,a;return(r=(a=n.stacktrace)==null?void 0:a.frames)!==null&&r!==void 0?r:[]})).some((n=>n.filename&&n.filename.startsWith("chrome-extension://")))}ti(e){if(e.length>0){var n,r,a,o,u=(n=(r=e[0].stacktrace)==null?void 0:r.frames)!==null&&n!==void 0?n:[],d=u[u.length-1];return(a=d==null||(o=d.filename)==null?void 0:o.includes("posthog.com/static"))!==null&&a!==void 0&&a}return!1}Xt(e){return!Ze(e)&&et(e)}}var Ar=It("[FeatureFlags]"),xu=It("[FeatureFlags]",{debugEnabled:!0}),Fg="$active_feature_flags",xo="$override_feature_flags",A1="$feature_flag_payloads",Ru="$override_feature_flag_payloads",C1="$feature_flag_request_id",k1="$feature_flag_evaluated_at",O1=t=>{var e={};for(var[n,r]of Cf(t||{}))r&&(e[n]=r);return e},S8=t=>{var e=t.flags;return e?(t.featureFlags=Object.fromEntries(Object.keys(e).map((n=>{var r;return[n,(r=e[n].variant)!==null&&r!==void 0?r:e[n].enabled]}))),t.featureFlagPayloads=Object.fromEntries(Object.keys(e).filter((n=>e[n].enabled)).filter((n=>{var r;return(r=e[n].metadata)==null?void 0:r.payload})).map((n=>{var r;return[n,(r=e[n].metadata)==null?void 0:r.payload]})))):Ar.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),t},E8=(function(t){return t.FeatureFlags="feature_flags",t.Recordings="recordings",t})({});class w8{constructor(e){this.ii=!1,this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this._instance=e,this.featureFlagEventHandlers=[]}li(){var e=this._instance.config.evaluation_environments;return e!=null&&e.length?e.filter((n=>{var r=n&&typeof n=="string"&&n.trim().length>0;return r||Ar.error("Invalid evaluation environment found:",n,"Expected non-empty string"),r})):[]}ui(){return this.li().length>0}flags(){if(this._instance.config.__preview_remote_config)this.oi=!0;else{var e=!this.hi&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.di({disableFlags:e})}}get hasLoadedFlags(){return this.ei}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var e=this._instance.get_property(Yv),n=this._instance.get_property(xo),r=this._instance.get_property(Ru);if(!r&&!n)return e||{};var a=Mt({},e||{}),o=[...new Set([...Object.keys(r||{}),...Object.keys(n||{})])];for(var u of o){var d,f,h=a[u],g=n==null?void 0:n[u],v=oe(g)?(d=h==null?void 0:h.enabled)!==null&&d!==void 0&&d:!!g,_=oe(g)?h.variant:typeof g=="string"?g:void 0,b=r==null?void 0:r[u],S=he({},h,{enabled:v,variant:v?_??(h==null?void 0:h.variant):void 0});v!==(h==null?void 0:h.enabled)&&(S.original_enabled=h==null?void 0:h.enabled),_!==(h==null?void 0:h.variant)&&(S.original_variant=h==null?void 0:h.variant),b&&(S.metadata=he({},h==null?void 0:h.metadata,{payload:b,original_payload:h==null||(f=h.metadata)==null?void 0:f.payload})),a[u]=S}return this.ii||(Ar.warn(" Overriding feature flag details!",{flagDetails:e,overriddenPayloads:r,finalDetails:a}),this.ii=!0),a}getFlagVariants(){var e=this._instance.get_property($o),n=this._instance.get_property(xo);if(!n)return e||{};for(var r=Mt({},e),a=Object.keys(n),o=0;o<a.length;o++)r[a[o]]=n[a[o]];return this.ii||(Ar.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:n,finalFlags:r}),this.ii=!0),r}getFlagPayloads(){var e=this._instance.get_property(A1),n=this._instance.get_property(Ru);if(!n)return e||{};for(var r=Mt({},e||{}),a=Object.keys(n),o=0;o<a.length;o++)r[a[o]]=n[a[o]];return this.ii||(Ar.warn(" Overriding feature flag payloads!",{flagPayloads:e,overriddenPayloads:n,finalPayloads:r}),this.ii=!0),r}reloadFeatureFlags(){this.si||this._instance.config.advanced_disable_feature_flags||this.hi||(this.hi=setTimeout((()=>{this.di()}),5))}vi(){clearTimeout(this.hi),this.hi=void 0}ensureFlagsLoaded(){this.ei||this.ri||this.hi||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this.si=e}di(e){var n;if(this.vi(),!this._instance.O())if(this.ri)this.ni=!0;else{var r={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:he({},((n=this._instance.persistence)==null?void 0:n.get_initial_props())||{},this._instance.get_property(Lu)||{}),group_properties:this._instance.get_property(oa)};(e!=null&&e.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(r.disable_flags=!0),this.ui()&&(r.evaluation_environments=this.li());var a=this._instance.config.__preview_remote_config,o=a?"/flags/?v=2":"/flags/?v=2&config=true",u=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",d=this._instance.requestRouter.endpointFor("flags",o+u);a&&(r.timezone=rk()),this.ri=!0,this._instance._send_request({method:"POST",url:d,data:r,compression:this._instance.config.disable_compression?void 0:Ci.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:f=>{var h,g,v=!0;if(f.statusCode===200&&(this.ni||(this.$anon_distinct_id=void 0),v=!1),this.ri=!1,this.oi||(this.oi=!0,this._instance.ci((g=f.json)!==null&&g!==void 0?g:{})),!r.disable_flags||this.ni)if(this.ai=!v,f.json&&(h=f.json.quotaLimited)!=null&&h.includes(E8.FeatureFlags))Ar.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var _;r.disable_flags||this.receivedFeatureFlags((_=f.json)!==null&&_!==void 0?_:{},v),this.ni&&(this.ni=!1,this.di())}}})}}getFeatureFlag(e,n){if(n===void 0&&(n={}),this.ei||this.getFlags()&&this.getFlags().length>0){var r=this.getFlagVariants()[e],a=""+r,o=this._instance.get_property(C1)||void 0,u=this._instance.get_property(k1)||void 0,d=this._instance.get_property(Jf)||{};if((n.send_event||!("send_event"in n))&&(!(e in d)||!d[e].includes(a))){var f,h,g,v,_,b,S,w,T;et(d[e])?d[e].push(a):d[e]=[a],(f=this._instance.persistence)==null||f.register({[Jf]:d});var x=this.getFeatureFlagDetails(e),I={$feature_flag:e,$feature_flag_response:r,$feature_flag_payload:this.getFeatureFlagPayload(e)||null,$feature_flag_request_id:o,$feature_flag_evaluated_at:u,$feature_flag_bootstrapped_response:((h=this._instance.config.bootstrap)==null||(h=h.featureFlags)==null?void 0:h[e])||null,$feature_flag_bootstrapped_payload:((g=this._instance.config.bootstrap)==null||(g=g.featureFlagPayloads)==null?void 0:g[e])||null,$used_bootstrap_value:!this.ai};oe(x==null||(v=x.metadata)==null?void 0:v.version)||(I.$feature_flag_version=x.metadata.version);var D,q=(_=x==null||(b=x.reason)==null?void 0:b.description)!==null&&_!==void 0?_:x==null||(S=x.reason)==null?void 0:S.code;q&&(I.$feature_flag_reason=q),x!=null&&(w=x.metadata)!=null&&w.id&&(I.$feature_flag_id=x.metadata.id),oe(x==null?void 0:x.original_variant)&&oe(x==null?void 0:x.original_enabled)||(I.$feature_flag_original_response=oe(x.original_variant)?x.original_enabled:x.original_variant),x!=null&&(T=x.metadata)!=null&&T.original_payload&&(I.$feature_flag_original_payload=x==null||(D=x.metadata)==null?void 0:D.original_payload),this._instance.capture("$feature_flag_called",I)}return r}Ar.warn('getFeatureFlag for key "'+e+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(e){return this.getFlagsWithDetails()[e]}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}getRemoteConfigPayload(e,n){var r=this._instance.config.token,a={distinct_id:this._instance.get_distinct_id(),token:r};this.ui()&&(a.evaluation_environments=this.li()),this._instance._send_request({method:"POST",url:this._instance.requestRouter.endpointFor("flags","/flags/?v=2&config=true"),data:a,compression:this._instance.config.disable_compression?void 0:Ci.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:o=>{var u,d=(u=o.json)==null?void 0:u.featureFlagPayloads;n((d==null?void 0:d[e])||void 0)}})}isFeatureEnabled(e,n){if(n===void 0&&(n={}),this.ei||this.getFlags()&&this.getFlags().length>0){var r=this.getFeatureFlag(e,n);return oe(r)?void 0:!!r}Ar.warn('isFeatureEnabled for key "'+e+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((n=>n!==e))}receivedFeatureFlags(e,n){if(this._instance.persistence){this.ei=!0;var r=this.getFlagVariants(),a=this.getFlagPayloads(),o=this.getFlagsWithDetails();(function(u,d,f,h,g){f===void 0&&(f={}),h===void 0&&(h={}),g===void 0&&(g={});var v=S8(u),_=v.flags,b=v.featureFlags,S=v.featureFlagPayloads;if(b){var w=u.requestId,T=u.evaluatedAt;if(et(b)){Ar.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var x={};if(b)for(var I=0;I<b.length;I++)x[b[I]]=!0;d&&d.register({[Fg]:b,[$o]:x})}else{var D=b,q=S,ee=_;u.errorsWhileComputingFlags&&(D=he({},f,D),q=he({},h,q),ee=he({},g,ee)),d&&d.register(he({[Fg]:Object.keys(O1(D)),[$o]:D||{},[A1]:q||{},[Yv]:ee||{}},w?{[C1]:w}:{},T?{[k1]:T}:{}))}}})(e,this._instance.persistence,r,a,o),this.fi(n)}}override(e,n){n===void 0&&(n=!1),Ar.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:e,suppressWarning:n})}overrideFeatureFlags(e){if(!this._instance.__loaded||!this._instance.persistence)return Ar.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(e===!1)return this._instance.persistence.unregister(xo),this._instance.persistence.unregister(Ru),this.fi(),xu.info("All overrides cleared");if(e&&typeof e=="object"&&("flags"in e||"payloads"in e)){var n,r=e;if(this.ii=!!((n=r.suppressWarning)!==null&&n!==void 0&&n),"flags"in r){if(r.flags===!1)this._instance.persistence.unregister(xo),xu.info("Flag overrides cleared");else if(r.flags){if(et(r.flags)){for(var a={},o=0;o<r.flags.length;o++)a[r.flags[o]]=!0;this._instance.persistence.register({[xo]:a})}else this._instance.persistence.register({[xo]:r.flags});xu.info("Flag overrides set",{flags:r.flags})}}return"payloads"in r&&(r.payloads===!1?(this._instance.persistence.unregister(Ru),xu.info("Payload overrides cleared")):r.payloads&&(this._instance.persistence.register({[Ru]:r.payloads}),xu.info("Payload overrides set",{payloads:r.payloads}))),void this.fi()}this.fi()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this.ei){var{flags:n,flagVariants:r}=this.pi();e(n,r)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,n,r){var a,o=(this._instance.get_property(Nu)||[]).find((h=>h.flagKey===e)),u={["$feature_enrollment/"+e]:n},d={$feature_flag:e,$feature_enrollment:n,$set:u};o&&(d.$early_access_feature_name=o.name),r&&(d.$feature_enrollment_stage=r),this._instance.capture("$feature_enrollment_update",d),this.setPersonPropertiesForFlags(u,!1);var f=he({},this.getFlagVariants(),{[e]:n});(a=this._instance.persistence)==null||a.register({[Fg]:Object.keys(O1(f)),[$o]:f}),this.fi()}getEarlyAccessFeatures(e,n,r){n===void 0&&(n=!1);var a=this._instance.get_property(Nu),o=r?"&"+r.map((u=>"stage="+u)).join("&"):"";if(a&&!n)return e(a);this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+o),method:"GET",callback:u=>{var d,f;if(u.json){var h=u.json.earlyAccessFeatures;return(d=this._instance.persistence)==null||d.unregister(Nu),(f=this._instance.persistence)==null||f.register({[Nu]:h}),e(h)}}})}pi(){var e=this.getFlags(),n=this.getFlagVariants();return{flags:e.filter((r=>n[r])),flagVariants:Object.keys(n).filter((r=>n[r])).reduce(((r,a)=>(r[a]=n[a],r)),{})}}fi(e){var{flags:n,flagVariants:r}=this.pi();this.featureFlagEventHandlers.forEach((a=>a(n,r,{errorsLoading:e})))}setPersonPropertiesForFlags(e,n){n===void 0&&(n=!0);var r=this._instance.get_property(Lu)||{};this._instance.register({[Lu]:he({},r,e)}),n&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(Lu)}setGroupPropertiesForFlags(e,n){n===void 0&&(n=!0);var r=this._instance.get_property(oa)||{};Object.keys(r).length!==0&&Object.keys(r).forEach((a=>{r[a]=he({},r[a],e[a]),delete e[a]})),this._instance.register({[oa]:he({},r,e)}),n&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var n=this._instance.get_property(oa)||{};this._instance.register({[oa]:he({},n,{[e]:{}})})}else this._instance.unregister(oa)}reset(){this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this.$anon_distinct_id=void 0,this.vi(),this.ii=!1}}var T8=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class qg{constructor(e,n){this.I=e,this.props={},this.gi=!1,this.mi=(r=>{var a="";return r.token&&(a=r.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),r.persistence_name?"ph_"+r.persistence_name:"ph_"+a+"_posthog"})(e),this.Y=this.yi(e),this.load(),e.debug&&de.info("Persistence loaded",e.persistence,he({},this.props)),this.update_config(e,e,n),this.save()}isDisabled(){return!!this.bi}yi(e){T8.indexOf(e.persistence.toLowerCase())===-1&&(de.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var n=e.persistence.toLowerCase();return n==="localstorage"&&wt.H()?wt:n==="localstorage+cookie"&&of.H()?of:n==="sessionstorage"&&tn.H()?tn:n==="memory"?L6:n==="cookie"?Kr:of.H()?of:Kr}properties(){var e={};return ht(this.props,(function(n,r){if(r===$o&&Yt(n))for(var a=Object.keys(n),o=0;o<a.length;o++)e["$feature/"+a[o]]=n[a[o]];else d=r,f=!1,(ti(u=p6)?f:FT&&u.indexOf===FT?u.indexOf(d)!=-1:(ht(u,(function(h){if(f||(f=h===d))return Kf})),f))||(e[r]=n);var u,d,f})),e}load(){if(!this.bi){var e=this.Y.W(this.mi);e&&(this.props=Mt({},e))}}save(){this.bi||this.Y.G(this.mi,this.props,this.wi,this.xi,this.Ei,this.I.debug)}remove(){this.Y.V(this.mi,!1),this.Y.V(this.mi,!0)}clear(){this.remove(),this.props={}}register_once(e,n,r){if(Yt(e)){oe(n)&&(n="None"),this.wi=oe(r)?this.Si:r;var a=!1;if(ht(e,((o,u)=>{this.props.hasOwnProperty(u)&&this.props[u]!==n||(this.props[u]=o,a=!0)})),a)return this.save(),!0}return!1}register(e,n){if(Yt(e)){this.wi=oe(n)?this.Si:n;var r=!1;if(ht(e,((a,o)=>{e.hasOwnProperty(o)&&this.props[o]!==a&&(this.props[o]=a,r=!0)})),r)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.gi){var e=JC(this.I.custom_campaign_params,this.I.mask_personal_data_properties,this.I.custom_personal_data_properties);Uo(by(e))||this.register(e),this.gi=!0}}update_search_keyword(){var e;this.register((e=ue==null?void 0:ue.referrer)?ZC(e):{})}update_referrer_info(){var e;this.register_once({$referrer:ek(),$referring_domain:ue!=null&&ue.referrer&&((e=th(ue.referrer))==null?void 0:e.host)||"$direct"},void 0)}set_initial_person_info(){this.props[Wv]||this.props[Jv]||this.register_once({[Qf]:tk(this.I.mask_personal_data_properties,this.I.custom_personal_data_properties)},void 0)}get_initial_props(){var e={};ht([Jv,Wv],(u=>{var d=this.props[u];d&&ht(d,(function(f,h){e["$initial_"+jv(h)]=f}))}));var n,r,a=this.props[Qf];if(a){var o=(n=nk(a),r={},ht(n,(function(u,d){r["$initial_"+jv(d)]=u})),r);Mt(e,o)}return e}safe_merge(e){return ht(this.props,(function(n,r){r in e||(e[r]=n)})),e}update_config(e,n,r){if(this.Si=this.wi=e.cookie_expiration,this.set_disabled(e.disable_persistence||!!r),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==n.persistence){var a=this.yi(e),o=this.props;this.clear(),this.Y=a,this.props=o,this.save()}}set_disabled(e){this.bi=e,this.bi?this.remove():this.save()}set_cross_subdomain(e){e!==this.xi&&(this.xi=e,this.remove(),this.save())}set_secure(e){e!==this.Ei&&(this.Ei=e,this.remove(),this.save())}set_event_timer(e,n){var r=this.props[Du]||{};r[e]=n,this.props[Du]=r,this.save()}remove_event_timer(e){var n=(this.props[Du]||{})[e];return oe(n)||(delete this.props[Du][e],this.save()),n}get_property(e){return this.props[e]}set_property(e,n){this.props[e]=n,this.save()}}var mn=It("[Product Tours]"),Gg="ph_product_tours";class x8{constructor(e){this.$i=null,this.ki=null,this.Pi=void 0,this.Ti=!1,this._instance=e}onRemoteConfig(e){if(this._instance.config.disable_product_tours)mn.info("Product tours disabled via config");else{var n=e.productTours;Ze(n)?mn.info("Product tours not enabled in remote config"):(this.Pi=n,mn.info("Remote config received, isProductToursEnabled: "+this.Pi),this.loadIfEnabled())}}loadIfEnabled(){var e;if(!this.ki)if(this.Ti)mn.info("Already initializing product tours, skipping...");else if(this._instance.config.disable_product_tours)mn.info("Product tours disabled via config");else{var n=Se==null?void 0:Se.__PosthogExtensions__;if(n){var r=(e=this._instance.featureFlags)==null?void 0:e.isFeatureEnabled("product-tours-2025");if(!oe(this.Pi)||r){var a=this.Pi||r;if(a){this.Ti=!0;try{var o=n.generateProductTours;if(o)return void this.Ci(o,a);var u=n.loadExternalDependency;if(!u)return mn.error("PostHog loadExternalDependency extension not found."),void(this.Ti=!1);u(this._instance,"product-tours",(d=>{d||!n.generateProductTours?mn.error("Could not load product tours script",d):this.Ci(n.generateProductTours,a),this.Ti=!1}))}catch(d){mn.error("Error initializing product tours",d),this.Ti=!1}}else mn.info("Product tours not enabled")}else mn.info("Waiting for remote config or feature flag to enable product tours")}else mn.error("PostHog Extensions not found.")}}Ci(e,n){this.ki=e(this._instance,n)||null,mn.info("Product tours loaded successfully")}getProductTours(e,n){if(n===void 0&&(n=!1),!et(this.$i)||n){var r=this._instance.persistence;if(r){var a=r.props[Gg];if(et(a)&&!n)return this.$i=a,void e(a,{isLoaded:!0})}this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/product_tours/?token="+this._instance.config.token),method:"GET",callback:o=>{var u=o.statusCode;if(u!==200||!o.json){var d="Product Tours API could not be loaded, status: "+u;return mn.error(d),void e([],{isLoaded:!1,error:d})}var f=et(o.json.product_tours)?o.json.product_tours:[];this.$i=f,r&&r.register({[Gg]:f}),e(f,{isLoaded:!0})}})}else e(this.$i,{isLoaded:!0})}getActiveProductTours(e){if(Ze(this.ki))return mn.warn("Product tours not loaded yet"),void e([],{isLoaded:!1,error:"Product tours not loaded"});this.ki.getActiveProductTours(e)}showProductTour(e){var n;mn.info("showProductTour("+e+")"),(n=this.ki)==null||n.showTourById(e)}dismissProductTour(){var e;(e=this.ki)==null||e.dismissTour("user_clicked_skip")}nextStep(){var e;(e=this.ki)==null||e.nextStep()}previousStep(){var e;(e=this.ki)==null||e.previousStep()}clearCache(){this.$i=null;var e=this._instance.persistence;e&&e.unregister(Gg)}resetTour(e){var n;(n=this.ki)==null||n.resetTour(e)}resetAllTours(){var e;(e=this.ki)==null||e.resetAllTours()}}var Au=(function(t){return t.Activation="events",t.Cancellation="cancelEvents",t})({});(function(t){return t.Button="button",t.Tab="tab",t.Selector="selector",t})({});(function(t){return t.TopLeft="top_left",t.TopRight="top_right",t.TopCenter="top_center",t.MiddleLeft="middle_left",t.MiddleRight="middle_right",t.MiddleCenter="middle_center",t.Left="left",t.Center="center",t.Right="right",t.NextToTrigger="next_to_trigger",t})({});(function(t){return t.Top="top",t.Left="left",t.Right="right",t.Bottom="bottom",t})({});var Yg=(function(t){return t.Popover="popover",t.API="api",t.Widget="widget",t.ExternalSurvey="external_survey",t})({});(function(t){return t.Open="open",t.MultipleChoice="multiple_choice",t.SingleChoice="single_choice",t.Rating="rating",t.Link="link",t})({});(function(t){return t.NextQuestion="next_question",t.End="end",t.ResponseBased="response_based",t.SpecificQuestion="specific_question",t})({});(function(t){return t.Once="once",t.Recurring="recurring",t.Always="always",t})({});var Of=(function(t){return t.SHOWN="survey shown",t.DISMISSED="survey dismissed",t.SENT="survey sent",t})({}),M1=(function(t){return t.SURVEY_ID="$survey_id",t.SURVEY_NAME="$survey_name",t.SURVEY_RESPONSE="$survey_response",t.SURVEY_ITERATION="$survey_iteration",t.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",t.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",t.SURVEY_SUBMISSION_ID="$survey_submission_id",t.SURVEY_QUESTIONS="$survey_questions",t.SURVEY_COMPLETED="$survey_completed",t})({}),dk=(function(t){return t.Popover="popover",t.Inline="inline",t})({});class Oy{constructor(){this.Ri={},this.Ri={}}on(e,n){return this.Ri[e]||(this.Ri[e]=[]),this.Ri[e].push(n),()=>{this.Ri[e]=this.Ri[e].filter((r=>r!==n))}}emit(e,n){for(var r of this.Ri[e]||[])r(n);for(var a of this.Ri["*"]||[])a(e,n)}}function Ro(t,e,n){if(Ze(t))return!1;switch(n){case"exact":return t===e;case"contains":var r=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/_/g,".").replace(/%/g,".*");return new RegExp(r,"i").test(t);case"regex":try{return new RegExp(e).test(t)}catch{return!1}default:return!1}}class R8{constructor(e){this.Ii=new Oy,this.Fi=(n,r)=>this.Mi(n,r)&&this.Oi(n,r)&&this.Ai(n,r)&&this.Di(n,r),this.Mi=(n,r)=>r==null||!r.event||(n==null?void 0:n.event)===(r==null?void 0:r.event),this._instance=e,this.ji=new Set,this.Li=new Set}init(){var e;if(!oe((e=this._instance)==null?void 0:e.Ni)){var n;(n=this._instance)==null||n.Ni(((r,a)=>{this.on(r,a)}))}}register(e){var n,r;if(!oe((n=this._instance)==null?void 0:n.Ni)&&(e.forEach((u=>{var d,f;(d=this.Li)==null||d.add(u),(f=u.steps)==null||f.forEach((h=>{var g;(g=this.ji)==null||g.add((h==null?void 0:h.event)||"")}))})),(r=this._instance)!=null&&r.autocapture)){var a,o=new Set;e.forEach((u=>{var d;(d=u.steps)==null||d.forEach((f=>{f!=null&&f.selector&&o.add(f==null?void 0:f.selector)}))})),(a=this._instance)==null||a.autocapture.setElementSelectors(o)}}on(e,n){var r;n!=null&&e.length!=0&&(this.ji.has(e)||this.ji.has(n==null?void 0:n.event))&&this.Li&&((r=this.Li)==null?void 0:r.size)>0&&this.Li.forEach((a=>{this.Ui(n,a)&&this.Ii.emit("actionCaptured",a.name)}))}zi(e){this.onAction("actionCaptured",(n=>e(n)))}Ui(e,n){if((n==null?void 0:n.steps)==null)return!1;for(var r of n.steps)if(this.Fi(e,r))return!0;return!1}onAction(e,n){return this.Ii.on(e,n)}Oi(e,n){if(n!=null&&n.url){var r,a=e==null||(r=e.properties)==null?void 0:r.$current_url;if(!a||typeof a!="string"||!Ro(a,n.url,n.url_matching||"contains"))return!1}return!0}Ai(e,n){return!!this.Hi(e,n)&&!!this.Bi(e,n)&&!!this.qi(e,n)}Hi(e,n){var r;if(n==null||!n.href)return!0;var a=this.Wi(e);if(a.length>0)return a.some((d=>Ro(d.href,n.href,n.href_matching||"exact")));var o,u=(e==null||(r=e.properties)==null?void 0:r.$elements_chain)||"";return!!u&&Ro((o=u.match(/(?::|")href="(.*?)"/))?o[1]:"",n.href,n.href_matching||"exact")}Bi(e,n){var r;if(n==null||!n.text)return!0;var a=this.Wi(e);if(a.length>0)return a.some((h=>Ro(h.text,n.text,n.text_matching||"exact")||Ro(h.$el_text,n.text,n.text_matching||"exact")));var o,u,d,f=(e==null||(r=e.properties)==null?void 0:r.$elements_chain)||"";return!!f&&(o=(function(h){for(var g,v=[],_=/(?::|")text="(.*?)"/g;!Ze(g=_.exec(h));)v.includes(g[1])||v.push(g[1]);return v})(f),u=n.text,d=n.text_matching||"exact",o.some((h=>Ro(h,u,d))))}qi(e,n){var r,a;if(n==null||!n.selector)return!0;var o=e==null||(r=e.properties)==null?void 0:r.$element_selectors;if(o!=null&&o.includes(n.selector))return!0;var u=(e==null||(a=e.properties)==null?void 0:a.$elements_chain)||"";if(n.selector_regex&&u)try{return new RegExp(n.selector_regex).test(u)}catch{return!1}return!1}Wi(e){var n;return(e==null||(n=e.properties)==null?void 0:n.$elements)==null?[]:e==null?void 0:e.properties.$elements}Di(e,n){return n==null||!n.properties||n.properties.length===0||ck(n.properties.reduce(((r,a)=>{var o=et(a.value)?a.value.map(String):a.value!=null?[String(a.value)]:[];return r[a.key]={values:o,operator:a.operator||"exact"},r}),{}),e==null?void 0:e.properties)}}var rt=It("[Surveys]"),s_="seenSurvey_",A8=(t,e)=>{var n="$survey_"+e+"/"+t.id;return t.current_iteration&&t.current_iteration>0&&(n="$survey_"+e+"/"+t.id+"/"+t.current_iteration),n},I1=t=>{var e=""+s_+t.id;return t.current_iteration&&t.current_iteration>0&&(e=""+s_+t.id+"_"+t.current_iteration),e},C8=[Yg.Popover,Yg.Widget,Yg.API],k8={ignoreConditions:!1,ignoreDelay:!1,displayType:dk.Popover};class O8{constructor(e){this._instance=e,this.Gi=new Map,this.Vi=new Map,this.Ji=new Map}Ki(e,n){return!!e&&ck(e.propertyFilters,n==null?void 0:n.properties)}Yi(e,n){var r=new Map;return e.forEach((a=>{var o;(o=a.conditions)==null||(o=o[n])==null||(o=o.values)==null||o.forEach((u=>{if(u!=null&&u.name){var d=r.get(u.name)||[];d.push(a.id),r.set(u.name,d)}}))})),r}Xi(e,n,r){var a,o=(r===Au.Activation?this.Gi:this.Vi).get(e),u=[];return(a=this._instance)==null||a.getSurveys((d=>{u=d.filter((f=>o==null?void 0:o.includes(f.id)))})),u.filter((d=>{var f,h=(f=d.conditions)==null||(f=f[r])==null||(f=f.values)==null?void 0:f.find((g=>g.name===e));return this.Ki(h,n)}))}register(e){var n;oe((n=this._instance)==null?void 0:n.Ni)||(this.Qi(e),this.Zi(e))}Zi(e){var n=e.filter((r=>{var a,o;return((a=r.conditions)==null?void 0:a.actions)&&((o=r.conditions)==null||(o=o.actions)==null||(o=o.values)==null?void 0:o.length)>0}));n.length!==0&&(this.te==null&&(this.te=new R8(this._instance),this.te.init(),this.te.zi((r=>{this.onAction(r)}))),n.forEach((r=>{var a,o,u,d,f;r.conditions&&(a=r.conditions)!=null&&a.actions&&(o=r.conditions)!=null&&(o=o.actions)!=null&&o.values&&((u=r.conditions)==null||(u=u.actions)==null||(u=u.values)==null?void 0:u.length)>0&&((d=this.te)==null||d.register(r.conditions.actions.values),(f=r.conditions)==null||(f=f.actions)==null||(f=f.values)==null||f.forEach((h=>{if(h&&h.name){var g=this.Ji.get(h.name);g&&g.push(r.id),this.Ji.set(h.name,g||[r.id])}})))})))}Qi(e){var n,r=e.filter((o=>{var u,d;return((u=o.conditions)==null?void 0:u.events)&&((d=o.conditions)==null||(d=d.events)==null||(d=d.values)==null?void 0:d.length)>0})),a=e.filter((o=>{var u,d;return((u=o.conditions)==null?void 0:u.cancelEvents)&&((d=o.conditions)==null||(d=d.cancelEvents)==null||(d=d.values)==null?void 0:d.length)>0}));(r.length!==0||a.length!==0)&&((n=this._instance)==null||n.Ni(((o,u)=>{this.onEvent(o,u)})),this.Gi=this.Yi(e,Au.Activation),this.Vi=this.Yi(e,Au.Cancellation))}onEvent(e,n){var r,a=((r=this._instance)==null||(r=r.persistence)==null?void 0:r.props[af])||[];if(Of.SHOWN===e&&n&&a.length>0){var o;rt.info("survey event matched, removing survey from activated surveys",{event:e,eventPayload:n,existingActivatedSurveys:a});var u=n==null||(o=n.properties)==null?void 0:o.$survey_id;if(u){var d=a.indexOf(u);d>=0&&(a.splice(d,1),this.ie(a))}}else{if(this.Vi.has(e)){var f=this.Xi(e,n,Au.Cancellation);f.length>0&&(rt.info("cancel event matched, cancelling surveys",{event:e,surveysToCancel:f.map((g=>g.id))}),f.forEach((g=>{var v,_=a.indexOf(g.id);_>=0&&a.splice(_,1),(v=this._instance)==null||v.cancelPendingSurvey(g.id)})),this.ie(a))}if(this.Gi.has(e)){rt.info("survey event name matched",{event:e,eventPayload:n,surveys:this.Gi.get(e)});var h=this.Xi(e,n,Au.Activation);this.ie(a.concat(h.map((g=>g.id))||[]))}}}onAction(e){var n,r=((n=this._instance)==null||(n=n.persistence)==null?void 0:n.props[af])||[];this.Ji.has(e)&&this.ie(r.concat(this.Ji.get(e)||[]))}ie(e){var n;rt.info("updating activated surveys",{activatedSurveys:e}),(n=this._instance)==null||(n=n.persistence)==null||n.register({[af]:[...new Set(e)]})}getSurveys(){var e,n=(e=this._instance)==null||(e=e.persistence)==null?void 0:e.props[af];return n||[]}getEventToSurveys(){return this.Gi}ee(){return this.te}}class M8{constructor(e){this.re=void 0,this._surveyManager=null,this.se=!1,this.ne=!1,this.oe=[],this._instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){if(!this._instance.config.disable_surveys){var n=e.surveys;if(Ze(n))return rt.warn("Flags not loaded yet. Not loading surveys.");var r=et(n);this.re=r?n.length>0:n,rt.info("flags response received, isSurveysEnabled: "+this.re),this.loadIfEnabled()}}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var e=[],n=0;n<localStorage.length;n++){var r=localStorage.key(n);(r!=null&&r.startsWith(s_)||r!=null&&r.startsWith("inProgressSurvey_"))&&e.push(r)}e.forEach((a=>localStorage.removeItem(a)))}loadIfEnabled(){if(!this._surveyManager)if(this.ne)rt.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)rt.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())rt.info("Not loading surveys in cookieless mode without consent.");else{var e=Se==null?void 0:Se.__PosthogExtensions__;if(e){if(!oe(this.re)||this._instance.config.advanced_enable_surveys){var n=this.re||this._instance.config.advanced_enable_surveys;this.ne=!0;try{var r=e.generateSurveys;if(r)return void this.ae(r,n);var a=e.loadExternalDependency;if(!a)return void this.le("PostHog loadExternalDependency extension not found.");a(this._instance,"surveys",(o=>{o||!e.generateSurveys?this.le("Could not load surveys script",o):this.ae(e.generateSurveys,n)}))}catch(o){throw this.le("Error initializing surveys",o),o}finally{this.ne=!1}}}else rt.error("PostHog Extensions not found.")}}ae(e,n){this._surveyManager=e(this._instance,n),this._surveyEventReceiver=new O8(this._instance),rt.info("Surveys loaded successfully"),this.ue({isLoaded:!0})}le(e,n){rt.error(e,n),this.ue({isLoaded:!1,error:e})}onSurveysLoaded(e){return this.oe.push(e),this._surveyManager&&this.ue({isLoaded:!0}),()=>{this.oe=this.oe.filter((n=>n!==e))}}getSurveys(e,n){if(n===void 0&&(n=!1),this._instance.config.disable_surveys)return rt.info("Disabled. Not loading surveys."),e([]);var r=this._instance.get_property(Vv);if(r&&!n)return e(r,{isLoaded:!0});if(this.se)return e([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.se=!0,this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:a=>{var o;this.se=!1;var u=a.statusCode;if(u!==200||!a.json){var d="Surveys API could not be loaded, status: "+u;return rt.error(d),e([],{isLoaded:!1,error:d})}var f,h=a.json.surveys||[],g=h.filter((v=>(function(_){return!(!_.start_date||_.end_date)})(v)&&((function(_){var b;return!((b=_.conditions)==null||(b=b.events)==null||(b=b.values)==null||!b.length)})(v)||(function(_){var b;return!((b=_.conditions)==null||(b=b.actions)==null||(b=b.values)==null||!b.length)})(v))));return g.length>0&&((f=this._surveyEventReceiver)==null||f.register(g)),(o=this._instance.persistence)==null||o.register({[Vv]:h}),e(h,{isLoaded:!0})}})}catch(a){throw this.se=!1,a}}ue(e){for(var n of this.oe)try{if(!e.isLoaded)return n([],e);this.getSurveys(n)}catch(r){rt.error("Error in survey callback",r)}}getActiveMatchingSurveys(e,n){if(n===void 0&&(n=!1),!Ze(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(e,n);rt.warn("init was not called")}he(e){var n=null;return this.getSurveys((r=>{var a;n=(a=r.find((o=>o.id===e)))!==null&&a!==void 0?a:null})),n}de(e){if(Ze(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var n=typeof e=="string"?this.he(e):e;return n?this._surveyManager.checkSurveyEligibility(n):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(e){if(Ze(this._surveyManager))return rt.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var n=this.de(e);return{visible:n.eligible,disabledReason:n.reason}}canRenderSurveyAsync(e,n){return Ze(this._surveyManager)?(rt.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise((r=>{this.getSurveys((a=>{var o,u=(o=a.find((f=>f.id===e)))!==null&&o!==void 0?o:null;if(u){var d=this.de(u);r({visible:d.eligible,disabledReason:d.reason})}else r({visible:!1,disabledReason:"Survey not found"})}),n)}))}renderSurvey(e,n){var r;if(Ze(this._surveyManager))rt.warn("init was not called");else{var a=typeof e=="string"?this.he(e):e;if(a!=null&&a.id)if(C8.includes(a.type)){var o=ue==null?void 0:ue.querySelector(n);if(o)return(r=a.appearance)!=null&&r.surveyPopupDelaySeconds?(rt.info("Rendering survey "+a.id+" with delay of "+a.appearance.surveyPopupDelaySeconds+" seconds"),void setTimeout((()=>{var u,d;rt.info("Rendering survey "+a.id+" with delay of "+((u=a.appearance)==null?void 0:u.surveyPopupDelaySeconds)+" seconds"),(d=this._surveyManager)==null||d.renderSurvey(a,o),rt.info("Survey "+a.id+" rendered")}),1e3*a.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(a,o);rt.warn("Survey element not found")}else rt.warn("Surveys of type "+a.type+" cannot be rendered in the app");else rt.warn("Survey not found")}}displaySurvey(e,n){var r;if(Ze(this._surveyManager))rt.warn("init was not called");else{var a=this.he(e);if(a){var o=a;if((r=a.appearance)!=null&&r.surveyPopupDelaySeconds&&n.ignoreDelay&&(o=he({},a,{appearance:he({},a.appearance,{surveyPopupDelaySeconds:0})})),n.ignoreConditions===!1){var u=this.canRenderSurvey(a);if(!u.visible)return void rt.warn("Survey is not eligible to be displayed: ",u.disabledReason)}n.displayType!==dk.Inline?this._surveyManager.handlePopoverSurvey(o):this.renderSurvey(o,n.selector)}else rt.warn("Survey not found")}}cancelPendingSurvey(e){Ze(this._surveyManager)?rt.warn("init was not called"):this._surveyManager.cancelSurvey(e)}}var Cu=It("[Conversations]");class I8{constructor(e){this.ve=void 0,this._conversationsManager=null,this.Ti=!1,this.ce=null,this._instance=e}onRemoteConfig(e){if(!this._instance.config.disable_conversations){var n=e.conversations;Ze(n)||(Ni(n)?this.ve=n:(this.ve=n.enabled,this.ce=n),this.loadIfEnabled())}}reset(){var e;(e=this._conversationsManager)==null||e.reset(),this._conversationsManager=null,this.ve=void 0,this.ce=null}loadIfEnabled(){if(!this._conversationsManager&&!this.Ti&&!(this._instance.config.disable_conversations||this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())){var e=Se==null?void 0:Se.__PosthogExtensions__;if(e&&!oe(this.ve)&&this.ve)if(this.ce&&this.ce.token){if((function(a){var o;if(!a||a.length===0)return!0;var u=B==null||(o=B.location)==null?void 0:o.hostname;return!u||a.some((d=>{var f=(function(g){var v=g.replace(/^https?:\/\//,"");return(v=v.split("/")[0].split("?")[0].split(":")[0])||null})(d);if(!f)return!1;if(f.startsWith("*.")){var h=f.slice(2);return u.endsWith("."+h)||u===h}return u===f}))})(this.ce.domains)){this.Ti=!0;try{var n=e.initConversations;if(n)return this.Ci(n),void(this.Ti=!1);var r=e.loadExternalDependency;if(!r)return void this.fe("PostHog loadExternalDependency extension not found.");r(this._instance,"conversations",(a=>{a||!e.initConversations?this.fe("Could not load conversations script",a):this.Ci(e.initConversations),this.Ti=!1}))}catch(a){this.fe("Error initializing conversations",a),this.Ti=!1}}}else Cu.error("Conversations enabled but missing token in remote config.")}}Ci(e){if(this.ce)try{this._conversationsManager=e(this.ce,this._instance),Cu.info("Conversations loaded successfully")}catch(n){this.fe("Error completing conversations initialization",n)}else Cu.error("Cannot complete initialization: remote config is null")}fe(e,n){Cu.error(e,n),this._conversationsManager=null,this.Ti=!1}enable(){this._conversationsManager?this._conversationsManager.enable():Cu.warn("Conversations not loaded yet.")}disable(){this._conversationsManager&&this._conversationsManager.disable()}isLoaded(){return!ti(this._conversationsManager)}isEnabled(){return this.ve===!0}}var D1=It("[RateLimiter]");class D8{constructor(e){var n,r;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=a=>{var o=a.text;if(o&&o.length)try{(JSON.parse(o).quota_limited||[]).forEach((u=>{D1.info((u||"events")+" is quota limited."),this.serverLimits[u]=new Date().getTime()+6e4}))}catch(u){return void D1.warn('could not rate limit - continuing. Error: "'+(u==null?void 0:u.message)+'"',{text:o})}},this.instance=e,this.captureEventsPerSecond=((n=e.config.rate_limiting)==null?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=e.config.rate_limiting)==null?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(e){var n,r,a;e===void 0&&(e=!1);var o=new Date().getTime(),u=(n=(r=this.instance.persistence)==null?void 0:r.get_property(Kv))!==null&&n!==void 0?n:{tokens:this.captureEventsBurstLimit,last:o};u.tokens+=(o-u.last)/1e3*this.captureEventsPerSecond,u.last=o,u.tokens>this.captureEventsBurstLimit&&(u.tokens=this.captureEventsBurstLimit);var d=u.tokens<1;return d||e||(u.tokens=Math.max(0,u.tokens-1)),!d||this.lastEventRateLimited||e||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=d,(a=this.instance.persistence)==null||a.set_property(Kv,u),{isRateLimited:d,remainingTokens:u.tokens}}isServerRateLimited(e){var n=this.serverLimits[e||"events"]||!1;return n!==!1&&new Date().getTime()<n}}var sa=It("[RemoteConfig]");class N8{constructor(e){this._instance=e}get remoteConfig(){var e;return(e=Se._POSTHOG_REMOTE_CONFIG)==null||(e=e[this._instance.config.token])==null?void 0:e.config}pe(e){var n,r;(n=Se.__PosthogExtensions__)!=null&&n.loadExternalDependency?(r=Se.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"remote-config",(()=>e(this.remoteConfig))):(sa.error("PostHog Extensions not found. Cannot load remote config."),e())}ge(e){this._instance._send_request({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:n=>{e(n.json)}})}load(){try{if(this.remoteConfig)return sa.info("Using preloaded remote config",this.remoteConfig),void this.ci(this.remoteConfig);if(this._instance.O())return void sa.warn("Remote config is disabled. Falling back to local config.");this.pe((e=>{if(!e)return sa.info("No config found after loading remote JS config. Falling back to JSON."),void this.ge((n=>{this.ci(n)}));this.ci(e)}))}catch(e){sa.error("Error loading remote config",e)}}ci(e){e?this._instance.config.__preview_remote_config?(this._instance.ci(e),e.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):sa.info("__preview_remote_config is disabled. Logging config instead",e):sa.error("Failed to fetch remote config from PostHog.")}}var a_=3e3;class L8{constructor(e,n){this._e=!0,this.me=[],this.ye=Vr((n==null?void 0:n.flush_interval_ms)||a_,250,5e3,de.createLogger("flush interval"),a_),this.be=e}enqueue(e){this.me.push(e),this.we||this.xe()}unload(){this.Ee();var e=this.me.length>0?this.Se():{},n=Object.values(e);[...n.filter((r=>r.url.indexOf("/e")===0)),...n.filter((r=>r.url.indexOf("/e")!==0))].map((r=>{this.be(he({},r,{transport:"sendBeacon"}))}))}enable(){this._e=!1,this.xe()}xe(){var e=this;this._e||(this.we=setTimeout((()=>{if(this.Ee(),this.me.length>0){var n=this.Se(),r=function(){var o=n[a],u=new Date().getTime();o.data&&et(o.data)&&ht(o.data,(d=>{d.offset=Math.abs(d.timestamp-u),delete d.timestamp})),e.be(o)};for(var a in n)r()}}),this.ye))}Ee(){clearTimeout(this.we),this.we=void 0}Se(){var e={};return ht(this.me,(n=>{var r,a=n,o=(a?a.batchKey:null)||a.url;oe(e[o])&&(e[o]=he({},a,{data:[]})),(r=e[o].data)==null||r.push(a.data)})),this.me=[],e}}var P8=["retriesPerformedSoFar"];class U8{constructor(e){this.$e=!1,this.ke=3e3,this.me=[],this._instance=e,this.me=[],this.Pe=!0,!oe(B)&&"onLine"in B.navigator&&(this.Pe=B.navigator.onLine,this.Te=()=>{this.Pe=!0,this.Dt()},this.Ce=()=>{this.Pe=!1},$t(B,"online",this.Te),$t(B,"offline",this.Ce))}get length(){return this.me.length}retriableRequest(e){var{retriesPerformedSoFar:n}=e,r=aC(e,P8);Jr(n)&&n>0&&(r.url=oh(r.url,{retry_count:n})),this._instance._send_request(he({},r,{callback:a=>{a.statusCode!==200&&(a.statusCode<400||a.statusCode>=500)&&(n??0)<10?this.Re(he({retriesPerformedSoFar:n},r)):r.callback==null||r.callback(a)}}))}Re(e){var n=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=n+1;var r=(function(u){var d=3e3*Math.pow(2,u),f=d/2,h=Math.min(18e5,d),g=(Math.random()-.5)*(h-f);return Math.ceil(h+g)})(n),a=Date.now()+r;this.me.push({retryAt:a,requestOptions:e});var o="Enqueued failed request for retry in "+r;navigator.onLine||(o+=" (Browser is offline)"),de.warn(o),this.$e||(this.$e=!0,this.Ie())}Ie(){if(this.Fe&&clearTimeout(this.Fe),this.me.length===0)return this.$e=!1,void(this.Fe=void 0);this.Fe=setTimeout((()=>{this.Pe&&this.me.length>0&&this.Dt(),this.Ie()}),this.ke)}Dt(){var e=Date.now(),n=[],r=this.me.filter((o=>o.retryAt<e||(n.push(o),!1)));if(this.me=n,r.length>0)for(var{requestOptions:a}of r)this.retriableRequest(a)}unload(){for(var{requestOptions:e}of(this.Fe&&(clearTimeout(this.Fe),this.Fe=void 0),this.$e=!1,oe(B)||(this.Te&&(B.removeEventListener("online",this.Te),this.Te=void 0),this.Ce&&(B.removeEventListener("offline",this.Ce),this.Ce=void 0)),this.me))try{this._instance._send_request(he({},e,{transport:"sendBeacon"}))}catch(n){de.error(n)}this.me=[]}}class $8{constructor(e){this.Me=()=>{var n,r,a,o;this.Oe||(this.Oe={});var u=this.scrollElement(),d=this.scrollY(),f=u?Math.max(0,u.scrollHeight-u.clientHeight):0,h=d+((u==null?void 0:u.clientHeight)||0),g=(u==null?void 0:u.scrollHeight)||0;this.Oe.lastScrollY=Math.ceil(d),this.Oe.maxScrollY=Math.max(d,(n=this.Oe.maxScrollY)!==null&&n!==void 0?n:0),this.Oe.maxScrollHeight=Math.max(f,(r=this.Oe.maxScrollHeight)!==null&&r!==void 0?r:0),this.Oe.lastContentY=h,this.Oe.maxContentY=Math.max(h,(a=this.Oe.maxContentY)!==null&&a!==void 0?a:0),this.Oe.maxContentHeight=Math.max(g,(o=this.Oe.maxContentHeight)!==null&&o!==void 0?o:0)},this._instance=e}getContext(){return this.Oe}resetContext(){var e=this.Oe;return setTimeout(this.Me,0),e}startMeasuringScrollPosition(){$t(B,"scroll",this.Me,{capture:!0}),$t(B,"scrollend",this.Me,{capture:!0}),$t(B,"resize",this.Me)}scrollElement(){if(!this._instance.config.scroll_root_selector)return B==null?void 0:B.document.documentElement;var e=et(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var n of e){var r=B==null?void 0:B.document.querySelector(n);if(r)return r}}scrollY(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return B&&(B.scrollY||B.pageYOffset||B.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return B&&(B.scrollX||B.pageXOffset||B.document.documentElement.scrollLeft)||0}}var z8=t=>tk(t==null?void 0:t.config.mask_personal_data_properties,t==null?void 0:t.config.custom_personal_data_properties);class N1{constructor(e,n,r,a){this.Ae=o=>{var u=this.De();if(!u||u.sessionId!==o){var d={sessionId:o,props:this.je(this._instance)};this.Le.register({[Xv]:d})}},this._instance=e,this.Ne=n,this.Le=r,this.je=a||z8,this.Ne.onSessionId(this.Ae)}De(){return this.Le.props[Xv]}getSetOnceProps(){var e,n=(e=this.De())==null?void 0:e.props;return n?"r"in n?nk(n):{$referring_domain:n.referringDomain,$pathname:n.initialPathName,utm_source:n.utm_source,utm_campaign:n.utm_campaign,utm_medium:n.utm_medium,utm_content:n.utm_content,utm_term:n.utm_term}:{}}getSessionProps(){var e={};return ht(by(this.getSetOnceProps()),((n,r)=>{r==="$current_url"&&(r="url"),e["$session_entry_"+jv(r)]=n})),e}}var Vg=It("[SessionId]");class L1{on(e,n){return this.Ue.on(e,n)}constructor(e,n,r){var a;if(this.ze=[],this.He=void 0,this.Ue=new Oy,this.Be=(g,v)=>Math.abs(g-v)>this.sessionTimeoutMs,!e.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(e.config.cookieless_mode==="always")throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.I=e.config,this.Le=e.persistence,this.qe=void 0,this.We=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Ge=n||Es,this.Ve=r||Es;var o=this.I.persistence_name||this.I.token,u=this.I.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Vr(u,60,36e3,Vg.createLogger("session_idle_timeout_seconds"),1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Je(),this.Ke="ph_"+o+"_window_id",this.Ye="ph_"+o+"_primary_window_exists",this.Xe()){var d=tn.W(this.Ke),f=tn.W(this.Ye);d&&!f?this.qe=d:tn.V(this.Ke),tn.G(this.Ye,!0)}if((a=this.I.bootstrap)!=null&&a.sessionID)try{var h=(g=>{var v=g.replace(/-/g,"");if(v.length!==32)throw new Error("Not a valid UUID");if(v[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(v.substring(0,12),16)})(this.I.bootstrap.sessionID);this.Qe(this.I.bootstrap.sessionID,new Date().getTime(),h)}catch(g){Vg.error("Invalid sessionID in bootstrap",g)}this.Ze()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return oe(this.ze)&&(this.ze=[]),this.ze.push(e),this.We&&e(this.We,this.qe),()=>{this.ze=this.ze.filter((n=>n!==e))}}Xe(){return this.I.persistence!=="memory"&&!this.Le.bi&&tn.H()}tr(e){e!==this.qe&&(this.qe=e,this.Xe()&&tn.G(this.Ke,e))}ir(){return this.qe?this.qe:this.Xe()?tn.W(this.Ke):null}Qe(e,n,r){e===this.We&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this.We=e,this.Le.register({[Wf]:[n,e,r]}))}er(){var e=this.Le.props[Wf];return et(e)&&e.length===2&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this.Qe(null,null,null)}destroy(){clearTimeout(this.rr),this.rr=void 0,this.He&&B&&(B.removeEventListener("beforeunload",this.He,{capture:!1}),this.He=void 0),this.ze=[]}Ze(){this.He=()=>{this.Xe()&&tn.V(this.Ye)},$t(B,"beforeunload",this.He,{capture:!1})}checkAndGetSessionAndWindowId(e,n){if(e===void 0&&(e=!1),n===void 0&&(n=null),this.I.cookieless_mode==="always")throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var r=n||new Date().getTime(),[a,o,u]=this.er(),d=this.ir(),f=Jr(u)&&u>0&&Math.abs(r-u)>864e5,h=!1,g=!o,v=!g&&!e&&this.Be(r,a);g||v||f?(o=this.Ge(),d=this.Ve(),Vg.info("new session ID generated",{sessionId:o,windowId:d,changeReason:{noSessionId:g,activityTimeout:v,sessionPastMaximumLength:f}}),u=r,h=!0):d||(d=this.Ve(),h=!0);var _=a===0||!e||f?r:a,b=u===0?new Date().getTime():u;return this.tr(d),this.Qe(o,_,b),e||this.Je(),h&&this.ze.forEach((S=>S(o,d,h?{noSessionId:g,activityTimeout:v,sessionPastMaximumLength:f}:void 0))),{sessionId:o,windowId:d,sessionStartTimestamp:b,changeReason:h?{noSessionId:g,activityTimeout:v,sessionPastMaximumLength:f}:void 0,lastActivityTimestamp:a}}Je(){clearTimeout(this.rr),this.rr=setTimeout((()=>{var[e]=this.er();if(this.Be(new Date().getTime(),e)){var n=this.We;this.resetSessionId(),this.Ue.emit("forcedIdleReset",{idleSessionId:n})}}),1.1*this.sessionTimeoutMs)}}var j8=["$set_once","$set"],ms=It("[SiteApps]");class H8{constructor(e){this._instance=e,this.sr=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}nr(e,n){if(n){var r=this.globalsForEvent(n);this.sr.push(r),this.sr.length>1e3&&(this.sr=this.sr.slice(10))}}get siteAppLoaders(){var e;return(e=Se._POSTHOG_REMOTE_CONFIG)==null||(e=e[this._instance.config.token])==null?void 0:e.siteApps}init(){if(this.isEnabled){var e=this._instance.Ni(this.nr.bind(this));this.ar=()=>{e(),this.sr=[],this.ar=void 0}}}globalsForEvent(e){var n,r,a,o,u,d,f;if(!e)throw new Error("Event payload is required");var h={},g=this._instance.get_property("$groups")||[],v=this._instance.get_property("$stored_group_properties")||{};for(var[_,b]of Object.entries(v))h[_]={id:g[_],type:_,properties:b};var{$set_once:S,$set:w}=e;return{event:he({},aC(e,j8),{properties:he({},e.properties,w?{$set:he({},(n=(r=e.properties)==null?void 0:r.$set)!==null&&n!==void 0?n:{},w)}:{},S?{$set_once:he({},(a=(o=e.properties)==null?void 0:o.$set_once)!==null&&a!==void 0?a:{},S)}:{}),elements_chain:(u=(d=e.properties)==null?void 0:d.$elements_chain)!==null&&u!==void 0?u:"",distinct_id:(f=e.properties)==null?void 0:f.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:h}}setupSiteApp(e){var n=this.apps[e.id],r=()=>{var d;!n.errored&&this.sr.length&&(ms.info("Processing "+this.sr.length+" events for site app with id "+e.id),this.sr.forEach((f=>n.processEvent==null?void 0:n.processEvent(f))),n.processedBuffer=!0),Object.values(this.apps).every((f=>f.processedBuffer||f.errored))&&((d=this.ar)==null||d.call(this))},a=!1,o=d=>{n.errored=!d,n.loaded=!0,ms.info("Site app with id "+e.id+" "+(d?"loaded":"errored")),a&&r()};try{var{processEvent:u}=e.init({posthog:this._instance,callback:d=>{o(d)}});u&&(n.processEvent=u),a=!0}catch(d){ms.error("Error while initializing PostHog app with config id "+e.id,d),o(!1)}if(a&&n.loaded)try{r()}catch(d){ms.error("Error while processing buffered events PostHog app with config id "+e.id,d),n.errored=!0}}lr(){var e=this.siteAppLoaders||[];for(var n of e)this.apps[n.id]={id:n.id,loaded:!1,errored:!1,processedBuffer:!1};for(var r of e)this.setupSiteApp(r)}ur(e){if(Object.keys(this.apps).length!==0){var n=this.globalsForEvent(e);for(var r of Object.values(this.apps))try{r.processEvent==null||r.processEvent(n)}catch(a){ms.error("Error while processing event "+e.event+" for site app "+r.id,a)}}}onRemoteConfig(e){var n,r,a,o=this;if((n=this.siteAppLoaders)!=null&&n.length)return this.isEnabled?(this.lr(),void this._instance.on("eventCaptured",(h=>this.ur(h)))):void ms.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((r=this.ar)==null||r.call(this),(a=e.siteApps)!=null&&a.length)if(this.isEnabled){var u=function(h){var g;Se["__$$ph_site_app_"+h]=o._instance,(g=Se.__PosthogExtensions__)==null||g.loadSiteApp==null||g.loadSiteApp(o._instance,f,(v=>{if(v)return ms.error("Error while initializing PostHog app with config id "+h,v)}))};for(var{id:d,url:f}of e.siteApps)u(d)}else ms.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var fk=function(t,e){if(!t)return!1;var n=t.userAgent;if(n&&VT(n,e))return!0;try{var r=t==null?void 0:t.userAgentData;if(r!=null&&r.brands&&r.brands.some((a=>VT(a==null?void 0:a.brand,e))))return!0}catch{}return!!t.webdriver},$u=(function(t){return t.US="us",t.EU="eu",t.CUSTOM="custom",t})({}),P1="i.posthog.com";class B8{constructor(e){this.hr={},this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\/$/,"");return e==="https://app.posthog.com"?"https://us.i.posthog.com":e}get flagsApiHost(){var e=this.instance.config.flags_api_host;return e?e.trim().replace(/\/$/,""):this.apiHost}get uiHost(){var e,n=(e=this.instance.config.ui_host)==null?void 0:e.replace(/\/$/,"");return n||(n=this.apiHost.replace("."+P1,".posthog.com")),n==="https://app.posthog.com"?"https://us.posthog.com":n}get region(){return this.hr[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.hr[this.apiHost]=$u.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.hr[this.apiHost]=$u.EU:this.hr[this.apiHost]=$u.CUSTOM),this.hr[this.apiHost]}endpointFor(e,n){if(n===void 0&&(n=""),n&&(n=n[0]==="/"?n:"/"+n),e==="ui")return this.uiHost+n;if(e==="flags")return this.flagsApiHost+n;if(this.region===$u.CUSTOM)return this.apiHost+n;var r=P1+n;switch(e){case"assets":return"https://"+this.region+"-assets."+r;case"api":return"https://"+this.region+"."+r}}}var F8={icontains:(t,e)=>!!B&&e.href.toLowerCase().indexOf(t.toLowerCase())>-1,not_icontains:(t,e)=>!!B&&e.href.toLowerCase().indexOf(t.toLowerCase())===-1,regex:(t,e)=>!!B&&lh(e.href,t),not_regex:(t,e)=>!!B&&!lh(e.href,t),exact:(t,e)=>e.href===t,is_not:(t,e)=>e.href!==t};class ln{constructor(e){var n=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(r){r===void 0&&(r=!1),n.getWebExperiments((a=>{ln.dr("retrieved web experiments from the server"),n.vr=new Map,a.forEach((o=>{if(o.feature_flag_key){var u;n.vr&&(ln.dr("setting flag key ",o.feature_flag_key," to web experiment ",o),(u=n.vr)==null||u.set(o.feature_flag_key,o));var d=n._instance.getFeatureFlag(o.feature_flag_key);Ht(d)&&o.variants[d]&&n.cr(o.name,d,o.variants[d].transforms)}else if(o.variants)for(var f in o.variants){var h=o.variants[f];ln.pr(h)&&n.cr(o.name,f,h.transforms)}}))}),r)},this._instance=e,this._instance.onFeatureFlags((r=>{this.onFeatureFlags(r)}))}onFeatureFlags(e){if(this._is_bot())ln.dr("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(Ze(this.vr))return this.vr=new Map,this.loadIfEnabled(),void this.previewWebExperiment();ln.dr("applying feature flags",e),e.forEach((n=>{var r;if(this.vr&&(r=this.vr)!=null&&r.has(n)){var a,o=this._instance.getFeatureFlag(n),u=(a=this.vr)==null?void 0:a.get(n);o&&u!=null&&u.variants[o]&&this.cr(u.name,o,u.variants[o].transforms)}}))}}previewWebExperiment(){var e=ln.getWindowLocation();if(e!=null&&e.search){var n=nh(e==null?void 0:e.search,"__experiment_id"),r=nh(e==null?void 0:e.search,"__experiment_variant");n&&r&&(ln.dr("previewing web experiments "+n+" && "+r),this.getWebExperiments((a=>{this.gr(parseInt(n),r,a)}),!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,n,r){if(this._instance.config.disable_web_experiments&&!r)return e([]);var a=this._instance.get_property("$web_experiments");if(a&&!n)return e(a);this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:o=>{if(o.statusCode!==200||!o.json)return e([]);var u=o.json.experiments||[];return e(u)}})}gr(e,n,r){var a=r.filter((o=>o.id===e));a&&a.length>0&&(ln.dr("Previewing web experiment ["+a[0].name+"] with variant ["+n+"]"),this.cr(a[0].name,n,a[0].variants[n].transforms))}static pr(e){return!Ze(e.conditions)&&ln._r(e)&&ln.mr(e)}static _r(e){var n;if(Ze(e.conditions)||Ze((n=e.conditions)==null?void 0:n.url))return!0;var r,a,o,u=ln.getWindowLocation();return!!u&&((r=e.conditions)==null||!r.url||F8[(a=(o=e.conditions)==null?void 0:o.urlMatchType)!==null&&a!==void 0?a:"icontains"](e.conditions.url,u))}static getWindowLocation(){return B==null?void 0:B.location}static mr(e){var n;if(Ze(e.conditions)||Ze((n=e.conditions)==null?void 0:n.utm))return!0;var r=JC();if(r.utm_source){var a,o,u,d,f,h,g,v,_=(a=e.conditions)==null||(a=a.utm)==null||!a.utm_campaign||((o=e.conditions)==null||(o=o.utm)==null?void 0:o.utm_campaign)==r.utm_campaign,b=(u=e.conditions)==null||(u=u.utm)==null||!u.utm_source||((d=e.conditions)==null||(d=d.utm)==null?void 0:d.utm_source)==r.utm_source,S=(f=e.conditions)==null||(f=f.utm)==null||!f.utm_medium||((h=e.conditions)==null||(h=h.utm)==null?void 0:h.utm_medium)==r.utm_medium,w=(g=e.conditions)==null||(g=g.utm)==null||!g.utm_term||((v=e.conditions)==null||(v=v.utm)==null?void 0:v.utm_term)==r.utm_term;return _&&S&&w&&b}return!1}static dr(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];de.info("[WebExperiments] "+e,r)}cr(e,n,r){this._is_bot()?ln.dr("Refusing to render web experiment since the viewer is a likely bot"):n!=="control"?r.forEach((a=>{if(a.selector){var o;ln.dr("applying transform of variant "+n+" for experiment "+e+" ",a);var u=(o=document)==null?void 0:o.querySelectorAll(a.selector);u==null||u.forEach((d=>{var f=d;a.html&&(f.innerHTML=a.html),a.css&&f.setAttribute("style",a.css)}))}})):ln.dr("Control variants leave the page unmodified.")}_is_bot(){return Wn&&this._instance?fk(Wn,this._instance.config.custom_blocked_useragents):void 0}}var q8=It("[PostHog ExternalIntegrations]"),G8={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class Y8{constructor(e){this._instance=e}it(e,n){var r;(r=Se.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,e,(a=>{if(a)return q8.error("failed to load script",a);n()}))}startIfEnabledOrStop(){var e=this,n=function(u){var d,f,h;!a||(d=Se.__PosthogExtensions__)!=null&&(d=d.integrations)!=null&&d[u]||e.it(G8[u],(()=>{var g;(g=Se.__PosthogExtensions__)==null||(g=g.integrations)==null||(g=g[u])==null||g.start(e._instance)})),!a&&(f=Se.__PosthogExtensions__)!=null&&(f=f.integrations)!=null&&f[u]&&((h=Se.__PosthogExtensions__)==null||(h=h.integrations)==null||(h=h[u])==null||h.stop())};for(var[r,a]of Object.entries((o=this._instance.config.integrations)!==null&&o!==void 0?o:{})){var o;n(r)}}}var o_="[SessionRecording]",ku=It(o_);class U1{get started(){var e;return!((e=this.yr)==null||!e.isStarted)}get status(){return this.yr?this.yr.status:this.br&&!this.wr?"disabled":"lazy_loading"}constructor(e){if(this._forceAllowLocalhostNetworkCapture=!1,this.br=!1,this.Er=void 0,this._instance=e,!this._instance.sessionManager)throw ku.error("started without valid sessionManager"),new Error(o_+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error(o_+' cannot be used with cookieless_mode="always"')}get wr(){var e,n=!((e=this._instance.get_property(Dg))==null||!e.enabled),r=!this._instance.config.disable_session_recording,a=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return B&&n&&r&&!a}startIfEnabledOrStop(e){var n;if(!this.wr||(n=this.yr)==null||!n.isStarted){var r=!oe(Object.assign)&&!oe(Array.from);this.wr&&r?(this.Sr(e),ku.info("starting")):this.stopRecording()}}Sr(e){var n,r,a;this.wr&&(Se!=null&&(n=Se.__PosthogExtensions__)!=null&&(n=n.rrweb)!=null&&n.record&&(r=Se.__PosthogExtensions__)!=null&&r.initSessionRecording?this.$r(e):(a=Se.__PosthogExtensions__)==null||a.loadExternalDependency==null||a.loadExternalDependency(this._instance,this.kr,(o=>{if(o)return ku.error("could not load recorder",o);this.$r(e)})))}stopRecording(){var e,n;(e=this.Er)==null||e.call(this),this.Er=void 0,(n=this.yr)==null||n.stop()}Pr(){var e;(e=this._instance.persistence)==null||e.unregister(gC)}Tr(e){if(this._instance.persistence){var n,r,a=this._instance.persistence,o=()=>{var u=e.sessionRecording===!1?void 0:e.sessionRecording,d=u==null?void 0:u.sampleRate,f=Ze(d)?null:parseFloat(d);Ze(f)&&this.Pr();var h=u==null?void 0:u.minimumDurationMilliseconds;a.register({[Dg]:he({enabled:!!u},u,{networkPayloadCapture:he({capturePerformance:e.capturePerformance},u==null?void 0:u.networkPayloadCapture),canvasRecording:{enabled:u==null?void 0:u.recordCanvas,fps:u==null?void 0:u.canvasFps,quality:u==null?void 0:u.canvasQuality},sampleRate:f,minimumDurationMilliseconds:oe(h)?null:h,endpoint:u==null?void 0:u.endpoint,triggerMatchType:u==null?void 0:u.triggerMatchType,masking:u==null?void 0:u.masking,urlTriggers:u==null?void 0:u.urlTriggers})})};o(),(n=this.Er)==null||n.call(this),this.Er=(r=this._instance.sessionManager)==null?void 0:r.onSessionId(o)}}onRemoteConfig(e){"sessionRecording"in e?e.sessionRecording!==!1?(this.Tr(e),this.br=!0,this.startIfEnabledOrStop()):this.br=!0:ku.info("skipping remote config with no sessionRecording",e)}log(e,n){var r;n===void 0&&(n="log"),(r=this.yr)!=null&&r.log?this.yr.log(e,n):ku.warn("log called before recorder was ready")}get kr(){var e,n,r=(e=this._instance)==null||(e=e.persistence)==null?void 0:e.get_property(Dg);return(r==null||(n=r.scriptConfig)==null?void 0:n.script)||"lazy-recorder"}$r(e){var n,r;if((n=Se.__PosthogExtensions__)==null||!n.initSessionRecording)throw Error("Called on script loaded before session recording is available");this.yr||(this.yr=(r=Se.__PosthogExtensions__)==null?void 0:r.initSessionRecording(this._instance),this.yr._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture),this.yr.start(e)}onRRwebEmit(e){var n;(n=this.yr)==null||n.onRRwebEmit==null||n.onRRwebEmit(e)}overrideLinkedFlag(){var e,n;this.yr||(n=this._instance.persistence)==null||n.register({$replay_override_linked_flag:!0}),(e=this.yr)==null||e.overrideLinkedFlag()}overrideSampling(){var e,n;this.yr||(n=this._instance.persistence)==null||n.register({$replay_override_sampling:!0}),(e=this.yr)==null||e.overrideSampling()}overrideTrigger(e){var n,r;this.yr||(r=this._instance.persistence)==null||r.register({[e==="url"?"$replay_override_url_trigger":"$replay_override_event_trigger"]:!0}),(n=this.yr)==null||n.overrideTrigger(e)}get sdkDebugProperties(){var e;return((e=this.yr)==null?void 0:e.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(e,n){var r;return!((r=this.yr)==null||!r.tryAddCustomEvent(e,n))}}var Yu={},l_=()=>{},Mo="posthog",hk=!y8&&(Nn==null?void 0:Nn.indexOf("MSIE"))===-1&&(Nn==null?void 0:Nn.indexOf("Mozilla"))===-1,$1=t=>{var e;return he({api_host:"https://us.i.posthog.com",flags_api_host:null,ui_host:null,token:"",autocapture:!0,cross_subdomain_cookie:h6(ue==null?void 0:ue.location),persistence:"localStorage+cookie",persistence_name:"",loaded:l_,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageleave:"if_capture_pageview",defaults:t??"unset",__preview_deferred_init_extensions:!1,debug:Ln&&Ht(Ln==null?void 0:Ln.search)&&Ln.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_conversations:!1,disable_product_tours:!0,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(B==null||(e=B.location)==null?void 0:e.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:n=>{var r="Bad HTTP status: "+n.statusCode+" "+n.text;de.error(r)},get_device_id:n=>n,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:a_},error_tracking:{},_onCapture:l_,__preview_eager_load_replay:!1},(n=>({rageclick:!(n&&n>="2025-11-30")||{content_ignorelist:!0},capture_pageview:!(n&&n>="2025-05-24")||"history_change",session_recording:n&&n>="2025-11-30"?{strictMinimumDuration:!0}:{}}))(t))},z1=t=>{var e={};oe(t.process_person)||(e.person_profiles=t.process_person),oe(t.xhr_headers)||(e.request_headers=t.xhr_headers),oe(t.cookie_name)||(e.persistence_name=t.cookie_name),oe(t.disable_cookie)||(e.disable_persistence=t.disable_cookie),oe(t.store_google)||(e.save_campaign_params=t.store_google),oe(t.verbose)||(e.debug=t.verbose);var n=Mt({},e,t);return et(t.property_blacklist)&&(oe(t.property_denylist)?n.property_denylist=t.property_blacklist:et(t.property_denylist)?n.property_denylist=[...t.property_blacklist,...t.property_denylist]:de.error("Invalid value for property_denylist config: "+t.property_denylist)),n};class V8{constructor(){this.__forceAllowLocalhost=!1}get Cr(){return this.__forceAllowLocalhost}set Cr(e){de.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}class Ih{get decideEndpointWasHit(){var e,n;return(e=(n=this.featureFlags)==null?void 0:n.hasLoadedFlags)!==null&&e!==void 0&&e}get flagsEndpointWasHit(){var e,n;return(e=(n=this.featureFlags)==null?void 0:n.hasLoadedFlags)!==null&&e!==void 0&&e}constructor(){this.webPerformance=new V8,this.Rr=!1,this.version=xi.LIB_VERSION,this.Ir=new Oy,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=$1(),this.SentryIntegration=B6,this.sentryIntegration=e=>(function(n,r){var a=NC(n,r);return{name:DC,processEvent:o=>a(o)}})(this,e),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.Fr=!1,this.Mr=null,this.Or=null,this.Ar=null,this.featureFlags=new w8(this),this.toolbar=new q6(this),this.scrollManager=new $8(this),this.pageViewManager=new c8(this),this.surveys=new M8(this),this.conversations=new I8(this),this.productTours=new x8(this),this.experiments=new ln(this),this.exceptions=new b8(this),this.rateLimiter=new D8(this),this.requestRouter=new B8(this),this.consent=new P6(this),this.externalIntegrations=new Y8(this),this.people={set:(e,n,r)=>{var a=Ht(e)?{[e]:n}:e;this.setPersonProperties(a),r==null||r({})},set_once:(e,n,r)=>{var a=Ht(e)?{[e]:n}:e;this.setPersonProperties(void 0,a),r==null||r({})}},this.on("eventCaptured",(e=>de.info('send "'+(e==null?void 0:e.event)+'"',e)))}init(e,n,r){if(r&&r!==Mo){var a,o=(a=Yu[r])!==null&&a!==void 0?a:new Ih;return o._init(e,n,r),Yu[r]=o,Yu[Mo][r]=o,o}return this._init(e,n,r)}_init(e,n,r){var a;if(n===void 0&&(n={}),oe(e)||Hv(e))return de.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return console.warn("[PostHog.js]","You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},n.debug=this.Dr(n.debug),this.jr=n,this.Lr=[],n.person_profiles&&(this.Or=n.person_profiles),this.set_config(Mt({},$1(n.defaults),z1(n),{name:r,token:e})),this.config.on_xhr_error&&de.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=n.disable_compression?void 0:Ci.GZipJS;var o=this.Nr();this.persistence=new qg(this.config,o),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new qg(he({},this.config,{persistence:"sessionStorage"}),o);var u=he({},this.persistence.props),d=he({},this.sessionPersistence.props);this.register({$initialization_time:new Date().toISOString()}),this.Ur=new L8((I=>this.zr(I)),this.config.request_queue_config),this.Hr=new U8(this),this.__request_queue=[];var f=this.config.cookieless_mode==="always"||this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut();if(f||(this.sessionManager=new L1(this),this.sessionPropsManager=new N1(this,this.sessionManager,this.persistence)),this.config.__preview_deferred_init_extensions?(de.info("Deferring extension initialization to improve startup performance"),setTimeout((()=>{this.Br(f)}),0)):(de.info("Initializing extensions synchronously"),this.Br(f)),xi.DEBUG=xi.DEBUG||this.config.debug,xi.DEBUG&&de.info("Starting in debug mode",{this:this,config:n,thisC:he({},this.config),p:u,s:d}),((a=n.bootstrap)==null?void 0:a.distinctID)!==void 0){var h,g,v=this.config.get_device_id(Es()),_=(h=n.bootstrap)!=null&&h.isIdentifiedID?v:n.bootstrap.distinctID;this.persistence.set_property(Ri,(g=n.bootstrap)!=null&&g.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:n.bootstrap.distinctID,$device_id:_})}if(this.qr()){var b,S,w=Object.keys(((b=n.bootstrap)==null?void 0:b.featureFlags)||{}).filter((I=>{var D;return!((D=n.bootstrap)==null||(D=D.featureFlags)==null||!D[I])})).reduce(((I,D)=>{var q;return I[D]=((q=n.bootstrap)==null||(q=q.featureFlags)==null?void 0:q[D])||!1,I}),{}),T=Object.keys(((S=n.bootstrap)==null?void 0:S.featureFlagPayloads)||{}).filter((I=>w[I])).reduce(((I,D)=>{var q,ee;return(q=n.bootstrap)!=null&&(q=q.featureFlagPayloads)!=null&&q[D]&&(I[D]=(ee=n.bootstrap)==null||(ee=ee.featureFlagPayloads)==null?void 0:ee[D]),I}),{});this.featureFlags.receivedFeatureFlags({featureFlags:w,featureFlagPayloads:T})}if(f)this.register_once({distinct_id:bu,$device_id:null},"");else if(!this.get_distinct_id()){var x=this.config.get_device_id(Es());this.register_once({distinct_id:x,$device_id:x},""),this.persistence.set_property(Ri,"anonymous")}return $t(B,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),n.segment?H6(this,(()=>this.Wr())):this.Wr(),Ts(this.config._onCapture)&&this.config._onCapture!==l_&&(de.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",(I=>this.config._onCapture(I.event,I)))),this.config.ip&&de.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Br(e){var n=performance.now();this.historyAutocapture=new j6(this),this.historyAutocapture.startIfEnabled();var r=[];r.push((()=>{new Y6(this).startIfEnabledOrStop()})),r.push((()=>{var a;this.siteApps=new H8(this),(a=this.siteApps)==null||a.init()})),e||r.push((()=>{this.sessionRecording=new U1(this),this.sessionRecording.startIfEnabledOrStop()})),this.config.disable_scroll_properties||r.push((()=>{this.scrollManager.startMeasuringScrollPosition()})),r.push((()=>{this.autocapture=new C6(this),this.autocapture.startIfEnabled()})),r.push((()=>{this.surveys.loadIfEnabled()})),r.push((()=>{this.conversations.loadIfEnabled()})),r.push((()=>{this.productTours.loadIfEnabled()})),r.push((()=>{this.heatmaps=new u8(this),this.heatmaps.startIfEnabled()})),r.push((()=>{this.webVitalsAutocapture=new o8(this)})),r.push((()=>{this.exceptionObserver=new z6(this),this.exceptionObserver.startIfEnabled()})),r.push((()=>{this.deadClicksAutocapture=new IC(this,$6),this.deadClicksAutocapture.startIfEnabled()})),r.push((()=>{if(this.Gr){var a=this.Gr;this.Gr=void 0,this.ci(a)}})),this.Vr(r,n)}Vr(e,n){for(;e.length>0;){if(this.config.__preview_deferred_init_extensions&&performance.now()-n>=30&&e.length>0)return void setTimeout((()=>{this.Vr(e,n)}),0);var r=e.shift();if(r)try{r()}catch(o){de.error("Error initializing extension:",o)}}var a=Math.round(performance.now()-n);this.register_for_session({$sdk_debug_extensions_init_method:this.config.__preview_deferred_init_extensions?"deferred":"synchronous",$sdk_debug_extensions_init_time_ms:a}),this.config.__preview_deferred_init_extensions&&de.info("PostHog extensions initialized ("+a+"ms)")}ci(e){var n,r,a,o,u,d,f,h;if(!ue||!ue.body)return de.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout((()=>{this.ci(e)}),500);this.config.__preview_deferred_init_extensions&&(this.Gr=e),this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=Ue(e.supportedCompression,Ci.GZipJS)?Ci.GZipJS:Ue(e.supportedCompression,Ci.Base64)?Ci.Base64:void 0),(n=e.analytics)!=null&&n.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),this.set_config({person_profiles:this.Or?this.Or:"identified_only"}),(r=this.siteApps)==null||r.onRemoteConfig(e),(a=this.sessionRecording)==null||a.onRemoteConfig(e),(o=this.autocapture)==null||o.onRemoteConfig(e),(u=this.heatmaps)==null||u.onRemoteConfig(e),this.surveys.onRemoteConfig(e),this.conversations.onRemoteConfig(e),this.productTours.onRemoteConfig(e),(d=this.webVitalsAutocapture)==null||d.onRemoteConfig(e),(f=this.exceptionObserver)==null||f.onRemoteConfig(e),this.exceptions.onRemoteConfig(e),(h=this.deadClicksAutocapture)==null||h.onRemoteConfig(e)}Wr(){try{this.config.loaded(this)}catch(e){de.critical("`loaded` function failed",e)}this.Jr(),this.config.capture_pageview&&setTimeout((()=>{(this.consent.isOptedIn()||this.config.cookieless_mode==="always")&&this.Kr()}),1),new N8(this).load(),this.featureFlags.flags()}Jr(){var e;this.is_capturing()&&this.config.request_batching&&((e=this.Ur)==null||e.enable())}_dom_loaded(){this.is_capturing()&&xs(this.__request_queue,(e=>this.zr(e))),this.__request_queue=[],this.Jr()}_handle_unload(){var e,n;this.config.request_batching?(this.Yr()&&this.capture("$pageleave"),(e=this.Ur)==null||e.unload(),(n=this.Hr)==null||n.unload()):this.Yr()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}_send_request(e){this.__loaded&&(hk?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=oh(e.url,{ip:this.config.ip?1:0}),e.headers=he({},this.config.request_headers,e.headers),e.compression=e.compression==="best-available"?this.compression:e.compression,e.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(e.disableTransport=["sendBeacon"]),e.fetchOptions=e.fetchOptions||this.config.fetch_options,(n=>{var r,a,o,u=he({},n);u.timeout=u.timeout||6e4,u.url=oh(u.url,{_:new Date().getTime().toString(),ver:xi.LIB_VERSION,compression:u.compression});var d=(r=u.transport)!==null&&r!==void 0?r:"fetch",f=kf.filter((g=>!u.disableTransport||!g.transport||!u.disableTransport.includes(g.transport))),h=(a=(o=hC(f,(g=>g.transport===d)))==null?void 0:o.method)!==null&&a!==void 0?a:f[0].method;if(!h)throw new Error("No available transport method");h(u)})(he({},e,{callback:n=>{var r,a;this.rateLimiter.checkForLimiting(n),n.statusCode>=400&&((r=(a=this.config).on_request_error)==null||r.call(a,n)),e.callback==null||e.callback(n)}}))))}zr(e){this.Hr?this.Hr.retriableRequest(e):this._send_request(e)}_execute_array(e){var n,r=[],a=[],o=[];xs(e,(d=>{d&&(n=d[0],et(n)?o.push(d):Ts(d)?d.call(this):et(d)&&n==="alias"?r.push(d):et(d)&&n.indexOf("capture")!==-1&&Ts(this[n])?o.push(d):a.push(d))}));var u=function(d,f){xs(d,(function(h){if(et(h[0])){var g=f;ht(h,(function(v){g=g[v[0]].apply(g,v.slice(1))}))}else this[h[0]].apply(this,h.slice(1))}),f)};u(r,this),u(a,this),u(o,this)}qr(){var e,n;return((e=this.config.bootstrap)==null?void 0:e.featureFlags)&&Object.keys((n=this.config.bootstrap)==null?void 0:n.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,n,r){var a;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Ur){if(this.is_capturing())if(!oe(e)&&Ht(e)){var o=!this.config.opt_out_useragent_filter&&this._is_bot();if(!(o&&!this.config.__preview_capture_bot_pageviews)){var u=r!=null&&r.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(u==null||!u.isRateLimited){n!=null&&n.$current_url&&!Ht(n==null?void 0:n.$current_url)&&(de.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),n==null||delete n.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var d=new Date,f=(r==null?void 0:r.timestamp)||d,h=Es(),g={uuid:h,event:e,properties:this.calculateEventProperties(e,n||{},f,h)};e==="$pageview"&&this.config.__preview_capture_bot_pageviews&&o&&(g.event="$bot_pageview",g.properties.$browser_type="bot"),u&&(g.properties.$lib_rate_limit_remaining_tokens=u.remainingTokens),r!=null&&r.$set&&(g.$set=r==null?void 0:r.$set);var v,_=e!=="$groupidentify",b=this.Xr(r==null?void 0:r.$set_once,_);if(b&&(g.$set_once=b),(g=d6(g,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=f,oe(r==null?void 0:r.timestamp)||(g.properties.$event_time_override_provided=!0,g.properties.$event_time_override_system_time=d),e===Of.DISMISSED||e===Of.SENT){var S=n==null?void 0:n[M1.SURVEY_ID],w=n==null?void 0:n[M1.SURVEY_ITERATION];v={id:S,current_iteration:w},localStorage.getItem(I1(v))||localStorage.setItem(I1(v),"true"),g.$set=he({},g.$set,{[A8({id:S,current_iteration:w},e===Of.SENT?"responded":"dismissed")]:!0})}var T=he({},g.properties.$set,g.$set);if(Uo(T)||this.setPersonPropertiesForFlags(T),!Ze(this.config.before_send)){var x=this.Qr(g);if(!x)return;g=x}this.Ir.emit("eventCaptured",g);var I={method:"POST",url:(a=r==null?void 0:r._url)!==null&&a!==void 0?a:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:g,compression:"best-available",batchKey:r==null?void 0:r._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this.zr(I):this.Ur.enqueue(I),g}de.critical("This capture call is ignored due to client rate limiting.")}}else de.error("No event name provided to posthog.capture")}else de.uninitializedWarning("posthog.capture")}Ni(e){return this.on("eventCaptured",(n=>e(n.event,n)))}calculateEventProperties(e,n,r,a,o){if(r=r||new Date,!this.persistence||!this.sessionPersistence)return n;var u=o?void 0:this.persistence.remove_event_timer(e),d=he({},n);if(d.token=this.config.token,d.$config_defaults=this.config.defaults,(this.config.cookieless_mode=="always"||this.config.cookieless_mode=="on_reject"&&this.consent.isExplicitlyOptedOut())&&(d.$cookieless_mode=!0),e==="$snapshot"){var f=he({},this.persistence.properties(),this.sessionPersistence.properties());return d.distinct_id=f.distinct_id,(!Ht(d.distinct_id)&&!Jr(d.distinct_id)||Hv(d.distinct_id))&&de.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),d}var h,g=a8(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:v,windowId:_}=this.sessionManager.checkAndGetSessionAndWindowId(o,r.getTime());d.$session_id=v,d.$window_id=_}this.sessionPropsManager&&Mt(d,this.sessionPropsManager.getSessionProps());try{var b;this.sessionRecording&&Mt(d,this.sessionRecording.sdkDebugProperties),d.$sdk_debug_retry_queue_size=(b=this.Hr)==null?void 0:b.length}catch(x){d.$sdk_debug_error_capturing_properties=String(x)}if(this.requestRouter.region===$u.CUSTOM&&(d.$lib_custom_api_host=this.config.api_host),h=e!=="$pageview"||o?e!=="$pageleave"||o?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(r):this.pageViewManager.doPageView(r,a),d=Mt(d,h),e==="$pageview"&&ue&&(d.title=ue.title),!oe(u)){var S=r.getTime()-u;d.$duration=parseFloat((S/1e3).toFixed(3))}Nn&&this.config.opt_out_useragent_filter&&(d.$browser_type=this._is_bot()?"bot":"browser"),(d=Mt({},g,this.persistence.properties(),this.sessionPersistence.properties(),d)).$is_identified=this._isIdentified(),et(this.config.property_denylist)?ht(this.config.property_denylist,(function(x){delete d[x]})):de.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var w=this.config.sanitize_properties;w&&(de.error("sanitize_properties is deprecated. Use before_send instead"),d=w(d,e));var T=this.Zr();return d.$process_person_profile=T,T&&!o&&this.ts("_calculate_event_properties"),d}Xr(e,n){var r;if(n===void 0&&(n=!0),!this.persistence||!this.Zr()||this.Rr)return e;var a=this.persistence.get_initial_props(),o=(r=this.sessionPropsManager)==null?void 0:r.getSetOnceProps(),u=Mt({},a,o||{},e||{}),d=this.config.sanitize_properties;return d&&(de.error("sanitize_properties is deprecated. Use before_send instead"),u=d(u,"$set_once")),n&&(this.Rr=!0),Uo(u)?void 0:u}register(e,n){var r;(r=this.persistence)==null||r.register(e,n)}register_once(e,n,r){var a;(a=this.persistence)==null||a.register_once(e,n,r)}register_for_session(e){var n;(n=this.sessionPersistence)==null||n.register(e)}unregister(e){var n;(n=this.persistence)==null||n.unregister(e)}unregister_for_session(e){var n;(n=this.sessionPersistence)==null||n.unregister(e)}es(e,n){this.register({[e]:n})}getFeatureFlag(e,n){return this.featureFlags.getFeatureFlag(e,n)}getFeatureFlagPayload(e){var n=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(n)}catch{return n}}isFeatureEnabled(e,n){return this.featureFlags.isFeatureEnabled(e,n)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,n,r){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,n,r)}getEarlyAccessFeatures(e,n,r){return n===void 0&&(n=!1),this.featureFlags.getEarlyAccessFeatures(e,n,r)}on(e,n){return this.Ir.on(e,n)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSurveysLoaded(e){return this.surveys.onSurveysLoaded(e)}onSessionId(e){var n,r;return(n=(r=this.sessionManager)==null?void 0:r.onSessionId(e))!==null&&n!==void 0?n:()=>{}}getSurveys(e,n){n===void 0&&(n=!1),this.surveys.getSurveys(e,n)}getActiveMatchingSurveys(e,n){n===void 0&&(n=!1),this.surveys.getActiveMatchingSurveys(e,n)}renderSurvey(e,n){this.surveys.renderSurvey(e,n)}displaySurvey(e,n){n===void 0&&(n=k8),this.surveys.displaySurvey(e,n)}cancelPendingSurvey(e){this.surveys.cancelPendingSurvey(e)}canRenderSurvey(e){return this.surveys.canRenderSurvey(e)}canRenderSurveyAsync(e,n){return n===void 0&&(n=!1),this.surveys.canRenderSurveyAsync(e,n)}identify(e,n,r){if(!this.__loaded||!this.persistence)return de.uninitializedWarning("posthog.identify");if(Jr(e)&&(e=e.toString(),de.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e)if(["distinct_id","distinctid"].includes(e.toLowerCase()))de.critical('The string "'+e+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(e!==bu){if(this.ts("posthog.identify")){var a=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var o=a;this.register_once({$had_persisted_distinct_id:!0,$device_id:o},"")}e!==a&&e!==this.get_property(Iu)&&(this.unregister(Iu),this.register({distinct_id:e}));var u=(this.persistence.get_property(Ri)||"anonymous")==="anonymous";e!==a&&u?(this.persistence.set_property(Ri,"identified"),this.setPersonPropertiesForFlags(he({},r||{},n||{}),!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:a},{$set:n||{},$set_once:r||{}}),this.Ar=R1(e,n,r),this.featureFlags.setAnonymousDistinctId(a)):(n||r)&&this.setPersonProperties(n,r),e!==a&&(this.reloadFeatureFlags(),this.unregister(Jf))}}else de.critical('The string "'+bu+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else de.error("Unique user id has not been set in posthog.identify")}setPersonProperties(e,n){if((e||n)&&this.ts("posthog.setPersonProperties")){var r=R1(this.get_distinct_id(),e,n);this.Ar!==r?(this.setPersonPropertiesForFlags(he({},n||{},e||{})),this.capture("$set",{$set:e||{},$set_once:n||{}}),this.Ar=r):de.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(e,n,r){if(e&&n){var a=this.getGroups();a[e]!==n&&this.resetGroupPropertiesForFlags(e),this.register({$groups:he({},a,{[e]:n})}),r&&(this.capture("$groupidentify",{$group_type:e,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags({[e]:r})),a[e]===n||r||this.reloadFeatureFlags()}else de.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e,n){n===void 0&&(n=!0),this.featureFlags.setPersonPropertiesForFlags(e,n)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e,n){n===void 0&&(n=!0),this.ts("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,n)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){var n,r,a,o;if(de.info("reset"),!this.__loaded)return de.uninitializedWarning("posthog.reset");var u=this.get_property("$device_id");if(this.consent.reset(),(n=this.persistence)==null||n.clear(),(r=this.sessionPersistence)==null||r.clear(),this.surveys.reset(),this.featureFlags.reset(),(a=this.persistence)==null||a.set_property(Ri,"anonymous"),(o=this.sessionManager)==null||o.resetSessionId(),this.Ar=null,this.config.cookieless_mode==="always")this.register_once({distinct_id:bu,$device_id:null},"");else{var d=this.config.get_device_id(Es());this.register_once({distinct_id:d,$device_id:e?d:u},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var e,n;return(e=(n=this.sessionManager)==null?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&e!==void 0?e:""}get_session_replay_url(e){if(!this.sessionManager)return"";var{sessionId:n,sessionStartTimestamp:r}=this.sessionManager.checkAndGetSessionAndWindowId(!0),a=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+n);if(e!=null&&e.withTimestamp&&r){var o,u=(o=e.timestampLookBack)!==null&&o!==void 0?o:10;if(!r)return a;a+="?t="+Math.max(Math.floor((new Date().getTime()-r)/1e3)-u,0)}return a}alias(e,n){return e===this.get_property(pC)?(de.critical("Attempting to create alias for existing People user - aborting."),-2):this.ts("posthog.alias")?(oe(n)&&(n=this.get_distinct_id()),e!==n?(this.es(Iu,e),this.capture("$create_alias",{alias:e,distinct_id:n})):(de.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}set_config(e){var n=he({},this.config);if(Yt(e)){var r,a,o,u,d;Mt(this.config,z1(e));var f=this.Nr();(r=this.persistence)==null||r.update_config(this.config,n,f),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new qg(he({},this.config,{persistence:"sessionStorage"}),f);var h=this.Dr(this.config.debug);Ni(h)&&(this.config.debug=h),Ni(this.config.debug)&&(this.config.debug?(xi.DEBUG=!0,wt.H()&&wt.G("ph_debug","true"),de.info("set_config",{config:e,oldConfig:n,newConfig:he({},this.config)})):(xi.DEBUG=!1,wt.H()&&wt.V("ph_debug"))),(a=this.sessionRecording)==null||a.startIfEnabledOrStop(),(o=this.autocapture)==null||o.startIfEnabled(),(u=this.heatmaps)==null||u.startIfEnabled(),this.surveys.loadIfEnabled(),this.rs(),(d=this.externalIntegrations)==null||d.startIfEnabledOrStop()}}startSessionRecording(e){var n=e===!0,r={sampling:n||!(e==null||!e.sampling),linked_flag:n||!(e==null||!e.linked_flag),url_trigger:n||!(e==null||!e.url_trigger),event_trigger:n||!(e==null||!e.event_trigger)};if(Object.values(r).some(Boolean)){var a,o,u,d,f;(a=this.sessionManager)==null||a.checkAndGetSessionAndWindowId(),r.sampling&&((o=this.sessionRecording)==null||o.overrideSampling()),r.linked_flag&&((u=this.sessionRecording)==null||u.overrideLinkedFlag()),r.url_trigger&&((d=this.sessionRecording)==null||d.overrideTrigger("url")),r.event_trigger&&((f=this.sessionRecording)==null||f.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!((e=this.sessionRecording)==null||!e.started)}captureException(e,n){var r=new Error("PostHog syntheticException"),a=this.exceptions.buildProperties(e,{handled:!0,syntheticException:r});return this.exceptions.sendExceptionEvent(he({},a,n))}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var n;return(n=this.persistence)==null?void 0:n.props[e]}getSessionProperty(e){var n;return(n=this.sessionPersistence)==null?void 0:n.props[e]}toString(){var e,n=(e=this.config.name)!==null&&e!==void 0?e:Mo;return n!==Mo&&(n=Mo+"."+n),n}_isIdentified(){var e,n;return((e=this.persistence)==null?void 0:e.get_property(Ri))==="identified"||((n=this.sessionPersistence)==null?void 0:n.get_property(Ri))==="identified"}Zr(){var e,n;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&Uo(this.getGroups())&&((e=this.persistence)==null||(e=e.props)==null||!e[Iu])&&((n=this.persistence)==null||(n=n.props)==null||!n[Zf]))}Yr(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.Zr()||this.ts("posthog.createPersonProfile")&&this.setPersonProperties({},{})}ts(e){return this.config.person_profiles==="never"?(de.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.es(Zf,!0),!0)}Nr(){if(this.config.cookieless_mode==="always")return!0;var e=this.consent.isOptedOut(),n=this.config.opt_out_persistence_by_default||this.config.cookieless_mode==="on_reject";return this.config.disable_persistence||e&&!!n}rs(){var e,n,r,a,o=this.Nr();return((e=this.persistence)==null?void 0:e.bi)!==o&&((r=this.persistence)==null||r.set_disabled(o)),((n=this.sessionPersistence)==null?void 0:n.bi)!==o&&((a=this.sessionPersistence)==null||a.set_disabled(o)),o}opt_in_capturing(e){var n;if(this.config.cookieless_mode!=="always"){var r,a;this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),(r=this.sessionManager)==null||r.destroy(),this.sessionManager=new L1(this),this.persistence&&(this.sessionPropsManager=new N1(this,this.sessionManager,this.persistence)),this.sessionRecording=new U1(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.rs(),this.Jr(),(n=this.sessionRecording)==null||n.startIfEnabledOrStop(),this.config.cookieless_mode=="on_reject"&&this.surveys.loadIfEnabled(),(oe(e==null?void 0:e.captureEventName)||e!=null&&e.captureEventName)&&this.capture((a=e==null?void 0:e.captureEventName)!==null&&a!==void 0?a:"$opt_in",e==null?void 0:e.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Kr()}else de.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var e,n;this.config.cookieless_mode!=="always"?(this.config.cookieless_mode==="on_reject"&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.rs(),this.config.cookieless_mode==="on_reject"&&(this.register({distinct_id:bu,$device_id:null}),(e=this.sessionManager)==null||e.destroy(),this.sessionManager=void 0,this.sessionPropsManager=void 0,(n=this.sessionRecording)==null||n.stopRecording(),this.sessionRecording=void 0,this.Kr())):de.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var e=this.consent.consent;return e===Ai.GRANTED?"granted":e===Ai.DENIED?"denied":"pending"}is_capturing(){return this.config.cookieless_mode==="always"||(this.config.cookieless_mode==="on_reject"?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.rs()}_is_bot(){return Wn?fk(Wn,this.config.custom_blocked_useragents):void 0}Kr(){ue&&(ue.visibilityState==="visible"?this.Fr||(this.Fr=!0,this.capture("$pageview",{title:ue.title},{send_instantly:!0}),this.Mr&&(ue.removeEventListener("visibilitychange",this.Mr),this.Mr=null)):this.Mr||(this.Mr=this.Kr.bind(this),$t(ue,"visibilitychange",this.Mr)))}debug(e){e===!1?(B==null||B.console.log("You've disabled debug mode."),this.set_config({debug:!1})):(B==null||B.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),this.set_config({debug:!0}))}O(){var e,n,r,a,o,u,d,f=this.jr||{};return"advanced_disable_flags"in f?!!f.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(de.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(r="advanced_disable_decide",a=!1,o=de,u=(n="advanced_disable_flags")in(e=f)&&!oe(e[n]),d=r in e&&!oe(e[r]),u?e[n]:d?(o&&o.warn("Config field '"+r+"' is deprecated. Please use '"+n+"' instead. The old field will be removed in a future major version."),e[r]):a)}Qr(e){if(Ze(this.config.before_send))return e;var n=et(this.config.before_send)?this.config.before_send:[this.config.before_send],r=e;for(var a of n){if(r=a(r),Ze(r)){var o="Event '"+e.event+"' was rejected in beforeSend function";return $4(e.event)?de.warn(o+". This can cause unexpected behavior."):de.info(o),null}r.properties&&!Uo(r.properties)||de.warn("Event '"+e.event+"' has no properties after beforeSend function, this is likely an error.")}return r}getPageViewId(){var e;return(e=this.pageViewManager.Vt)==null?void 0:e.pageViewId}captureTraceFeedback(e,n){this.capture("$ai_feedback",{$ai_trace_id:String(e),$ai_feedback_text:n})}captureTraceMetric(e,n,r){this.capture("$ai_metric",{$ai_trace_id:String(e),$ai_metric_name:n,$ai_metric_value:String(r)})}Dr(e){var n=Ni(e)&&!e,r=wt.H()&&wt.q("ph_debug")==="true";return!n&&(!!r||e)}}(function(t,e){for(var n=0;n<e.length;n++)t.prototype[e[n]]=c6(t.prototype[e[n]])})(Ih,["identify"]);var j1,ca=(j1=Yu[Mo]=new Ih,(function(){function t(){t.done||(t.done=!0,hk=!1,ht(Yu,(function(e){e._dom_loaded()})))}ue!=null&&ue.addEventListener?ue.readyState==="complete"?t():$t(ue,"DOMContentLoaded",t,{capture:!1}):B&&de.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")})(),j1),pk=$.createContext({client:ca,bootstrap:void 0});function mk(t,e,n){if(n===void 0&&(n=new WeakMap),t===e)return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(n.has(t)&&n.get(t)===e)return!0;n.set(t,e);var r=Object.keys(t),a=Object.keys(e);if(r.length!==a.length)return!1;for(var o=0,u=r;o<u.length;o++){var d=u[o];if(!a.includes(d)||!mk(t[d],e[d],n))return!1}return!0}function X8(t){var e,n,r=t.children,a=t.client,o=t.apiKey,u=t.options,d=$.useRef(null),f=$.useMemo(function(){return a?(o&&console.warn("[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`."),u&&console.warn("[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`."),a):(o||console.warn("[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior."),ca)},[a,o,JSON.stringify(u)]);return $.useEffect(function(){if(!a){var h=d.current;h?(o!==h.apiKey&&console.warn("[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop."),u&&!mk(u,h.options)&&ca.set_config(u),d.current={apiKey:o,options:u??{}}):(ca.__loaded&&console.warn("[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues."),ca.init(o,u),d.current={apiKey:o,options:u??{}})}},[a,o,JSON.stringify(u)]),Z.createElement(pk.Provider,{value:{client:f,bootstrap:(e=u==null?void 0:u.bootstrap)!==null&&e!==void 0?e:(n=a==null?void 0:a.config)===null||n===void 0?void 0:n.bootstrap}},r)}var Xg=function(t){return typeof t=="function"},u_=function(t,e){return u_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},u_(t,e)};function K8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");u_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var W8={componentStack:null,exceptionEvent:null,error:null},J8={INVALID_FALLBACK:"[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element."};(function(t){K8(e,t);function e(n){var r=t.call(this,n)||this;return r.state=W8,r}return e.prototype.componentDidCatch=function(n,r){var a=this.props.additionalProperties,o;Xg(a)?o=a(n):typeof a=="object"&&(o=a);var u=this.context.client,d=u.captureException(n,o),f=r.componentStack;this.setState({error:n,componentStack:f??null,exceptionEvent:d})},e.prototype.render=function(){var n=this.props,r=n.children,a=n.fallback,o=this.state;if(o.componentStack==null)return Xg(r)?r():r;var u=Xg(a)?Z.createElement(a,{error:o.error,componentStack:o.componentStack,exceptionEvent:o.exceptionEvent}):a;return Z.isValidElement(u)?u:(console.warn(J8.INVALID_FALLBACK),Z.createElement(Z.Fragment,null))},e.contextType=pk,e})(Z.Component);const Q8=()=>ca;/*! Capacitor: https://capacitorjs.com/ - MIT License */var il;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(il||(il={}));class Kg extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const Z8=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},eF=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},r=n.Plugins=n.Plugins||{},a=()=>e!==null?e.name:Z8(t),o=()=>a()!=="web",u=v=>{const _=h.get(v);return!!(_!=null&&_.platforms.has(a())||d(v))},d=v=>{var _;return(_=n.PluginHeaders)===null||_===void 0?void 0:_.find(b=>b.name===v)},f=v=>t.console.error(v),h=new Map,g=(v,_={})=>{const b=h.get(v);if(b)return console.warn(`Capacitor plugin "${v}" already registered. Cannot register plugins twice.`),b.proxy;const S=a(),w=d(v);let T;const x=async()=>(!T&&S in _?T=typeof _[S]=="function"?T=await _[S]():T=_[S]:e!==null&&!T&&"web"in _&&(T=typeof _.web=="function"?T=await _.web():T=_.web),T),I=(z,ne)=>{var K,te;if(w){const se=w==null?void 0:w.methods.find(ce=>ne===ce.name);if(se)return se.rtype==="promise"?ce=>n.nativePromise(v,ne.toString(),ce):(ce,le)=>n.nativeCallback(v,ne.toString(),ce,le);if(z)return(K=z[ne])===null||K===void 0?void 0:K.bind(z)}else{if(z)return(te=z[ne])===null||te===void 0?void 0:te.bind(z);throw new Kg(`"${v}" plugin is not implemented on ${S}`,il.Unimplemented)}},D=z=>{let ne;const K=(...te)=>{const se=x().then(ce=>{const le=I(ce,z);if(le){const _e=le(...te);return ne=_e==null?void 0:_e.remove,_e}else throw new Kg(`"${v}.${z}()" is not implemented on ${S}`,il.Unimplemented)});return z==="addListener"&&(se.remove=async()=>ne()),se};return K.toString=()=>`${z.toString()}() { [capacitor code] }`,Object.defineProperty(K,"name",{value:z,writable:!1,configurable:!1}),K},q=D("addListener"),ee=D("removeListener"),Q=(z,ne)=>{const K=q({eventName:z},ne),te=async()=>{const ce=await K;ee({eventName:z,callbackId:ce},ne)},se=new Promise(ce=>K.then(()=>ce({remove:te})));return se.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await te()},se},O=new Proxy({},{get(z,ne){switch(ne){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return w?Q:q;case"removeListener":return ee;default:return D(ne)}}});return r[v]=O,h.set(v,{name:v,proxy:O,platforms:new Set([...Object.keys(_),...w?[S]:[]])}),O};return n.convertFileSrc||(n.convertFileSrc=v=>v),n.getPlatform=a,n.handleError=f,n.isNativePlatform=o,n.isPluginAvailable=u,n.registerPlugin=g,n.Exception=Kg,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},tF=t=>t.Capacitor=eF(t),uh=tF(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Dh=uh.registerPlugin;class My{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const o=this.windowListeners[e];o&&!o.registered&&this.addWindowListener(o),r&&this.sendRetainedArgumentsForEvent(e);const u=async()=>this.removeListener(e,n);return Promise.resolve({remove:u})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const a=this.listeners[e];if(!a){if(r){let o=this.retainedEventArguments[e];o||(o=[]),o.push(n),this.retainedEventArguments[e]=o}return}a.forEach(o=>o(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new uh.Exception(e,il.Unimplemented)}unavailable(e="not available"){return new uh.Exception(e,il.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const a=r.indexOf(n);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const H1=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),B1=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class nF extends My{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[a,o]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=B1(a).trim(),o=B1(o).trim(),n[a]=o}),n}async setCookie(e){try{const n=H1(e.key),r=H1(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),u=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${a}; path=${o}; ${u};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Dh("CapacitorCookies",{web:()=>new nF});const rF=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const a=r.result;e(a.indexOf(",")>=0?a.split(",")[1]:a)},r.onerror=a=>n(a),r.readAsDataURL(t)}),iF=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(a=>a.toLocaleLowerCase()).reduce((a,o,u)=>(a[o]=t[e[u]],a),{})},sF=(t,e=!0)=>t?Object.entries(t).reduce((r,a)=>{const[o,u]=a;let d,f;return Array.isArray(u)?(f="",u.forEach(h=>{d=e?encodeURIComponent(h):h,f+=`${o}=${d}&`}),f.slice(0,-1)):(d=e?encodeURIComponent(u):u,f=`${o}=${d}`),`${r}&${f}`},"").substr(1):null,aF=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),a=iF(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(a.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[u,d]of Object.entries(t.data||{}))o.set(u,d);n.body=o.toString()}else if(a.includes("multipart/form-data")||t.data instanceof FormData){const o=new FormData;if(t.data instanceof FormData)t.data.forEach((d,f)=>{o.append(f,d)});else for(const d of Object.keys(t.data))o.append(d,t.data[d]);n.body=o;const u=new Headers(n.headers);u.delete("content-type"),n.headers=u}else(a.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class oF extends My{async request(e){const n=aF(e,e.webFetchExtra),r=sF(e.params,e.shouldEncodeUrlParams),a=r?`${e.url}?${r}`:e.url,o=await fetch(a,n),u=o.headers.get("content-type")||"";let{responseType:d="text"}=o.ok?e:{};u.includes("application/json")&&(d="json");let f,h;switch(d){case"arraybuffer":case"blob":h=await o.blob(),f=await rF(h);break;case"json":f=await o.json();break;case"document":case"text":default:f=await o.text()}const g={};return o.headers.forEach((v,_)=>{g[_]=v}),{data:f,headers:g,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Dh("CapacitorHttp",{web:()=>new oF});var F1;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(F1||(F1={}));var q1;(function(t){t.StatusBar="StatusBar",t.NavigationBar="NavigationBar"})(q1||(q1={}));class lF extends My{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}Dh("SystemBars",{web:()=>new lF});const G1=Dh("App",{web:()=>Qn(()=>import("./web-BuvPdBEP.js"),[]).then(t=>new t.AppWeb)}),uF=Q8();D4({dsn:"https://034f34925fcea03fb056b707b65e5283@o4510364433580032.ingest.de.sentry.io/4510364452126800",integrations:[C4(),u4()],tracesSampleRate:1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1});uh.isNativePlatform()&&G1.addListener("backButton",({canGoBack:t})=>{t?window.history.back():G1.exitApp()});const gk=document.getElementById("root");if(!gk)throw new Error("Could not find root element to mount to");const cF=zM.createRoot(gk);cF.render(Oe.jsx(Z.StrictMode,{children:Oe.jsx(YD,{children:Oe.jsx(X8,{client:uF,children:Oe.jsx(mx,{children:Oe.jsx(ZI,{children:Oe.jsx(NL,{children:Oe.jsx(v3,{})})})})})})}));export{bF as A,mf as E,pF as F,fF as H,ox as L,VD as M,yF as P,Z as R,GD as T,Gr as V,My as W,Qn as _,p_ as a,_F as b,vx as c,hF as d,wF as e,cw as f,RF as g,xF as h,TF as i,Oe as j,AF as k,SF as l,EF as m,gf as n,Cr as o,sl as p,mF as q,$ as r,_n as s,JL as t,R_ as u,gF as v,vF as w,Zr as x};
